function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}/*! For license information please see main-es2015.c5f0102d335cf2d8403a.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a);n.d(e,"a",(function(){return i}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(r)},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),a=n("q/0M"),s=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.F)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.z)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),c=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new l},h=c("localStorage"),f=c("sessionStorage"),d=new a.b("@firebase/database"),p=(e=1,function(){return e++}),v=function(t){var e=Object(o.E)(t),n=new o.c;n.update(e);var r=n.digest();return o.f.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?Object(o.F)(a):a,r+=" "}return r},m=null,g=!0,_=function(t,e){Object(o.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=a.a.VERBOSE,m=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,f.remove("logging_enabled"))},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===g&&(g=!1,null===m&&!0===f.get("logging_enabled")&&_(!0)),m){var n=y.apply(null,t);m(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];b.apply(void 0,Object(i.f)([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i.f)(t));d.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i.f)(t));throw d.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i.f)(t));d.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",T="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===O||e===T)return-1;if(e===O||t===T)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.F)(e))},A=function t(e){if("object"!=typeof e||null===e)return Object(o.F)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.F)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var R,j,L,F,M,V,U,q,H,B,z=function(t){var e,n,r,i,a;Object(o.d)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},W=new RegExp("^-?(0*)\\d{1,10}$"),G=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(e){setTimeout((function(){throw E("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},K=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Y=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),X=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.D)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.D)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.D)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.d)("string"==typeof t,"typeof type must == string"),Object(o.d)("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return P(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}(),$=function(t,e){var n=tt(t),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new Y(n.pathString)}},tt=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",l=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(c=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},et=/[\[\].#$\/\u0000-\u001F\u007F]/,nt=/[\[\].#$\u0000-\u001F\u007F]/,rt=function(t){return"string"==typeof t&&0!==t.length&&!et.test(t)},it=function(t){return"string"==typeof t&&0!==t.length&&!nt.test(t)},ot=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.h)(t,".sv")},at=function(t,e,n,r,i){i&&void 0===n||st(Object(o.l)(t,e,i),n,r)},st=function t(e,n,r){var i=r instanceof Y?new X(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&Object(o.D)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(P(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!rt(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ut=function(t,e,n,r,i){if(!i||void 0!==n){var a=Object(o.l)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];P(n,(function(t,e){var n=new Y(t);if(st(a,e,r.child(n)),".priority"===n.getBack()&&!ot(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!rt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Y.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},lt=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.l)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ot(n))throw new Error(Object(o.l)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||rt(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft(t,e,n,r)},pt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!rt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),it(t)}(r))throw new Error(Object(o.l)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(t,e,r)+"must be a boolean.")},mt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.G)("OnDisconnect.cancel",0,1,arguments.length),Object(o.H)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.G)("OnDisconnect.remove",0,1,arguments.length),pt("OnDisconnect.remove",this.path_),Object(o.H)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.G)("OnDisconnect.set",1,2,arguments.length),pt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),Object(o.H)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.G)("OnDisconnect.setWithPriority",2,3,arguments.length),pt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),lt("OnDisconnect.setWithPriority",2,e,!1),Object(o.H)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.G)("OnDisconnect.update",1,2,arguments.length),pt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("OnDisconnect.update",1,t,this.path_,!1),Object(o.H)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),gt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.G)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),_t=(R="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,L=[],function(t){var e,n=t===j;j=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=R.charAt(t%64),t=Math.floor(t/64);Object(o.d)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===L[e];e--)L[e]=0;L[e]++}else for(e=0;e<12;e++)L[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=R.charAt(L[e]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(O,t),r=new bt(O,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return F},set:function(t){F=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(T,F)},e.prototype.makePost=function(t,e){return Object(o.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bt(t,F)},e.prototype.toString=function(){return".key"},e}(wt),kt=new Ct,Et=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},St=function(t){if(t.isLeafNode()){var e=t.val();Object(o.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.h)(e,".sv"),"Priority must be a string or number.")}else Object(o.d)(t===M||t.isEmpty(),"priority of unexpected type.");Object(o.d)(t===M||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ot=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),St(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return V},set:function(t){V=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Et(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Tt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(T,new Ot("[PRIORITY-POST]",q))},e.prototype.makePost=function(t,e){var n=U(t);return new bt(e,new Ot("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),It=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:At.EMPTY_NODE,this.right=null!=o?o:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Nt=Math.log(2),Pt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new xt(a,o.node,xt.BLACK,null,null);var u=parseInt(s/2,10)+r,l=e(r,u),c=e(u+1,i);return o=t[u],a=n?n(o):o,new xt(a,o.node,xt.BLACK,l,c)}(i+1,a),l=t[i],c=n?n(l):l;s(new xt(c,l.node,r,null,u))},s=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?a(c,xt.BLACK):(a(c,xt.BLACK),a(c,xt.RED))}return i}(new Pt(t.length));return new At(r||e,i)},jt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.d)(jt&&Tt,"ChildrenNode.ts has not been loaded"),H=H||new t({".priority":jt},{".priority":Tt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.C)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof At?e:null},t.prototype.hasIndex=function(t){return Object(o.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.d)(e!==kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(bt.Wrap),l=u.getNext();l;)s=s||e.isDefinedOn(l.node),a.push(l),l=u.getNext();r=s?Rt(a,e.getCompare()):jt;var c=e.toString(),h=Object(i.a)({},this.indexSet_);h[c]=e;var f=Object(i.a)({},this.indexes_);return f[c]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.A)(this.indexes_,(function(t,i){var a=Object(o.C)(r.indexSet_,i);if(Object(o.d)(a,"Missing index implementation for "+i),t===jt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(bt.Wrap),l=u.getNext();l;)l.name!==e.name&&s.push(l),l=u.getNext();return s.push(e),Rt(s,a.getCompare())}return jt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new bt(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.A)(this.indexes_,(function(t){if(t===jt)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t})),this.indexSet_)},t}();function Ft(t,e){return I(t.name,e.name)}function Mt(t,e){return I(t,e)}var Vt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return B||(B=new t(new At(Mt),null,Lt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||B},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?B:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new bt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?B:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.d)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Tt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Et(this.getPriority().val())+":"),this.forEachChild(Tt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Tt),r=e.getIterator(Tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new At(Mt),Vt.EMPTY_NODE,Lt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));function qt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ot(t,qt(e));if(t instanceof Array){var n=Vt.EMPTY_NODE;return P(t,(function(e,r){if(Object(o.h)(t,e)&&"."!==e.substring(0,1)){var i=qt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(qt(e))}var r=[],i=!1;if(P(t,(function(t,e){if("."!==t.substring(0,1)){var n=qt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bt(t,n)))}})),0===r.length)return Vt.EMPTY_NODE;var a=Rt(r,Ft,(function(t){return t.name}),Mt);if(i){var s=Rt(r,Tt.getCompare());return new Vt(a,qt(e),new Lt({".priority":s},{".priority":Tt}))}return new Vt(a,qt(e),Lt.Default)}Object.defineProperties(bt,{MIN:{value:new bt(O,Vt.EMPTY_NODE)},MAX:{value:new bt(T,Ut)}}),Ct.__EMPTY_NODE=Vt.EMPTY_NODE,Ot.__childrenNodeConstructor=Vt,M=Ut,q=Ut,function(t){U=t}(qt);var Ht,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.d)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new bt(T,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),Wt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.G)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.G)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.G)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.G)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.G)("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new Y(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Tt)},t.prototype.hasChild=function(t){Object(o.G)("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new Y(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.G)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.G)("DataSnapshot.forEach",1,1,arguments.length),Object(o.H)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Tt))}))},t.prototype.hasChildren=function(){return Object(o.G)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.G)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.G)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.F)(this.snapshot.exportVal())},t}(),Qt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Kt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Gt("value",this,new Wt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.h)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Qt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.d)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Gt(t.type,this,new Wt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.d)(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==O)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Tt){if(null!=e&&!ot(e)||null!=n&&!ot(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(t.getIndex()instanceof zt||t.getIndex()===Bt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.G)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.G)("Query.on",2,4,arguments.length),ct("Query.on",1,e,!1),Object(o.H)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Kt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.G)("Query.off",0,3,arguments.length),ct("Query.off",1,t,!0),Object(o.H)("Query.off",2,e,!0),Object(o.I)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Kt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Yt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var a=this;Object(o.G)("Query.once",1,4,arguments.length),ct("Query.once",1,e,!1),Object(o.H)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,l=new o.a;l.promise.catch((function(){}));var c=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),l.resolve(r))};return this.on(e,c,(function(t){a.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(Object(o.G)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.G)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.G)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Y(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new zt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.G)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.G)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.G)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),ht("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),ht("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.G)("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),ht("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.G)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.G)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.G)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.H)(t,3,r.cancel,!0),r.context=n,Object(o.I)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.l)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),$t=function(t,e,n){return t&&"object"==typeof t?(Object(o.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?te(t[".sv"],e,n):"object"==typeof t[".sv"]?ee(t[".sv"],e):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},te=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+t)}},ee=function(t,e,n){t.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},ne=function(t,e,n,r){return ie(e,new Zt(n,t),r)},re=function(t,e,n){return ie(t,new Jt(e),n)};function ie(t,e,n){var r,i=t.getPriority().val(),o=$t(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=$t(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ot(s,qt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ot(o))),u.forEachChild(Tt,(function(t,i){var o=ie(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var oe,ae,se=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Tt,(function(t,e){n.remember(new Y(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Y(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ue=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),le=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.d)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ue.ACK_USER_WRITE,this.source=le.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Y(e));return new t(Y.Empty,n,this.revert)}return Object(o.d)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),he=function(){function t(t,e){void 0===e&&(oe||(oe=new At(x)),e=oe),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return P(e,(function(t,e){n=n.set(new Y(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Y.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Y(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Y.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Y.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Y.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Y.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=ue.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ue.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Y.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ue.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new de(this.source,Y.Empty,n.value):new t(this.source,Y.Empty,n)}return Object(o.d)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ve(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ve(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ve(Vt.EMPTY_NODE,!1,!1),new ve(Vt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(me.childRemovedChange(e,s)):Object(o.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(me.childAddedChange(e,n)):a.trackChildChange(me.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Tt,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Tt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),_e=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.d)(e===me.CHILD_ADDED||e===me.CHILD_CHANGED||e===me.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===me.CHILD_ADDED&&i===me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===me.CHILD_REMOVED&&i===me.CHILD_ADDED)this.changeMap.delete(n);else if(e===me.CHILD_REMOVED&&i===me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e===me.CHILD_CHANGED&&i===me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!==me.CHILD_CHANGED||i!==me.CHILD_CHANGED)throw Object(o.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),we=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ce=function(t,e){this.viewCache=t,this.changes=e},ke=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.d)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.d)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new _e;if(n.type===ue.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,i,u):(Object(o.d)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,i,s,u))}else if(n.type===ue.MERGE){var c=n;c.source.fromUser?a=this.applyUserMerge_(e,c.path,c.children,r,i,u):(Object(o.d)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,c.path,c.children,r,i,s,u))}else if(n.type===ue.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ue.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Ce(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(Object(o.d)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(l instanceof Vt?l:Vt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){Object(o.d)(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=p?this.filter_.updatePriority(d,p):a.getNode()}else{var v=e.popFront(),y=void 0;if(a.isCompleteForChild(f)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);y=null!=m?a.getNode().getImmediateChild(f).updateChild(v,m):a.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,t.getServerCache());s=null!=y?this.filter_.updateChild(a.getNode(),f,y,v,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?l.updatePriority(u.getNode(),d):l.updateChild(u.getNode(),h,d,f,be,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),v=new we(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new we(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(c),d=void 0;if(h.isEmpty())d=n;else{var p=l.getCompleteChild(c);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Vt.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),c,d,h,l,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:he.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new Y(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new Y(e),f,r,i,o,a)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=he.Empty;return s.getNode().forEachChild(kt,(function(t,e){u=u.set(new Y(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=he.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,be,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new we(n,t,r),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.d)(h instanceof Vt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(u,c=c,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(l=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Vt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Y.Empty),t.updateEventSnap(l,a,this.filter_.filtersNodes())},t}(),Ee=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.e)("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Se=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ge(n.getIndex()),i=n.getNodeFilter();this.processor_=new ke(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),l=new ve(s,o.isFullyInitialized(),r.filtersNodes()),c=new ve(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(c,l),this.eventGenerator_=new Ee(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.d)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ue.MERGE&&null!==t.source.queryId&&(Object(o.d)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.d)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.d)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Tt,(function(t,e){n.push(me.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Oe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.d)(ae,"Reference.ts has not been loaded"),ae},set:function(t){Object(o.d)(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return Object(o.d)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=Object(i.h)(this.views.values()),h=c.next();!h.done;h=c.next())l=l.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Vt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Vt.EMPTY_NODE,u=!1);var l=new ye(new ve(s,u,!1),new ve(r,i,!1));a=new Se(t,l),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===s)try{for(var h=Object(i.h)(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=Object(i.e)(f.value,2),v=p[0];l=l.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(s))&&(l=l.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),a=o.next();!a.done;a=o.next())r=r||a.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new he(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Y.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new he(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return P(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,he.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Y.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Tt,(function(e,n){t.push(new bt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new he(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(o.d)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=t(e.child(n),a,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Y.Empty,this.writeTree_,t)},t.Empty=new t(new he(null)),t}(),Ie=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.d)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.d)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):P(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Y.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Vt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Y.Empty)?s.apply(n||Vt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Vt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Tt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Tt,(function(t,e){var r=i.childCompoundWrite(new Y(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.d)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Y.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Y.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=Y.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=Y.relativePath(s,n),r=r.addWrite(Y.Empty,a.snap.getChild(u)));else{if(!a.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(n.contains(s))u=Y.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=Y.relativePath(s,n)).isEmpty())r=r.addWrites(Y.Empty,a.children);else{var l=Object(o.C)(a.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(Y.Empty,c)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),De=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=he.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(le.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=he.fromObject(e);return this.applyOperationToSyncPoints_(new pe(le.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=he.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):P(n.children,(function(t,e){r=r.set(new Y(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(le.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=he.fromObject(e);return this.applyOperationToSyncPoints_(new pe(le.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(le.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Y.relativePath(a,e),l=new de(le.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Y.relativePath(a,e),l=he.fromObject(n),c=new pe(le.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Y.relativePath(o,e),u=new fe(le.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Y.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(Y.Empty)):(u=new Oe,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Y.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);Object(o.d)(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,s);if(!l&&!a){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],y=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Y.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),P(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.d)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),P(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.d)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Y.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Y.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ae=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ne=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.j)(this.counters_)},t}(),Pe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ne),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&P(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;P(e,(function(e,i){i>0&&Object(o.h)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();m&&b("event: "+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Me=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.d)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Me),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.t)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Me),qe=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),He=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=Pe.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new qe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.v)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Be((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&J.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.v)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.g)(e),r=N(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.v)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.F)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Be=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.v)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||b("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.v)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){b("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),ze="";function We(t){ze=t}var Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var Qe=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=Pe.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.v)()&&"undefined"!=typeof location&&location.hostname&&J.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.v)()){var r={headers:{"User-Agent":"Firebase/5/"+ze+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Ge(this.connURL,[],r)}else this.mySock=new Ge(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.z)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ke=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Qe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Qe&&Qe.isAvailable(),a=o&&!Qe.previouslyFailed();if(e.webSocketOnly&&(o||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Qe];else{var s=this.transports_=[];try{for(var u=Object(i.h)(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Ke(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=K((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),K((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=function(t){function e(n,r,i,a,s,u,l){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=s,c.authTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=w("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Object(o.v)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Ve.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Ue.getInstance().on("online",c.onOnline_,c),c}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.F)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.h)(t,"w")){var n=Object(o.C)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.n)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.y)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.F)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.F)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.d)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){l?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,c=new Ye(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){E(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&E(e),h())}))}},e.prototype.interrupt=function(t){b("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){b("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.r)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return A(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Y(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){b("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(s.values())),l=u.next();!l.done;l=u.next())this.sendListen_(l.value)}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.v)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+ze.replace(/\./g,"-")]=1,Object(o.t)()?t["framework.cordova"]=1:Object(o.w)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return Object(o.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.d)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.C)(a.listens_,u)===l&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.B)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.z)(u.responseText)}catch(e){E("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&E("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(Xe),$e=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Le,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new se,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Pe.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.F)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new Je(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Pe.getOrCreateReporter(this.repoInfo_,(function(){return new je(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Ae,this.infoSyncTree_=new De({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new De({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Y(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=Object(o.A)(e,(function(t){return qt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=qt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=Object(o.A)(e,(function(t){return qt(t)}));a=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=qt(e);a=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;P(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Y("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=qt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new Wt(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(o.F)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new Wt(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=re(a,s,o),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,u,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||E("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(P(e,(function(e,n){i=!1,a[e]=ne(t.child(e),qt(n),r.serverSyncTree_,o)})),i)b("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||E("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),P(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new se;this.onDisconnect_.forEachTree(Y.Empty,(function(r,i){var o=ne(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Y.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new se,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.r)(e))return b("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&P(e,(function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Re(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);P(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),b.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!1,configurable:!0}),t}(),tn=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new bt(e,n))||(n=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(Tt,(function(t,e){i.matches(new bt(t,e))||(r=r.updateImmediateChild(t,Vt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),en=function(){function t(t){this.rangedFilter_=new tn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new bt(e,n))||(n=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Vt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.d)(u.numChildren()===this.limit_,"");var l=new bt(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(me.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(c,l)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(c.name,c.node)),i.trackChildChange(me.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,Vt.EMPTY_NODE)):t},t}(),nn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Tt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Tt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ge(this.getIndex()):this.hasLimit()?new en(this):new tn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Tt?e=n.PRIORITY_INDEX:this.index_===Bt?e=n.VALUE_INDEX:this.index_===kt?e=n.KEY_INDEX:(Object(o.d)(this.index_ instanceof zt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.F)(e),this.startSet_&&(r[n.START_AT]=Object(o.F)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.F)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.F)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.F)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),rn=function(t){function e(e,n){if(!(e instanceof $e))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,nn.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.G)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.G)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Y||(null===this.path.getFront()?dt("Reference.child",1,t,!1):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.G)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.G)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.G)("Reference.set",1,2,arguments.length),pt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),Object(o.H)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.G)("Reference.update",1,2,arguments.length),pt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("Reference.update",1,t,this.path,!1),Object(o.H)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.G)("Reference.setWithPriority",2,3,arguments.length),pt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),lt("Reference.setWithPriority",2,e,!1),Object(o.H)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.G)("Reference.remove",0,1,arguments.length),pt("Reference.remove",this.path),Object(o.H)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.G)("Reference.transaction",1,3,arguments.length),pt("Reference.transaction",this.path),Object(o.H)("Reference.transaction",1,t,!1),Object(o.H)("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new gt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.G)("Reference.setPriority",1,2,arguments.length),pt("Reference.setPriority",this.path),lt("Reference.setPriority",1,t,!1),Object(o.H)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.G)("Reference.push",0,2,arguments.length),pt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),Object(o.H)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=_t(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return pt("Reference.onDisconnect",this.path),new mt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xt);Xt.__referenceConstructor=rn,Oe.__referenceConstructor=rn;var on=function(){this.children={},this.childCount=0,this.value=null},an=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new on),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Y?e:new Y(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.C)(r.node_.children,i)||new on),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.d)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;P(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.h)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),sn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});$e.MAX_TRANSACTION_RETRIES_=25,$e.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},$e.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new rn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Wt(s.currentInputSnapshot,new rn(this,s.path),Tt);s.onComplete(null,!1,c)}}else{st("transaction failed: Data returned ",l,s.path),s.status=sn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;"object"==typeof l&&null!==l&&Object(o.h)(l,".priority")?(d=Object(o.C)(l,".priority"),Object(o.d)(ot(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val(),d=d;var v=this.generateServerValues(),y=qt(l,d),m=re(y,u,v);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},$e.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},$e.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===sn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},$e.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var l=e[u];Object(o.d)(l.status===sn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=sn.SENT,l.retryCount++;var c=Y.relativePath(t,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=sn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new rn(n,e[a].path),l=new Wt(s,u,Tt);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)Q(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===sn.SENT_NEEDS_ABORT?sn.NEEDS_ABORT:sn.RUN;else for(E("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=sn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),s)},$e.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},$e.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===sn.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s=t[a],u=Y.relativePath(e,s.path),l=!1,c=void 0;if(Object(o.d)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===sn.NEEDS_ABORT)l=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===sn.RUN)if(s.retryCount>=$e.MAX_TRANSACTION_RETRIES_)l=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){st("transaction failed: Data returned ",f,s.path);var d=qt(f);"object"==typeof f&&null!=f&&Object(o.h)(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=s.currentWriteId,v=this.generateServerValues(),y=re(d,h,v);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,y,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else l=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],l&&(t[a].status=sn.COMPLETED,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete))if("nodata"===c){var m=new rn(this,t[a].path),g=new Wt(t[a].currentInputSnapshot,m,Tt);n.push(t[a].onComplete.bind(null,null,!1,g))}else n.push(t[a].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<n.length;a++)Q(n[a]);this.sendReadyTransactions_()}},$e.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},$e.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},$e.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},$e.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==sn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},$e.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},$e.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)e[a].status===sn.SENT_NEEDS_ABORT||(e[a].status===sn.SENT?(Object(o.d)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=sn.SENT_NEEDS_ABORT,e[a].abortReason="set"):(Object(o.d)(e[a].status===sn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete&&n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),a=0;a<n.length;a++)Q(n[a])}};var un,ln=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),cn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),hn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next())this.repos_[s][l.value].interrupt()}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next())this.repos_[s][l.value].resume()}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new Z(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new cn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=$(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=$(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var l=r&&o?new cn:new ln(t,e);return vt("Invalid Firebase Database URL",1,a),a.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,l).database},t.prototype.deleteRepo=function(t){var e=Object(o.C)(this.repos_,t.app.name);e&&Object(o.C)(e,t.key)===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.C)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.C)(r,t.toURLString());return i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new $e(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof $e||k("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new rn(this.repo_,Y.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?k("Cannot call useEmulator() after instance has already been initialized."):hn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.G)("database.ref",0,1,arguments.length),t instanceof rn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.G)(e,1,1,arguments.length);var n=$(t,this.repo_.repoInfo_.nodeAdmin);vt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.G)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.G)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),dn=Object.freeze({__proto__:null,forceLongPolling:function(){Qe.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,a=void 0!==o&&o;We(t.version);var u=new s.c("auth-internal",new s.b("database-standalone"));return u.setComponent(new s.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:hn.getInstance().databaseFromApp(e,u,n,a),namespace:i}}}),pn=Je;Je.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Je.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Ye,hijackHash:function(t){var e=Je.prototype.put;return Je.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Je.prototype.put=e}},ConnectionTarget:Z,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){hn.getInstance().forceRestClient(t)}}),yn=fn.ServerValue;!function(e){We(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return hn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:rn,Query:Xt,Database:fn,DataSnapshot:Wt,enableLogging:_,INTERNAL:dn,ServerValue:yn,TEST_ACCESS:vn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.3"),Object(o.v)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";var r=1,i={},o=function(t){var e=r++;return i[e]=t,Promise.resolve().then((function(){return function(t){var e=i[t];e&&e()}(e)})),e},a=function(t){delete i[t]},s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=o(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(a(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a);n.d(e,"a",(function(){return l}));var l=new u(s)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,l;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var c=_assertThisInitialized(u);return Object(r.a)(o)?l=o:o&&(l=o.next,a=o.error,s=o.complete,o!==i.a&&(c=Object.create(o),Object(r.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(l)},"8Y7J":function(t,e,n){"use strict";n.d(e,"kb",(function(){return Yo})),n.d(e,"lb",(function(){return Xo})),n.d(e,"mb",(function(){return Jo})),n.d(e,"nb",(function(){return Zo})),n.d(e,"jb",(function(){return Qi})),n.d(e,"ib",(function(){return Ri})),n.d(e,"g",(function(){return jo})),n.d(e,"R",(function(){return Ao})),n.d(e,"w",(function(){return Do})),n.d(e,"S",(function(){return Vt})),n.d(e,"W",(function(){return Mt})),n.d(e,"c",(function(){return Gi})),n.d(e,"A",(function(){return Yi})),n.d(e,"z",(function(){return Xi})),n.d(e,"b",(function(){return Ji})),n.d(e,"d",(function(){return zi})),n.d(e,"e",(function(){return Wi})),n.d(e,"U",(function(){return Go})),n.d(e,"L",(function(){return Eo})),n.d(e,"Y",(function(){return Oo})),n.d(e,"s",(function(){return $i})),n.d(e,"f",(function(){return $o})),n.d(e,"m",(function(){return qi})),n.d(e,"l",(function(){return jt})),n.d(e,"F",(function(){return le})),n.d(e,"G",(function(){return ue})),n.d(e,"a",(function(){return ze})),n.d(e,"P",(function(){return B})),n.d(e,"N",(function(){return Sn})),n.d(e,"M",(function(){return On})),n.d(e,"Pb",(function(){return v})),n.d(e,"T",(function(){return b})),n.d(e,"p",(function(){return Le})),n.d(e,"Qb",(function(){return R})),n.d(e,"V",(function(){return j})),n.d(e,"o",(function(){return T})),n.d(e,"n",(function(){return l})),n.d(e,"y",(function(){return c})),n.d(e,"H",(function(){return f})),n.d(e,"x",(function(){return mo})),n.d(e,"C",(function(){return kn})),n.d(e,"D",(function(){return wn})),n.d(e,"E",(function(){return Cn})),n.d(e,"i",(function(){return so})),n.d(e,"j",(function(){return vn})),n.d(e,"k",(function(){return _n})),n.d(e,"t",(function(){return V})),n.d(e,"v",(function(){return M})),n.d(e,"u",(function(){return Fo})),n.d(e,"B",(function(){return Bi})),n.d(e,"I",(function(){return Uo})),n.d(e,"J",(function(){return Mo})),n.d(e,"K",(function(){return Hn})),n.d(e,"O",(function(){return zn})),n.d(e,"h",(function(){return Ne})),n.d(e,"q",(function(){return Fn})),n.d(e,"r",(function(){return Mn})),n.d(e,"Q",(function(){return Xe})),n.d(e,"X",(function(){return Ko})),n.d(e,"wb",(function(){return Je})),n.d(e,"bb",(function(){return Zi})),n.d(e,"Z",(function(){return Re})),n.d(e,"ab",(function(){return yn})),n.d(e,"eb",(function(){return ae})),n.d(e,"fb",(function(){return fe})),n.d(e,"gb",(function(){return Bt})),n.d(e,"vb",(function(){return O})),n.d(e,"zb",(function(){return Ke})),n.d(e,"Ib",(function(){return g})),n.d(e,"xb",(function(){return ln})),n.d(e,"yb",(function(){return un})),n.d(e,"ub",(function(){return Vi})),n.d(e,"tb",(function(){return Ui})),n.d(e,"cb",(function(){return ji})),n.d(e,"db",(function(){return Li})),n.d(e,"Ob",(function(){return tt})),n.d(e,"Mb",(function(){return We})),n.d(e,"Sb",(function(){return $e})),n.d(e,"Rb",(function(){return tn})),n.d(e,"Nb",(function(){return en})),n.d(e,"Tb",(function(){return rn})),n.d(e,"hb",(function(){return ta})),n.d(e,"ob",(function(){return Qr})),n.d(e,"pb",(function(){return Cs})),n.d(e,"qb",(function(){return sr})),n.d(e,"rb",(function(){return mi})),n.d(e,"sb",(function(){return ea})),n.d(e,"Ab",(function(){return Ur})),n.d(e,"Bb",(function(){return Vr})),n.d(e,"Cb",(function(){return ha})),n.d(e,"Db",(function(){return ii})),n.d(e,"Eb",(function(){return gi})),n.d(e,"Gb",(function(){return _i})),n.d(e,"Fb",(function(){return da})),n.d(e,"Hb",(function(){return aa})),n.d(e,"Jb",(function(){return pa})),n.d(e,"Kb",(function(){return ar})),n.d(e,"Lb",(function(){return ma}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var l=u("Inject",(function(t){return{token:t}})),c=u("Optional"),h=u("Self"),f=u("SkipSelf"),d=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function p(t){for(var e in t)if(t[e]===p)return e;throw Error("Could not find renamed property on target object.")}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){var e=t[m];return e&&e.token===t?e:null}var m=p({ngInjectableDef:p});function g(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(g).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var _=p({__forward_ref__:p});function b(t){return t.__forward_ref__=b,t.toString=function(){return g(this())},t}function w(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(_)&&e.__forward_ref__===b?e():t}var C="undefined"!=typeof globalThis&&globalThis,k="undefined"!=typeof window&&window,E="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,S="undefined"!=typeof global&&global,O=C||S||k||E,T=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=v({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),I=new T("INJECTOR",-1),x=new Object,D=/\n/gm,A=p({provide:String,useValue:p}),N=void 0;function P(t){var e=N;return N=t,e}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Default;if(void 0===N)throw new Error("inject() must be called from an injection context");return null===N?function(t,e,n){var r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&d.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(g(t),"]"))}(t,0,e):N.get(t,e&d.Optional?null:void 0,e)}(t,e)}var j=R,L=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;if(e===x){var n=new Error("NullInjectorError: No provider for ".concat(g(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function F(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=g(e);if(e instanceof Array)i=e.map(g).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):g(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(D,"\n  "))}var M=function t(){_classCallCheck(this,t)},V=function t(){_classCallCheck(this,t)};function U(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function q(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var H=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),B=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),z={},W=[],G=p({ngComponentDef:p}),Q=p({ngDirectiveDef:p}),K=p({ngPipeDef:p}),Y=0;function X(t){return function(t){return t[G]||null}(t)||function(t){return t[Q]||null}(t)}function J(t){return function(t){return t[K]||null}(t)}function Z(t,e){if(null==t)return z;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var $,tt=function(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===H.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||B.Emulated,id:"c",styles:t.styles||W,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:function(){var n=t.directives,o=t.features,a=t.pipes;i.id+=Y++,i.inputs=Z(t.inputs,r),i.outputs=Z(t.outputs),o&&o.forEach((function(t){return t(i)})),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(X)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(J)}:null,e.hasOwnProperty(m)||(e[m]=v({token:e,factory:t.factory}))}},i},et=null,nt=new Map,rt=null;function it(t,e){return rt&&t===rt||(rt=t,e&&(et=nt.get(t)||null),et=et||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),et}function ot(t,e){return function(t){for(;Array.isArray(t);)t=t[0];return t}(e[t.index])}function at(t,e){return e[1].data[t+19]}function st(){return $}var ut=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(O);function lt(t,e){0===e?t[2]>0&&function(t){ht(t,2|ct(t))}(t):t[2]=e}function ct(t){return t[1]}function ht(t,e){t[1]=e}function ft(t,e){return t[e+2]}function dt(t,e){return 1&t[e+0]}function pt(t,e){return(1&dt(t,e))>0}function vt(t,e){return t[e+0]>>1}function yt(t,e,n){var r=dt(t,e);t[e+0]=r|n<<1}function mt(t,e){return t[e+1]}function gt(t,e,n){return t[e+3+n]}function _t(t,e){return!(!t||e!==t[2])}function bt(t){return(1&ct(t))>0}function wt(t){return(2&ct(t))>0}function Ct(t){return 6+t[4]}function kt(t,e){var n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function Et(t){return null!=t&&""!==t}function St(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}function Ot(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function Tt(t,e){return t[e+0]}function It(t,e,n){t[e+1]=n}function xt(t,e){return t[e+1]}var Dt=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function At(t){return!!t.listen}function Nt(t){return t.ngDebugContext}function Pt(t){return t.ngOriginalError}function Rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var jt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Rt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Nt(t)?Nt(t):this._findContext(Pt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Pt(t);e&&Pt(e);)e=Pt(e);return e}}]),t}(),Lt=!0,Ft=!1;function Mt(){return Ft=!0,Lt}function Vt(){if(Ft)throw new Error("Cannot enable prod mode after platform setup.");Lt=!1}var Ut=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ht=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bt(t){return(t=String(t)).match(qt)||t.match(Ht)?t:(Mt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function zt(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Wt(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Gt,Qt=zt("area,br,col,hr,img,wbr"),Kt=zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yt=zt("rp,rt"),Xt=Wt(Yt,Kt),Jt=Wt(Qt,Wt(Kt,zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wt(Yt,zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xt),Zt=zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$t=zt("srcset"),te=Wt(Zt,$t,zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ee=zt("script,style,template"),ne=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Jt.hasOwnProperty(e))return this.sanitizedSomething=!0,!ee.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(te.hasOwnProperty(s)){var u=o.value;Zt[s]&&(u=Bt(u)),$t[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Bt(t.trim())})).join(", ")),this.buf.push(" ",a,'="',oe(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Jt.hasOwnProperty(e)&&!Qt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(oe(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),re=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ie=/([^\#-~ |!])/g;function oe(t){return t.replace(/&/g,"&amp;").replace(re,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ie,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ae(t,e){var n=null;try{Gt=Gt||new Ut(t);var r=e?String(e):"";n=Gt.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Gt.getInertBodyElement(r)}while(r!==o);var a=new ne,s=a.sanitizeChildren(se(n)||n);return Mt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=se(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function se(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ue=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),le=function t(){_classCallCheck(this,t)},ce=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),he=/^url\(([^)]+)\)$/;function fe(t){if(!(t=String(t).trim()))return"";var e=t.match(he);return e&&Bt(e[1])===e[1]||t.match(ce)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function de(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(pe,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()}))}var pe=/([A-Z])/g;function ve(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var ye=[];function me(t,e,n,r,i,o,a,s,u){bt(t)||(a?function(t,e,n,r,i){ye.unshift(t,e,n,r,i)}(t,n,r,i,u):(ye.length&&ge(),_e(t,n,r,i,u)));var l=s||kt(e[i],o);return l&&(e[i]=o),l}function ge(){for(var t=0;t<ye.length;)_e(ye[t++],ye[t++],ye[t++],ye[t++],ye[t++]);ye.length=0}function _e(t,e,n,r,i){var o=!1;if(n){for(var a=!1,s=Ct(t);s<t.length;){var u=mt(t,s),l=ft(t,s);if(a=n<=l){n<l&&be(t,s,n,i),we(t,!1,s,r,e);break}s+=3+u}a||(be(t,t.length,n,i),we(t,!1,s,r,e),o=!0)}else we(t,!0,3,r,e),o=!0;return o}function be(t,e,n,r){t.splice(e,0,r?1:0,1,n,null),yt(t,e,1)}function we(t,e,n,r,i){var o=n+3,a=o+mt(t,n);if(e||a--,"number"==typeof r){for(var s=o;s<=a;s++)if(t[s]===r)return;t.splice(a,0,r),t[n+1]++,yt(t,n,vt(t,n)|1<<i)}else null!==r&&null==t[a]&&(t[a]=r)}function Ce(t,e,n,r,i,o,a,s){return i&&r&&(function(t){if(!bt(t)){var e=Ot(n=t)?n[0]:n;e&&function(t,e){for(var n=1;n<e.length;n+=2){var r=xt(e,n);r&&_e(t,-1,Tt(e,n),r,!1)}}(t,e),function(t){ht(t,1|ct(t))}(t)}var n}(r),function(t,e){return t&&e>0}(r,o))?(function(t,e,n,r,i,o,a){for(var s,u=!0===(s=i)?-1:!1===s?0:s,l=ke,c=(u&vt(t,3))>0?1:0,h=Ct(t);h<t.length;){var f=mt(t,h);if(u&vt(t,h)){for(var d=!1,p=ft(t,h),v=f-1,y=gt(t,h,v),m=0;m<v;m++){var g=gt(t,h,m),_=r[g];if(Et(_)){o(e,n,p,a&&pt(t,h)?a(p,_,2):_,g),d=!0;break}}if(l){var b=l(t,e,n,r,o,a,c|(d?4:2),p,y);d=d||b}d||o(e,n,p,y)}h+=3+f}l&&l(t,e,n,r,o,a,c)}(r,t,e,n,o,a,s),!0):i}var ke=null,Ee=function(t,e,n,r){var i=e.style;r?(r=r.toString(),t&&At(t)?t.setStyle(e,n,r,Dt.DashCase):i&&i.setProperty(n,r)):t&&At(t)?t.removeStyle(e,n,Dt.DashCase):i&&i.removeProperty(n)},Se=function(t,e,n,r){if(""!==n){var i=e.classList;r?t&&At(t)?t.addClass(e,n):i&&i.add(n):t&&At(t)?t.removeClass(e,n):i&&i.remove(n)}},Oe={},Te=function(t,e,n,r,i,o,a,s,u){var l=!1;if(mt(t,3)){var c=!0,h=!s;h&&-2&a&&(c=!1,l=!0),c&&(l=function t(e,n,r,i,o,a,s,u,l,c){var h,f=!1;if(l<mt(e,3)){for(var d=gt(e,3,l),p=i[d],v=((h=l)>=De.length&&De.push(1),De[h]);v<p.length;){var y=Tt(p,v),m=u&&y>u,g=!m&&y===u,_=xt(p,v),b=Et(_),w=t(e,n,r,i,o,a,m?s:Ie(s,b,g),m?u:y,l+1,c);if(m){f||(f=w);break}if(!w&&xe(s,g)){var C=g&&!b,k=C?c:_,E=C?d:null;o(n,r,y,a?a(y,k,3):k,E),w=!0}f=w&&g,v+=2}if(De[l]=v,1===p.length||!u)return t(e,n,r,i,o,a,s,u,l+1,c)}return f}(t,e,n,r,i,o,a,s||null,0,u||null)),h&&function(){for(var t=0;t<De.length;t++)De[t]=1}()}return l};function Ie(t,e,n){var r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function xe(t,e){var n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}var De=[];function Ae(t,e,n,r){for(var i=1;i<t.length;i+=2){var o=Tt(t,i);if(e<=o){var a=!1;if(o===e){var s=t[i];!r&&Et(s)||(a=!0,It(t,i,n))}else a=!0,t.splice(i,0,e,n);return a}}return t.push(e,n),!0}var Ne=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Pe()},t}(),Pe=function(){},Re=new T("The presence of this token marks an injector as being the root injector."),je=function(t,e,n){return new qe(t,e,n)},Le=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?je(t,e,""):je(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=x,t.NULL=new L,t.ngInjectableDef=v({token:t,providedIn:"any",factory:function(){return R(I)}}),t.__NG_ELEMENT_ID__=-1,t}(),Fe=function(t){return t},Me=[],Ve=Fe,Ue=function(){return Array.prototype.slice.call(arguments)},qe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Le,{token:Le,fn:Fe,deps:Me,value:this,useNew:!1}),i.set(I,{token:I,fn:Fe,deps:Me,value:this,useNew:!1}),function t(e,n){if(n)if((n=w(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Be("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Be("Unexpected provider",n);var i=w(n.provide),o=function(t){var e=function(t){var e=Me,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=w(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof c||u==c?i|=1:u instanceof f||u==f?i&=-3:u instanceof h||u==h?i&=-5:o=u instanceof l?u.token:w(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:w(t.useExisting),options:6}];else if(!(n||A in t))throw Be("'deps' required",t);return e}(t),n=Fe,r=Me,i=!1,o=w(t.provide);if(A in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=w(t.useClass);else{if("function"!=typeof o)throw Be("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Ue)throw He(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Ue,value:Me});i=n,a.deps.push({token:i,options:6})}var s=e.get(i);if(s&&s.fn==Ue)throw He(i);e.set(i,o)}}(i,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Default,r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var s;if(!n||a&d.SkipSelf)a&d.Self||(s=i.get(e,o,d.Default));else{if((s=n.value)==Ve)throw Error("\u0275Circular dependency");if(s===Me){n.value=Ve;var u=n.useNew,l=n.fn,c=n.deps,h=Me;if(c.length){h=[];for(var f=0;f<c.length;f++){var p=c[f],v=p.options,y=2&v?r.get(p.token):void 0;h.push(t(p.token,y,r,y||4&v?i:Le.NULL,1&v?null:Le.THROW_IF_NOT_FOUND,d.Default))}}n.value=s=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return s}(e,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Ve&&(n.value=Me),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=F("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(g(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function He(t){return Be("Cannot mix multi providers and regular providers",t)}function Be(t,e){return new Error(F(t,e,"StaticInjectorError"))}var ze=new T("AnalyzeForEntryComponents");function We(t){var e=(void 0)[1];e.firstTemplatePass&&(function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(e,0,t),function(t,e,n){for(var r=0;r<n;r++)(void 0).push(Oe),t.blueprint.push(Oe),t.data.push(null)}(e,0,t))}var Ge=null;function Qe(){if(!Ge){var t=O.Symbol;if(t&&t.iterator)Ge=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ge=r)}}return Ge}function Ke(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ye(t,e){var n=Je(t),r=Je(e);return n&&r?function(t,e,n){for(var r=t[Qe()](),i=e[Qe()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Ye):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||Ke(t,e)}var Xe=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Je(t){return!!Ze(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qe()in t)}function Ze(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $e(){(void 0)[1].firstTemplatePass&&(lt(an(void 0),1),lt(on(void 0),1))}function tn(t){nn(-1,on(at(-1,void 0)),(void 0)[7]++,t,!1,!1)}function en(t){!function(t,e){nn(-1,an(at(-1,void 0)),(void 0)[7]++,e,!0,!1)}(0,t)}function nn(t,e,n,r,i,o){ke=Te;var a=!1;if(r!==Oe){var s=ot(at(t,void 0),void 0),u=(void 0)[n];a=kt(u,r);var l=function(t,e,n){var r=Array.isArray(t)?t:[null];r[0]=e||null;for(var i=1;i<r.length;i+=2)It(r,i,null);var o,a=null,s=!1;if("string"==typeof e?e.length&&(a=e.split(/\s+/),s=!0):(a=e?Object.keys(e):null,o=e),a)for(var u=0;u<a.length;u++){var l=a[u];Ae(r,n?St(l):l,!!s||o[l],!0)}return r}(u,r,!i);i?function(t,e,n,r,i,o,a,s){var u=it(n,wt(t));!me(t,void 0,0,null,i,o,a,s,!1)&&!s||(u.classesBitMask|=1)}(e,0,s,0,n,l,o,a):function(t,e,n,r,i,o,a,s,u){var l=it(n,wt(t));!me(t,void 0,0,null,i,o,s,u,!0)&&!u||(l.stylesBitMask|=1)}(e,0,s,0,n,l,st(),o,a)}return a}function rn(){var t=at(-1,void 0),e=function(t,e){return 3===t.type?(void 0)[12]:null}(t),n=ot(t,void 0),r=st();(function(t,e,n,r,i,o,a){var s=n?wt(n):!!r&&wt(r),u=_t(n,1),l=_t(r,1);ye.length&&(u||l)&&ge();var c=it(i,s),h=Ce(t,i,void 0,n,u,c.classesBitMask,Se,null),f=Ce(t,i,void 0,r,l,c.stylesBitMask,Ee,a);h&&f?(et=null,rt=null,s&&function(t){nt.delete(t)}(i)):s&&function(t,e){nt.set(t,e)}(i,c)})(e,0,an(t),on(t),n,0,r),$=null}function on(t){return sn(t,!1)}function an(t){return sn(t,!0)}function sn(t,e){var n=e?t.classes:t.styles;return Ot(n)||(n=[n||[""],0,0,1,0,"--MAP--"],e?t.classes=n:t.styles=n),n}function un(t){return!!t&&"function"==typeof t.then}function ln(t){return!!t&&"function"==typeof t.subscribe}var cn=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),hn=function t(){_classCallCheck(this,t)};function fn(t){var e=Error("No component factory found for ".concat(g(t),". Did you add it to @NgModule.entryComponents?"));return e[dn]=t,e}var dn="ngComponent",pn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw fn(t)}}]),t}(),vn=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new pn,t}(),yn=function(){function t(e,n,r){_classCallCheck(this,t),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<e.length;i++){var o=e[i];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw fn(t);return new mn(e,this._ngModule)}}]),t}(),mn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).factory=t,i.ngModule=r,i.selector=t.selector,i.componentType=t.componentType,i.ngContentSelectors=t.ngContentSelectors,i.inputs=t.inputs,i.outputs=t.outputs,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}]),n}(hn);function gn(){}var _n=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return bn(t)},t}(),bn=gn,wn=function t(){_classCallCheck(this,t)},Cn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),kn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return En()},t}(),En=gn,Sn=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},On=new Sn("8.2.14"),Tn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Je(t)}},{key:"create",value:function(t){return new xn(t)}}]),t}(),In=function(t,e){return e},xn=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||In}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Pn(n,r,i)?e:n,a=Pn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Je(t))throw new Error("Error trying to diff '".concat(g(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Ke(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Ke(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Qe()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Ke(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Ke(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ke(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ke(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Dn(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Nn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Dn=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},An=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ke(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Nn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new An,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Pn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Rn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Ze(t)}},{key:"create",value:function(){return new jn}}]),t}(),jn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ze(t)))throw new Error("Error trying to diff '".concat(g(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ln(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Ke(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ln=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Fn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new c]]}}}]),t}();return t.ngInjectableDef=v({token:t,providedIn:"root",factory:function(){return new t([new Tn])}}),t}(),Mn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new c]]}}}]),t}();return t.ngInjectableDef=v({token:t,providedIn:"root",factory:function(){return new t([new Rn])}}),t}(),Vn=[new Rn],Un=new Fn([new Tn]),qn=new Mn(Vn),Hn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Bn(t,_n)},t}(),Bn=gn,zn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Wn(t,_n)},t}(),Wn=gn;function Gn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Qn(n,e),n}(i,t)}function Qn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Kn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Yn(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Xn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Jn(t,e){return t.nodes[e]}function Zn(t,e){return t.nodes[e]}function $n(t,e){return t.nodes[e]}function tr(t,e){return t.nodes[e]}function er(t,e){return t.nodes[e]}var nr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},rr=function(){},ir=new Map;function or(t){var e=ir.get(t);return e||(e=g(t)+"_"+ir.size,ir.set(t,e)),e}function ar(t,e,n,r){if(Xe.isWrapped(r)){r=Xe.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Xe.unwrap(t.oldValues[i]);t.oldValues[i]=new Xe(o)}return r}function sr(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var ur=0;function lr(t,e,n,r){return!(!(2&t.state)&&Ke(t.oldValues[e.bindingIndex+n],r))}function cr(t,e,n,r){return!!lr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function hr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ye(i,r)){var o=e.bindings[n].name;throw Gn(nr.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function fr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function dr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function pr(t,e,n,r){try{return fr(33554432&t.def.nodes[e].flags?Zn(t,e).componentView:t),nr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function vr(t){return t.parent?Zn(t.parent,t.parentNodeDef.nodeIndex):null}function yr(t){return t.parent?t.parentNodeDef.parent:null}function mr(t,e){switch(201347067&e.flags){case 1:return Zn(t,e.nodeIndex).renderElement;case 2:return Jn(t,e.nodeIndex).renderText}}function gr(t,e){return t?"".concat(t,":").concat(e):e}function _r(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function br(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function wr(t){return 1<<t%32}function Cr(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=_slicedToArray(t,2),o=i[0],a=i[1];"number"==typeof o?(e[o]=a,n|=wr(o)):r[o]=a})),{matchedQueries:e,references:r,matchedQueryIds:n}}function kr(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=_slicedToArray(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,"__source",{value:e,configurable:!0}),{flags:i,token:r,tokenKey:or(r)}}))}function Er(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===B.Native?Zn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Sr=new WeakMap;function Or(t){var e=Sr.get(t);return e||((e=t((function(){return rr}))).factory=t,Sr.set(t,e)),e}function Tr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(mr(t,t.def.lastRenderRootNode))),Ir(t,e,0,t.def.nodes.length-1,n,r,i)}function Ir(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Dr(t,u,e,i,o,a),s+=u.childCount}}function xr(t,e,n,r,i,o){for(var a=t;a&&!_r(a);)a=a.parent;for(var s=a.parent,u=yr(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&Dr(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(var d=0;d<f.length;d++)Ar(t,f[d],n,r,i,o)}}function Dr(t,e,n,r,i,o){if(8&e.flags)xr(t,e.ngContent.index,n,r,i,o);else{var a=mr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ar(t,a,n,r,i,o),32&e.bindingFlags&&Ar(Zn(t,e.nodeIndex).componentView,a,n,r,i,o)):Ar(t,a,n,r,i,o),16777216&e.flags)for(var s=Zn(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Tr(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Ir(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Ar(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Nr=/^:([^:]+):(.+)$/;function Pr(t){if(":"===t[0]){var e=t.match(Nr);return[e[1],e[2]]}return["",t]}function Rr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var jr=new Object,Lr=or(Le),Fr=or(I),Mr=or(M);function Vr(t,e,n,r){return n=w(n),{index:-1,deps:kr(r,g(e)),flags:t,token:e,value:n}}function Ur(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Re&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[or(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function qr(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le.THROW_IF_NOT_FOUND,o=P(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);var a=e.tokenKey;switch(a){case Lr:case Fr:case Mr:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=Hr(t,u)),l===jr?void 0:l}if((s=y(e.token))&&(n=t,null!=(r=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=jr,t._providers[c]=Hr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{P(o)}}function Hr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(qr(t,n[0]));case 2:return new e(qr(t,n[0]),qr(t,n[1]));case 3:return new e(qr(t,n[0]),qr(t,n[1]),qr(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=qr(t,n[o]);return _construct(e,i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(qr(t,n[0]));case 2:return e(qr(t,n[0]),qr(t,n[1]));case 3:return e(qr(t,n[0]),qr(t,n[1]),qr(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=qr(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=qr(t,e.deps[0]);break;case 256:n=e.value}return n===jr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?jr:n}function Br(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,q(n,e),nr.dirtyParentQueries(r),Wr(r),r}function zr(t,e,n){var r=e?mr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Tr(n,2,i,o,void 0)}function Wr(t){Tr(t,3,null,null,void 0)}var Gr=new Object;function Qr(t,e,n,r,i,o){return new Kr(t,e,n,r,i,o)}var Kr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this)).selector=t,u.componentType=r,u._inputs=o,u._outputs=a,u.ngContentSelectors=s,u.viewDefFactory=i,u}return _createClass(n,[{key:"create",value:function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Or(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=nr.createRootView(t,e||[],n,i,r,Gr),s=$n(a,o).instance;return n&&a.renderer.setAttribute(Zn(a,0).renderElement,"ng-version",On.full),new Yr(a,new $r(a),s)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),n}(hn),Yr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._view=t,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new _n(Zn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new ri(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function Xr(t,e,n){return new Jr(t,e,n)}var Jr=function(){function t(e,n,r){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Br(this._data,t);nr.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new $r(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof mn||(i=o.get(M));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=t;return n=this._view,r=this._data,i=e,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,U(a,i,o),function(t,e){var n=vr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),nr.dirtyParentQueries(o),zr(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,r=s,i=e,o=n.viewContainer._embeddedViews,a=o[r],q(o,r),null==i&&(i=o.length),U(o,i,a),nr.dirtyParentQueries(a),Wr(a),zr(n,i>0?o[i-1]:null,a),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=Br(this._data,t);e&&nr.destroyView(e)}},{key:"detach",value:function(t){var e=Br(this._data,t);return e?new $r(e):null}},{key:"element",get:function(){return new _n(this._data.renderElement)}},{key:"injector",get:function(){return new ri(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=yr(t),t=t.parent;return t?new ri(t,e):new ri(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function Zr(t){return new $r(t)}var $r=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){fr(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{nr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){nr.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),nr.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Wr(this._view),nr.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return Tr(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function ti(t,e){return new ei(t,e)}var ei=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._parentView=t,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(t){return new $r(nr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new _n(Zn(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Hn);function ni(t,e){return new ri(t,e)}var ri=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.THROW_IF_NOT_FOUND;return nr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:or(t)},e)}}]),t}();function ii(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Zn(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Jn(t,n.nodeIndex).renderText;if(20240&n.flags)return $n(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function oi(t){return new ai(t.renderer)}var ai=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(Pr(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var r=_slicedToArray(Pr(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function si(t,e,n,r){return new ui(t,e,n,r)}var ui=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Hr(t,i))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Default,r=0;return n&d.SkipSelf?r|=1:n&d.Self&&(r|=4),qr(this,{token:t,tokenKey:or(t),flags:r},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(g(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==jr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(vn)}}]),t}(),li=or((function t(){_classCallCheck(this,t)})),ci=or(kn),hi=or(_n),fi=or(zn),di=or(Hn),pi=or(Ne),vi=or(Le),yi=or(I);function mi(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=_slicedToArray(a[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return bi(t,e|=16384,n,r,i,i,o,u,d)}function gi(t,e,n){return bi(-1,t|=16,null,0,e,e,n)}function _i(t,e,n,r,i){return bi(-1,t,e,0,n,r,i)}function bi(t,e,n,r,i,o,a,s,u){var l=Cr(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=w(o);var d=kr(a,g(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Rr(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function wi(t,e){return Si(t,e)}function Ci(t,e){for(var n=t;n.parent&&!_r(n);)n=n.parent;return Oi(n.parent,yr(n),!0,e.provider.value,e.provider.deps)}function ki(t,e){var n=Oi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!ln(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(Ei(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Ei(t,e,n){return function(r){return pr(t,e,n,r)}}function Si(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Oi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Ii(t,e,n,i[0]));case 2:return r(Ii(t,e,n,i[0]),Ii(t,e,n,i[1]));case 3:return r(Ii(t,e,n,i[0]),Ii(t,e,n,i[1]),Ii(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Ii(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return Ii(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Oi(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Ii(t,e,n,i[0]));case 2:return new r(Ii(t,e,n,i[0]),Ii(t,e,n,i[1]));case 3:return new r(Ii(t,e,n,i[0]),Ii(t,e,n,i[1]),Ii(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Ii(t,e,n,i[s]);return _construct(r,a)}}var Ti={};function Ii(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Le.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===pi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case li:return oi(xi(s,e,n));case ci:return xi(s,e,n).renderer;case hi:return new _n(Zn(s,e.nodeIndex).renderElement);case fi:return Zn(s,e.nodeIndex).viewContainer;case di:if(e.element.template)return Zn(s,e.nodeIndex).template;break;case pi:return Zr(xi(s,e,n));case vi:case yi:return ni(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=$n(s,u.nodeIndex);return l||(l={instance:Si(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=_r(s),e=yr(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,Ti);return c!==Ti||i===Ti?c:o.root.ngModule.injector.get(r.token,i)}function xi(t,e,n){var r;if(n)r=Zn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!_r(r);)r=r.parent;return r}function Di(t,e,n,r,i,o){if(32768&n.flags){var a=Zn(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Xe.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new cn(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ai(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Pi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Ni(t,a,e,r)),a=a.parent}}function Ni(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Pi(t,i,o.flags&n,r++),i+=o.childCount}return r}function Pi(t,e,n,r){var i=$n(t,e);if(i){var o=i.instance;o&&(nr.setCurrentNode(t,e),1048576&n&&Xn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Xn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Ri=new T("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ut}}),ji={},Li=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Fi=void 0,Mi=["en",[["a","p"],["AM","PM"],Fi],[["AM","PM"],Fi,Fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fi,"{1} 'at' {0}",Fi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Vi(t){return Ui(t)[Li.PluralCase]}function Ui(t){var e=t.toLowerCase().replace(/_/g,"-"),n=ji[e];if(n)return n;var r=e.split("-")[0];if(n=ji[r])return n;if("en"===r)return Mi;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}var qi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Hi(){return this._results[Qe()]()}var Bi=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new qi,this.length=0;var e=Qe(),n=t.prototype;n[e]||(n[e]=Hi)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),zi=new T("Application Initializer"),Wi=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();un(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),Gi=new T("AppId");function Qi(){return"".concat(Ki()).concat(Ki()).concat(Ki())}function Ki(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Yi=new T("Platform Initializer"),Xi=new T("Platform ID"),Ji=new T("appBootstrapListener"),Zi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),$i=new T("LocaleId");function to(){throw new Error("Runtime compiler is not loaded")}var eo,no,ro=to,io=to,oo=to,ao=to,so=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=ro,this.compileModuleAsync=io,this.compileModuleAndAllComponentsSync=oo,this.compileModuleAndAllComponentsAsync=ao}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),uo=function t(){_classCallCheck(this,t)};var lo,co=!(!(lo=O.wtf)||(eo=lo.trace,!eo)||(no=eo.events,0));function ho(t,e){return null}var fo=co?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return no.createScope(t,e)}:function(t,e){return ho},po=co?function(t,e){return eo.leaveScope(t,e),e}:function(t,e){return e},vo=Promise.resolve(0);function yo(t){"undefined"==typeof Zone?vo.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var mo=function(){function t(e){var n,r=e.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qi(!1),this.onMicrotaskEmpty=new qi(!1),this.onStable=new qi(!1),this.onError=new qi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,i,o,a){try{return wo(n),t.invokeTask(r,i,o,a)}finally{Co(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return wo(n),t.invoke(r,i,o,a,s)}finally{Co(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,bo(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,_o,go,go);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function go(){}var _o={};function bo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function wo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Co(t){t._nesting--,bo(t)}var ko=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qi,this.onMicrotaskEmpty=new qi,this.onStable=new qi,this.onError=new qi}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),Eo=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){mo.assertNotInAngularZone(),yo((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())yo((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),So=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Io.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Io.findTestabilityInTree(this,t,e)}}]),t}();function Oo(t){Io=t}var To,Io=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),xo=new T("AllowMultipleToken"),Do=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function Ao(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new T(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=No();if(!o||o.injector.get(xo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(To&&!To.destroyed&&!To.injector.get(xo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");To=t.get(Po);var e=t.get(Yi,null);e&&e.forEach((function(t){return t()}))}(Le.create({providers:a,name:r}))}return function(t){var e=No();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function No(){return To&&!To.destroyed?To:null}var Po=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new ko:("zone.js"===n?void 0:n)||new mo({enableLongStackTrace:Mt()}),o=[{provide:mo,useValue:i}];return i.run((function(){var e=Le.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(jt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Lo(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,i){try{var o=((a=n.injector.get(Wi)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return un(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ro({},n);return function(t,e,n){return t.get(uo).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(jo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(g(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Ro(t,e){return Array.isArray(e)?e.reduce(Ro,t):Object.assign({},t,e)}var jo=function(){var t=function(){function t(e,n,r,i,u,l){var c=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run((function(){c.tick()}))}});var h=new o.a((function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular((function(){t.next(c._stable),t.complete()}))})),f=new o.a((function(t){var e;c._zone.runOutsideAngular((function(){e=c._zone.onStable.subscribe((function(){mo.assertNotInAngularZone(),yo((function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))}))}))}));var n=c._zone.onUnstable.subscribe((function(){mo.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof hn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof mn?null:this._injector.get(M),o=n.create(Le.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Eo,null);return a&&o.injector.get(So).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Mt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.detectChanges()}}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;){o.value.checkNoChanges()}}catch(s){a.e(s)}finally{a.f()}}}catch(u){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(u)}))}finally{this._runningTick=!1,po(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Lo(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ji,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Lo(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t._tickScope=fo("ApplicationRef#tick()"),t}();function Lo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Fo=function t(){_classCallCheck(this,t)},Mo=function t(){_classCallCheck(this,t)},Vo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Uo=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Vo}return _createClass(t,[{key:"load",value:function(t){return this._compiler instanceof so?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return qo(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return qo(t,r,i)}))}}]),t}();function qo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ho=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},Bo=function(){function t(e,n,r){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,n&&n instanceof zo&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),zo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return _createClass(n,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var e=[];return function t(e,r,i){e.childNodes.forEach((function(e){e instanceof n&&(r(e)&&i.push(e),t(e,r,i))}))}(this,t,e),e}},{key:"queryAllNodes",value:function(t){var e=[];return function t(e,r,i){e instanceof n&&e.childNodes.forEach((function(e){r(e)&&i.push(e),e instanceof n&&t(e,r,i)}))}(this,t,e),e}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof n}))}}]),n}(Bo),Wo=new Map,Go=function(t){return Wo.get(t)||null};function Qo(t){Wo.set(t.nativeNode,t)}var Ko=Ao(null,"core",[{provide:Xi,useValue:"unknown"},{provide:Po,deps:[Le]},{provide:So,deps:[]},{provide:Zi,deps:[]}]);function Yo(){return Un}function Xo(){return qn}function Jo(t){return t||"en-US"}function Zo(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var $o=function t(e){_classCallCheck(this,t)};function ta(t,e,n,r,i,o){t|=1;var a=Cr(e),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Or(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||rr},provider:null,text:null,query:null,ngContent:null}}function ea(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=rr);var d=Cr(n),p=d.matchedQueries,v=d.references,y=d.matchedQueryIds,m=null,g=null;o&&(m=(a=_slicedToArray(Pr(o),2))[0],g=a[1]),u=u||[];for(var _=new Array(u.length),b=0;b<u.length;b++){var w=_slicedToArray(u[b],3),C=w[0],k=w[1],E=w[2],S=Pr(k),O=_slicedToArray(S,2),T=O[0],I=O[1],x=void 0,D=void 0;switch(15&C){case 4:D=E;break;case 1:case 8:x=E}_[b]={flags:C,ns:T,name:I,nonMinifiedName:I,securityContext:x,suffix:D}}l=l||[];for(var A=new Array(l.length),N=0;N<l.length;N++){var P=_slicedToArray(l[N],2),R=P[0],j=P[1];A[N]={type:0,target:R,eventName:j,propName:null}}var L=(s=s||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=_slicedToArray(Pr(n),2);return[i[0],i[1],r]}));return f=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==B.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+ur++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Rr(_),outputs:A,element:{ns:m,name:g,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||rr},provider:null,text:null,query:null,ngContent:null}}function na(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Er(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===B.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];a.setAttribute(r,h,f,c)}return r}function ra(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=ia(t,n.nodeIndex,gr(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function ia(t,e,n){return function(r){return pr(t,e,n,r)}}function oa(t,e,n,r){if(!cr(t,e,n,r))return!1;var i=e.bindings[n],o=Zn(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(ue.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function aa(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:wr(e),bindings:r},ngContent:null}}function sa(t){for(var e=t.def.nodeMatchedQueries;t.parent&&br(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&er(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var a=0;a<t.def.nodes.length;a++){var s=t.def.nodes[a];134217728&s.flags&&536870912&s.flags&&er(t,a).setDirty(),a+=s.childCount}}function ua(t,e){var n=er(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=la(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=$n(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=la(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function la(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(ca(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Zn(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(la(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=vr(h);f&&f===u&&la(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];la(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ca(t,e,n){if(null!=n)switch(n){case 1:return Zn(t,e.nodeIndex).renderElement;case 0:return new _n(Zn(t,e.nodeIndex).renderElement);case 2:return Zn(t,e.nodeIndex).template;case 3:return Zn(t,e.nodeIndex).viewContainer;case 4:return $n(t,e.nodeIndex).instance}}function ha(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function fa(t,e,n){var r=Er(t,e,n);r&&xr(t,n.ngContent.index,1,r,null,void 0)}function da(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return function(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Rr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function pa(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function va(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Er(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ya(t,e){return(null!=t?t.toString():"")+e.suffix}function ma(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(_a(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?l.element.publicProviders[or(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[or(v.provider.token)]=v),m&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,ga(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var g=l.parent;g&&(g.childFlags|=l.childFlags,g.childMatchedQueries|=l.childMatchedQueries),c=(l=g)&&ga(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||rr,updateRenderer:r||rr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function ga(t){return 0!=(1&t.flags)&&null===t.element.name}function _a(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function ba(t,e,n,r){var i=ka(t.root,t.renderer,t,e,n);return Ea(i,t.component,r),Sa(i),i}function wa(t,e,n){var r=ka(t,t.renderer,null,null,e);return Ea(r,n,n),Sa(r),r}function Ca(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,ka(t.root,i,t,e.element.componentProvider,n)}function ka(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ea(t,e,n){t.component=e,t.context=n}function Sa(t){var e;_r(t)&&(e=Zn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(nr.setCurrentNode(t,i),201347067&o.flags){case 1:var s=na(t,e,o),u=void 0;if(33554432&o.flags){var l=Or(o.element.componentView);u=nr.createComponentView(t,o,l,s)}ra(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?ti(t,o):void 0},16777216&o.flags&&(a.viewContainer=Xr(t,o,a));break;case 2:a=va(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:wi(t,o)});break;case 16:a={instance:Ci(t,o)};break;case 16384:(a=r[i])||(a={instance:ki(t,o)}),32768&o.flags&&Ea(Zn(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Bi;break;case 8:fa(t,e,o),a=void 0}r[i]=a}Ra(t,Pa.CreateViewNodes),Ma(t,201326592,268435456,0)}function Oa(t){xa(t),nr.updateDirectives(t,1),ja(t,Pa.CheckNoChanges),nr.updateRenderer(t,1),Ra(t,Pa.CheckNoChanges),t.state&=-97}function Ta(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Yn(t,0,256),xa(t),nr.updateDirectives(t,0),ja(t,Pa.CheckAndUpdate),Ma(t,67108864,536870912,0);var e=Yn(t,256,512);Ai(t,2097152|(e?1048576:0)),nr.updateRenderer(t,0),Ra(t,Pa.CheckAndUpdate),Ma(t,134217728,536870912,0),Ai(t,8388608|((e=Yn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Yn(t,768,1024)}function Ia(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length,d=!1;return f>0&&oa(t,e,0,n)&&(d=!0),f>1&&oa(t,e,1,r)&&(d=!0),f>2&&oa(t,e,2,i)&&(d=!0),f>3&&oa(t,e,3,o)&&(d=!0),f>4&&oa(t,e,4,a)&&(d=!0),f>5&&oa(t,e,5,s)&&(d=!0),f>6&&oa(t,e,6,u)&&(d=!0),f>7&&oa(t,e,7,l)&&(d=!0),f>8&&oa(t,e,8,c)&&(d=!0),f>9&&oa(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&cr(t,e,0,n)&&(f=!0),p>1&&cr(t,e,1,r)&&(f=!0),p>2&&cr(t,e,2,i)&&(f=!0),p>3&&cr(t,e,3,o)&&(f=!0),p>4&&cr(t,e,4,a)&&(f=!0),p>5&&cr(t,e,5,s)&&(f=!0),p>6&&cr(t,e,6,u)&&(f=!0),p>7&&cr(t,e,7,l)&&(f=!0),p>8&&cr(t,e,8,c)&&(f=!0),p>9&&cr(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=ya(n,d[0])),p>1&&(v+=ya(r,d[1])),p>2&&(v+=ya(i,d[2])),p>3&&(v+=ya(o,d[3])),p>4&&(v+=ya(a,d[4])),p>5&&(v+=ya(s,d[5])),p>6&&(v+=ya(u,d[6])),p>7&&(v+=ya(l,d[7])),p>8&&(v+=ya(c,d[8])),p>9&&(v+=ya(h,d[9]));var y=Jn(t,e.nodeIndex).renderText;t.renderer.setValue(y,v)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=$n(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,y=e.bindings.length;return y>0&&lr(t,e,0,n)&&(p=!0,v=Di(t,f,e,0,n,v)),y>1&&lr(t,e,1,r)&&(p=!0,v=Di(t,f,e,1,r,v)),y>2&&lr(t,e,2,i)&&(p=!0,v=Di(t,f,e,2,i,v)),y>3&&lr(t,e,3,o)&&(p=!0,v=Di(t,f,e,3,o,v)),y>4&&lr(t,e,4,a)&&(p=!0,v=Di(t,f,e,4,a,v)),y>5&&lr(t,e,5,s)&&(p=!0,v=Di(t,f,e,5,s,v)),y>6&&lr(t,e,6,u)&&(p=!0,v=Di(t,f,e,6,u,v)),y>7&&lr(t,e,7,l)&&(p=!0,v=Di(t,f,e,7,l,v)),y>8&&lr(t,e,8,c)&&(p=!0,v=Di(t,f,e,8,c,v)),y>9&&lr(t,e,9,h)&&(p=!0,v=Di(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&Xn(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&cr(t,e,0,n)&&(d=!0),p>1&&cr(t,e,1,r)&&(d=!0),p>2&&cr(t,e,2,i)&&(d=!0),p>3&&cr(t,e,3,o)&&(d=!0),p>4&&cr(t,e,4,a)&&(d=!0),p>5&&cr(t,e,5,s)&&(d=!0),p>6&&cr(t,e,6,u)&&(d=!0),p>7&&cr(t,e,7,l)&&(d=!0),p>8&&cr(t,e,8,c)&&(d=!0),p>9&&cr(t,e,9,h)&&(d=!0),d){var v,y=tr(t,e.nodeIndex);switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=a),p>5&&(v[5]=s),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,a);break;case 6:v=m.transform(r,i,o,a,s);break;case 7:v=m.transform(r,i,o,a,s,u);break;case 8:v=m.transform(r,i,o,a,s,u,l);break;case 9:v=m.transform(r,i,o,a,s,u,l,c);break;case 10:v=m.transform(r,i,o,a,s,u,l,c,h)}}y.value=v}return d}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)oa(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)cr(t,e,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=ya(n[s],r[s]);a=e.text.prefix+a;var u=Jn(t,e.nodeIndex).renderText;t.renderer.setValue(u,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=$n(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)lr(t,e,s,n[s])&&(o=!0,a=Di(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Xn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)cr(t,e,o,n[o])&&(i=!0);if(i){var a,s=tr(t,e.nodeIndex);switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);a=l.transform.apply(l,_toConsumableArray(c))}s.value=a}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function xa(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Zn(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,dr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Da(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length;f>0&&hr(t,e,0,n),f>1&&hr(t,e,1,r),f>2&&hr(t,e,2,i),f>3&&hr(t,e,3,o),f>4&&hr(t,e,4,a),f>5&&hr(t,e,5,s),f>6&&hr(t,e,6,u),f>7&&hr(t,e,7,l),f>8&&hr(t,e,8,c),f>9&&hr(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)hr(t,e,r,n[r])}(t,e,r),!1}function Aa(t,e){if(er(t,e.nodeIndex).dirty)throw Gn(nr.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function Na(t){if(!(128&t.state)){if(ja(t,Pa.Destroy),Ra(t,Pa.Destroy),Ai(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=vr(t);if(e){var n=e.template._projectedViews;n&&(q(n,n.indexOf(t)),nr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Zn(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Jn(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&er(t,n).destroy()}}(t),_r(t)&&t.renderer.destroy(),t.state|=128}}var Pa=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Ra(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?La(Zn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ja(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Zn(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)La(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function La(t,e){var n=t.state;switch(e){case Pa.CheckNoChanges:0==(128&n)&&(12==(12&n)?Oa(t):64&n&&Fa(t,Pa.CheckNoChangesProjectedViews));break;case Pa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Oa(t):64&n&&Fa(t,e));break;case Pa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ta(t):64&n&&Fa(t,Pa.CheckAndUpdateProjectedViews));break;case Pa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ta(t):64&n&&Fa(t,e));break;case Pa.Destroy:Na(t);break;case Pa.CreateViewNodes:Sa(t)}}function Fa(t,e){ja(t,e),Ra(t,e)}function Ma(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(nr.setCurrentNode(t,a.nodeIndex),r){case 0:ua(t,a);break;case 1:Aa(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Va=!1;function Ua(t,e,n,r,i,o){var a=i.injector.get(wn);return wa(Ha(t,i,a,e,n),r,o)}function qa(t,e,n,r,i,o){var a=i.injector.get(wn),s=Ha(t,i,new bs(a),e,n),u=Za(r);return gs(ss.create,wa,null,[s,u,o])}function Ha(t,e,n,r,i){var o=e.injector.get(le),a=e.injector.get(jt),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Ba(t,e,n,r){var i=Za(n);return gs(ss.create,ba,null,[t,e,i,r])}function za(t,e,n,r){return n=Ka.get(e.element.componentProvider.provider.token)||Za(n),gs(ss.create,Ca,null,[t,e,n,r])}function Wa(t,e,n,r){return si(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Ga.size||(t.providers.forEach((function(t){var r=Ga.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){Qa.forEach((function(r,i){y(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:e,hasDeprecatedOverrides:n}}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Ga.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=kr(i.deps),n.value=i.value)}if(Qa.size>0){var o=new Set(t.modules);Qa.forEach((function(e,n){if(o.has(y(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:kr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[or(n)]=i}}))}}(t=t.factory((function(){return rr}))),t):t}(r))}var Ga=new Map,Qa=new Map,Ka=new Map;function Ya(t){var e;Ga.set(t.token,t),"function"==typeof t.token&&(e=y(t.token))&&"function"==typeof e.providedIn&&Qa.set(t.token,t)}function Xa(t,e){var n=Or(e.viewDefFactory),r=Or(n.nodes[0].element.componentView);Ka.set(t,r)}function Ja(){Ga.clear(),Qa.clear(),Ka.clear()}function Za(t){if(0===Ga.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Ga.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return rr}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Ga.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=kr(o.deps),i.value=o.value)}}}}function $a(t,e,n,r,i,o,a,s,u,l,c,h,f){var d=t.def.nodes[e];return Ia(t,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?tr(t,e).value:void 0}function ts(t,e,n,r,i,o,a,s,u,l,c,h,f){var d=t.def.nodes[e];return Da(t,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?tr(t,e).value:void 0}function es(t){return gs(ss.detectChanges,Ta,null,[t])}function ns(t){return gs(ss.checkNoChanges,Oa,null,[t])}function rs(t){return gs(ss.destroy,Na,null,[t])}var is,os,as,ss=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function us(t,e){os=t,as=e}function ls(t,e,n,r){return us(t,e),gs(ss.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function cs(t,e){if(128&t.state)throw Kn(ss[is]);return us(t,ps(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?fs(t,i,r,a):ds(t,i,r,a),16384&i.flags&&us(t,ps(t,n)),224&i.flags?tr(t,i.nodeIndex).value:void 0}),t)}function hs(t,e){if(128&t.state)throw Kn(ss[is]);return us(t,vs(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?fs(t,i,r,a):ds(t,i,r,a),3&i.flags&&us(t,vs(t,n)),224&i.flags?tr(t,i.nodeIndex).value:void 0}),t)}function fs(t,e,n,r){if(Ia.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[de(s.nonMinifiedName)]=ve(u))}var l=e.parent,c=Zn(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?t.renderer.setAttribute(c,h,f):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function ds(t,e,n,r){Da.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))}function ps(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function vs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ys=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var r=this.nodeDef,i=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=yr(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var e;return++s===a?(e=t.error).bind.apply(e,[t].concat(n)):rr})),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return Zn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return ni(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){ms(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&ms(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!_r(t);)t=t.parent;return t.parent?Zn(t.parent,yr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?mr(this.view,this.nodeDef):mr(this.elView,this.elDef)}}]),t}();function ms(t,e,n){for(var r in e.references)n[r]=ca(t,e,e.references[r])}function gs(t,e,n,r){var i,o,a=is,s=os,u=as;try{is=t;var l=e.apply(n,r);return os=s,as=u,is=a,l}catch(c){if(Nt(c)||!os)throw c;throw i=c,o=_s(),i instanceof Error||(i=new Error(i.toString())),Qn(i,o),i}}function _s(){return os?new ys(os,as):null}var bs=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new ws(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),ws=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=_s,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=Go(t);!function(t){Wo.delete(t.nativeNode)}(e),e instanceof Bo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new zo(n,null,r);i.name=t,Qo(i)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Qo(new Bo(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Qo(new Bo(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=Go(t),r=Go(e);n&&r&&n instanceof zo&&n.addChild(r),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var r=Go(t),i=Go(e),o=Go(n);r&&i&&r instanceof zo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=Go(t),r=Go(e);n&&r&&n instanceof zo&&n.removeChild(r),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),r=_s();return r&&Qo(new zo(n,null,r)),n}},{key:"setAttribute",value:function(t,e,n,r){var i=Go(t);i&&i instanceof zo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){var r=Go(t);r&&r instanceof zo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=Go(t);n&&n instanceof zo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=Go(t);n&&n instanceof zo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){var i=Go(t);i&&i instanceof zo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){var r=Go(t);r&&r instanceof zo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var r=Go(t);r&&r instanceof zo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var r=Go(t);r&&r.listeners.push(new Ho(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();function Cs(t,e,n){return new ks(t,e,n)}var ks=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).moduleType=t,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(t){!function(){if(!Va){Va=!0;var t=Mt()?{setCurrentNode:us,createRootView:qa,createEmbeddedView:Ba,createComponentView:za,createNgModuleRef:Wa,overrideProvider:Ya,overrideComponentView:Xa,clearOverrides:Ja,checkAndUpdateView:es,checkNoChangesView:ns,destroyView:rs,createDebugContext:function(t,e){return new ys(t,e)},handleEvent:ls,updateDirectives:cs,updateRenderer:hs}:{setCurrentNode:function(){},createRootView:Ua,createEmbeddedView:ba,createComponentView:Ca,createNgModuleRef:si,overrideProvider:rr,overrideComponentView:rr,clearOverrides:rr,checkAndUpdateView:Ta,checkNoChangesView:Oa,destroyView:Na,createDebugContext:function(t,e){return new ys(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?$a:ts,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?$a:ts,t)}};nr.setCurrentNode=t.setCurrentNode,nr.createRootView=t.createRootView,nr.createEmbeddedView=t.createEmbeddedView,nr.createComponentView=t.createComponentView,nr.createNgModuleRef=t.createNgModuleRef,nr.overrideProvider=t.overrideProvider,nr.overrideComponentView=t.overrideComponentView,nr.clearOverrides=t.clearOverrides,nr.checkAndUpdateView=t.checkAndUpdateView,nr.checkNoChangesView=t.checkNoChangesView,nr.destroyView=t.destroyView,nr.resolveDep=Ii,nr.createDebugContext=t.createDebugContext,nr.handleEvent=t.handleEvent,nr.updateDirectives=t.updateDirectives,nr.updateRenderer=t.updateRenderer,nr.dirtyParentQueries=sa}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Or(this._ngModuleDefFactory));return nr.createNgModuleRef(this.moduleType,t||Le.NULL,this._bootstrapComponents,e)}}]),n}(V)},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),s=n("Lhse"),u=n("yCtX"),l=n("quSY"),c=n("a7t3"),h=n("pLzU"),f=n("CRDf"),d=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new l.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[s.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return p}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return c}));var l,c=((l=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(s.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new l(t)},l);function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}();n.d(e,"a",(function(){return i}));var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.3","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];switch(Object(r.a)(s)?e.pop():s=void 0,e.length){case 0:return Object(o.b)(s);case 1:return s?Object(i.a)(e,s):Object(a.a)(e[0]);default:return Object(i.a)(e,s)}}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}))}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),s=n("CRDf"),u=n("I55L"),l=n("c2HN"),c=n("XoHu"),h=n("Lhse"),f=n("kJWO"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,l=e[e.length-1];return Object(i.a)(l)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof l&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),c=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new l(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(c)},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){var e=new r.a((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(t,e,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,o);if(!a.closed)return Object(i.a)(e)(a)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a"),i=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return C})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("8Y7J"),l=n("Jgta");function c(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},m=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},g=new u.o("angularfire2.app.options"),_=new u.o("angularfire2.app.nameOrConfig"),b=function t(){_classCallCheck(this,t)},w=new u.N("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=l.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return l.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function S(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&E("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(c){}return s}var l=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[l].concat(_toConsumableArray(o))),l}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var O=function(){function t(e){_classCallCheck(this,t),l.a.registerVersion("angularfire",w.full,e.toString()),l.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:g,useValue:e},{provide:_,useValue:n}]}}}]),t}()}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.a}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,l=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=l[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return F})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return N})),n.d(e,"i",(function(){return M})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return H})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return A})),n.d(e,"o",(function(){return y})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return R})),n.d(e,"s",(function(){return b})),n.d(e,"t",(function(){return p})),n.d(e,"u",(function(){return v})),n.d(e,"v",(function(){return C})),n.d(e,"w",(function(){return g})),n.d(e,"x",(function(){return w})),n.d(e,"y",(function(){return D})),n.d(e,"z",(function(){return T})),n.d(e,"A",(function(){return j})),n.d(e,"B",(function(){return L})),n.d(e,"C",(function(){return P})),n.d(e,"D",(function(){return G})),n.d(e,"E",(function(){return W})),n.d(e,"F",(function(){return I})),n.d(e,"G",(function(){return q})),n.d(e,"H",(function(){return B})),n.d(e,"I",(function(){return z}));var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},l=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return d().indexOf("Electron/")>=0}function b(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function C(){return!1}var k=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return Object(r.c)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},t}();function S(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}var x=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=T(l(o[0])||""),n=T(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},D=function(t){var e=x(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},A=function(t){var e=x(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function R(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function L(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var F=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function M(t,e){var n=new V(t,e);return n.subscribe.bind(n)}var V=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function U(){}var q=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function H(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function B(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(H(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(H(t,e,r)+"must be a valid context object.")}var W=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},G=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},qgXg:function(t,e,n){"use strict";var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a);n.d(e,"a",(function(){return o}));var o=new i(r)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(e,"a",(function(){return c}));var u,l,c=((l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,f=a?a.length:0;n;)n.remove(this),n=++c<f&&a[c]||null;if(Object(o.a)(u))try{u.call(this)}catch(p){e=!0,t=p instanceof s?h(p.errors):[p]}if(Object(r.a)(l))for(c=-1,f=l.length;++c<f;){var d=l[c];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof s?t=t.concat(h(p.errors)):t.push(p)}}if(e)throw new s(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=((u=new l).closed=!0,u),l);function h(t){return t.reduce((function(t,e){return t.concat(e instanceof s?e.errors:e)}),[])}},"tf+s":function(t,e,n){"use strict";var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}n.d(e,"a",(function(){return s}));var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(t){return t.lift(new u(t))}}var u=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a).prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function d(){return new r.a}function p(){return function(t){return s()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",(function(){return p}))},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(t))}},yLV6:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var g=m((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=m((function(t,e){return g(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function C(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function k(t,e){return void 0===t?e:t}function E(t,e,n){y(I(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){y(I(e),(function(e){t.removeEventListener(e,n,!1)}))}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];x(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function N(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}}var P=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var j="ontouchstart"in i,L=void 0!==N(i,"PointerEvent"),F=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),M=["x","y"],V=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){C(t.options.enable,[t])&&n.handler(e)},this.init()}function q(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=H(e)),i>1&&!n.firstMultiple?n.firstMultiple=H(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=B(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Q(s,u),e.distance=G(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var l,c,h=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=a?(l=a.pointers,G((c=r)[0],c[1],V)/G(l[0],l[1],V)):1,e.rotation=a?function(t,e){return Q(e[1],e[0],V)+Q(t[1],t[0],V)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=z(s,u,l);r=c.x,i=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=W(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;O(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:B(e),deltaX:t.deltaX,deltaY:t.deltaY}}function B(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function z(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function G(t,e,n){n||(n=M);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Q(t,e,n){return n||(n=M),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}b(Y,U,{handler:function(t){var e=K[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=$,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Z="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,U,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=X[r],o=J[t.pointerType]||t.pointerType,a="touch"==o,s=x(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function rt(t,e){var n=D(t.touches),r=D(t.changedTouches);return 12&e&&(n=A(n.concat(r),"identifier",!0)),[n,r]}b(nt,U,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function at(t,e){var n=D(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=D(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return O(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[A(o.concat(s),"identifier",!0),s]:void 0}function st(){U.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}b(ot,U,{handler:function(t){var e=it[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(st,U,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=N(c.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function vt(t){this.options=u({},this.defaults,t||{}),this.id=P++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function mt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function gt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){vt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function wt(){_t.apply(this,arguments)}function Ct(){vt.apply(this,arguments),this._timer=null,this._input=null}function kt(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function St(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ot(t,e){return(e=e||{}).recognizers=k(e.recognizers,Ot.defaults.preset),new Tt(t,e)}function Tt(t,e){var n;this.options=u({},Ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:F?ot:j?st:Y))(n,q),this.touchAction=new pt(this,this.options.touchAction),It(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function It(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,(function(i,o){n=N(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){C(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=T(r,"none")&&!dt.none,o=T(r,"pan-y")&&!dt["pan-y"],a=T(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},vt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=gt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=gt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=gt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=gt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+yt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+yt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!C(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=mt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(Ct,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(kt,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=mt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ot.VERSION="2.0.7",Ot.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[Ct]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return y(I(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return y(I(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&It(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ot,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Tt,Input:U,TouchAction:pt,TouchInput:ot,MouseInput:Y,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:_t,Tap:St,Pan:bt,Swipe:Et,Pinch:wt,Rotate:kt,Press:Ct,on:E,off:S,each:y,merge:_,extend:g,assign:u,inherit:b,bindFn:w,prefixed:N}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Ot,void 0===(r=(function(){return Ot}).call(e,n,e,t))||(t.exports=r)}(window,document)},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.b("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.j)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var l=Object(o.h)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(a.h)(e,s))throw c.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}l(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.h)(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(s){var u,l,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.k)(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.k)(e,t)},createSubscribe:a.i,ErrorFactory:a.b,deepExtend:a.k}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.o)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.u)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var g=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(g),e.a=g},zUnb:function(t,e,n){"use strict";n.r(e),n("yLV6");var r=n("8Y7J"),i=function t(){_classCallCheck(this,t)},o=function t(){_classCallCheck(this,t),this.title="P\xebrkufizim"},a=function t(){_classCallCheck(this,t)},s=new r.o("Location Initialized"),u=function t(){_classCallCheck(this,t)},l=new r.o("appBaseHref"),c=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(h(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,h(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function h(t){return t.replace(/\/index.html$/,"")}var f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(u),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return c.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(u),p=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),v=r.ub,y=new r.o("UseV4Plurals"),m=function t(){_classCallCheck(this,t)},g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):v(e||this.locale)(t)){case p.Zero:return"zero";case p.One:return"one";case p.Two:return"two";case p.Few:return"few";case p.Many:return"many";default:return"other"}}}]),n}(m);function _(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}var b=function t(){_classCallCheck(this,t)},w=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.wb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Ib)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}}]),n}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),k=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),E=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(sI){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new k(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new S(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new S(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),S=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},O=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new T,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){I("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){I("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),T=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function I(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.Ib)(e),"'."))}var x=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),D=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}(),A=function(){function t(e,n,r){_classCallCheck(this,t),this.ngSwitch=r,r._addCase(),this._view=new x(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}(),N=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),P=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),R=new N,j=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.zb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.Q.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(r.yb)(e))return P;if(Object(r.xb)(e))return R;throw n=t,Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(r.Ib)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),L=function t(){_classCallCheck(this,t)},F=new r.o("DocumentToken");function M(t){return"server"===t}var V,U=((V=function t(){_classCallCheck(this,t)}).ngInjectableDef=Object(r.Pb)({token:V,providedIn:"root",factory:function(){return new q(Object(r.Qb)(F),window,Object(r.Qb)(r.l))}}),V),q=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(Ox){this.errorHandler.handleError(Ox)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(sI){return!1}}}]),t}(),H=n("LRne"),B=n("Cfvw"),z=n("XNiG"),W=n("9ppp"),G=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new W.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(z.a),Q=n("HDdC");function K(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}K.prototype=Object.create(Error.prototype);var Y=K,X=n("z+Ro"),J=n("DH7j"),Z=n("l7GE"),$=n("ZUHj"),tt=n("yCtX"),et={};function nt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(X.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(J.a)(e[0])&&(e=e[0]),Object(tt.a)(e,i).lift(new rt(r))}var rt=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new it(t,this.resultSelector))}}]),t}(),it=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(et),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object($.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===et?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Z.a),ot=n("EY2u");function at(t){return new Q.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(B.a)(n):Object(ot.b)()).subscribe(e)}))}var st=n("lJxs"),ut=n("bHdf");function lt(){return Object(ut.a)(1)}var ct=n("7o/Q");function ht(t,e){return function(n){return n.lift(new ft(t,e))}}var ft=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dt(t,this.predicate,this.thisArg))}}]),t}(),dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(ct.a);function pt(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}pt.prototype=Object.create(Error.prototype);var vt=pt;function yt(t){return function(e){return 0===t?Object(ot.b)():e.lift(new mt(t))}}var mt=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new vt}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new gt(t,this.total))}}]),t}(),gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(ct.a),_t=n("vkgz"),bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return Object(_t.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function wt(){return new Y}function Ct(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new kt(t))}}var kt=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Et(t,this.defaultValue))}}]),t}(),Et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(ct.a),St=n("SpAZ");function Ot(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ht((function(e,n){return t(e,n,r)})):St.a,yt(1),n?Ct(e):bt((function(){return new Y})))}}var Tt=n("51Dv");function It(t){return function(e){var n=new xt(t),r=e.lift(n);return n.caught=r}}var xt=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Dt(t,this.selector,this.caught))}}]),t}(),Dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(i){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new Tt.a(this,void 0,void 0);this.add(r),Object($.a)(this,e,void 0,void 0,r)}}}]),n}(Z.a);function At(t){return function(e){return 0===t?Object(ot.b)():e.lift(new Nt(t))}}var Nt=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new vt}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pt(t,this.total))}}]),t}(),Pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(ct.a);function Rt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ht((function(e,n){return t(e,n,r)})):St.a,At(1),n?Ct(e):bt((function(){return new Y})))}}var jt=n("5+tZ"),Lt=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg,this.source))}}]),t}(),Ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(ct.a);function Mt(t,e){return"function"==typeof e?function(n){return n.pipe(Mt((function(n,r){return Object(B.a)(t(n,r)).pipe(Object(st.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Vt(t))}}var Vt=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ut(t,this.project))}}]),t}(),Ut=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Tt.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object($.a)(this,t,e,n,i)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Z.a),qt=n("XUOw");function Ht(){return lt()(Object(H.a).apply(void 0,arguments))}function Bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];Object(X.a)(n)?e.pop():n=null;var r=e.length;return Ht(1!==r||n?r>0?Object(tt.a)(e,n):Object(ot.b)(n):Object(qt.a)(e[0]),t)}}function zt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wt(t,e,n))}}var Wt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gt(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(ct.a);function Qt(t,e){return Object(jt.a)(t,e,1)}var Kt=n("mCNh"),Yt=n("quSY");function Xt(t){return function(e){return e.lift(new Jt(t))}}var Jt=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Zt(t,this.callback))}}]),t}(),Zt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Yt.a(r)),i}return n}(ct.a),$t=null;function te(){return $t}var ee,ne={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ie={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oe=function(){if(r.vb.Node)return r.vb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),ae=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return oe.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,r){t.setAttributeNS(e,n,r)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(sI){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ie.hasOwnProperty(e)&&(e=ie[e]))}return re[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=se||(se=document.querySelector("base"))?se.getAttribute("href"):null;return null==n?null:(e=n,ee||(ee=document.createElement("a")),ee.setAttribute("href",e),"/"===ee.pathname.charAt(0)?ee.pathname:"/"+ee.pathname)}},{key:"resetBaseElement",value:function(){se=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return _(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return ne}}],[{key:"makeCurrent",value:function(){var t;t=new n,$t||($t=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n),(t=e.call(this))._animationPrefix=null,t._transitionEnd=null;try{var r=t.createElement("div",document);if(null!=t.getStyle(r,"animationName"))t._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=t.getStyle(r,i[o]+"AnimationName")){t._animationPrefix="-"+i[o].toLowerCase()+"-";break}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(a).forEach((function(e){null!=t.getStyle(r,e)&&(t._transitionEnd=a[e])}))}catch(sI){t._animationPrefix=null,t._transitionEnd=null}return t}return _createClass(n,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),se=null;function ue(){return!!window.history.pushState}var le=new r.o("TRANSITION_ID"),ce=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=te();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[le,F,r.p],multi:!0}],he=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.vb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.vb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.vb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.vb.frameworkStabilizers||(r.vb.frameworkStabilizers=[]),r.vb.frameworkStabilizers.push((function(t){var e=r.vb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?te().isShadowRoot(e)?this.findTestabilityInTree(t,te().getHost(e),!0):this.findTestabilityInTree(t,te().parentElement(e),!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}();function fe(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.vb.ng=r.vb.ng||{})[t]=e)}var de={ApplicationRef:r.g,NgZone:r.x};function pe(t){return Object(r.U)(t)}var ve=new r.o("EventManagerPlugins"),ye=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}(),me=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=te().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),ge=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),_e=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return te().remove(t)}))}}]),n}(ge),be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},we=/%COMP%/g;function Ce(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Ce(t,i,n):(i=i.replace(we,t),n.push(i))}return n}function ke(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ee=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Se(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ie(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new xe(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Ce(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),Se=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(be[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=be[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=be[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.E.DashCase?t.style.setProperty(e,n,i&r.E.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.E.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){Te(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return Te(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ke(n)):this.eventManager.addEventListener(t,e,ke(n))}}]),t}(),Oe="@".charCodeAt(0);function Te(t,e){if(t.charCodeAt(0)===Oe)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=Ce(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(we,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(we,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Se),xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=Ce(a.id,a.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Se),De="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Ae=De("addEventListener"),Ne=De("removeEventListener"),Pe={},Re="__zone_symbol__propagationStopped",je=function(){var t="undefined"!=typeof Zone&&Zone[De("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),Le=function(t){return!!je&&je.hasOwnProperty(t)},Fe=function(t){var e=Pe[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==t[Re];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).ngZone=r,i&&M(i)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Re]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this,o=n;if(!t[Ae]||r.x.isInAngularZone()&&!Le(e))t.addEventListener(e,o,!1);else{var a=Pe[e];a||(a=Pe[e]=De("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=Le(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||t[Ae](e,Fe,!1)}return function(){return i.removeEventListener(t,e,o)}}},{key:"removeEventListener",value:function(t,e,n){var r=t[Ne];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Pe[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,Fe,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),n}(me),Ve={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ue=new r.o("HammerGestureConfig"),qe=new r.o("HammerLoader"),He=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t))._config=r,a.console=i,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(t){return!(!Ve.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'.concat(e,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),n}(me),Be=["alt","control","meta","shift"],ze={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},We=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return te().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Be.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=te().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Be.forEach((function(r){r!=n&&(0,ze[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(me),Ge=function t(){_classCallCheck(this,t)},Qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case r.G.NONE:return e;case r.G.HTML:return e instanceof Ye?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r.eb)(this._doc,String(e)));case r.G.STYLE:return e instanceof Xe?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r.fb)(e));case r.G.SCRIPT:if(e instanceof Je)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return e instanceof $e||e instanceof Ze?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r.gb)(String(e)));case r.G.RESOURCE_URL:if(e instanceof $e)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof Ke)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(t){return new Ye(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Xe(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Je(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Ze(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new $e(t)}}]),n}(Ge),Ke=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ke),Xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ke),Je=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ke),Ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ke),$e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ke),tn=[{provide:r.z,useValue:"browser"},{provide:r.A,useValue:function(){ae.makeCurrent(),he.init()},multi:!0},{provide:a,useClass:function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=te().getLocation(),this._history=te().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return te().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){te().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){te().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){ue()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){ue()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(a),deps:[F]},{provide:F,useFactory:function(){return document},deps:[]}],en=Object(r.R)(r.X,"browser",tn);function nn(){return new r.l}var rn=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:le,useExisting:r.c},ce]}}}]),t}();"undefined"!=typeof window&&window;var on=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},an=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(on),sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(on),un=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(on),ln=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(on),cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(on),hn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(on),fn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(on),dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(on),pn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(on),vn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),yn=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),mn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),gn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_n=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bn=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),wn=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Cn=function t(){_classCallCheck(this,t)},kn=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function En(t){return new kn(t)}function Sn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function On(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Tn=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function In(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];xn(r,Dn(e,r))}}function xn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&In(t.children,e)}function Dn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function An(t){var e=t.children&&t.children.map(An),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Cn),n}function Nn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Pn(t){return Array.prototype.concat.apply([],t)}function Rn(t){return t.length>0?t[t.length-1]:null}function jn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ln(t){return Object(r.xb)(t)?t:Object(r.yb)(t)?Object(B.a)(Promise.resolve(t)):Object(H.a)(t)}function Fn(t,e,n){return n?function(t,e){return Nn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!qn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!qn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!qn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!qn(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var Mn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Wn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}}]),t}(),Vn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,jn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Gn(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Un=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Zn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}}]),t}();function qn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Hn(t,e){var n=[];return jn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),jn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Bn=function t(){_classCallCheck(this,t)},zn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new rr(t);return new Mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Gn(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return jn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Hn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Gn(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Kn(t),"=").concat(Kn(e))})).join("&"):"".concat(Kn(t),"=").concat(Kn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Wn=new zn;function Gn(t){return t.segments.map((function(t){return Zn(t)})).join("/")}function Qn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kn(t){return Qn(t).replace(/%3B/gi,";")}function Yn(t){return Qn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xn(t){return decodeURIComponent(t)}function Jn(t){return Xn(t.replace(/\+/g,"%20"))}function Zn(t){return"".concat(Yn(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Yn(t),"=").concat(Yn(e[t]))})).join("")));var e}var $n=/^[^\/()?;=#]+/;function tr(t){var e=t.match($n);return e?e[0]:""}var er=/^[^=?&#]+/,nr=/^[^?&#]+/,rr=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Vn(t,e)),n}},{key:"parseSegment",value:function(){var t=tr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Un(Xn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=tr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=tr(this.remaining);r&&(n=r,this.capture(n))}t[Xn(e)]=Xn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(er);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(nr);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Jn(e),o=Jn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=tr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Vn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),ir=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=or(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=or(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=ar(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return ar(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function or(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=or(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function ar(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=ar(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var sr=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function ur(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var lr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,vr(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(ir);function cr(t,e){var n=function(t,e){var n=new dr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new pr("",new sr(n,[]))}(t,e),r=new G([new Un("",{})]),i=new G({}),o=new G({}),a=new G({}),s=new G(""),u=new hr(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new lr(new sr(u,[]),n)}var hr=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(st.a)((function(t){return En(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(st.a)((function(t){return En(t)})))),this._queryParamMap}}]),t}();function fr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var dr=function(){function t(e,n,r,i,o,a,s,u,l,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}}]),t}(),pr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,vr(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return yr(this._root)}}]),n}(ir);function vr(t,e){e.value._routerState=t,e.children.forEach((function(e){return vr(t,e)}))}function yr(t){var e=t.children.length>0?" { ".concat(t.children.map(yr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function mr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Nn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gr(t,e){return Nn(t.params,e.params)&&function(t,e){return qn(t,e)&&t.every((function(t,n){return Nn(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||gr(t.parent,e.parent))}function _r(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function br(t,e,n,r,i){var o={};return r&&jn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Mn(n.root===t?e:function t(e,n,r){var i={};return jn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Vn(e.segments,i)}(n.root,t,e),o,i)}var wr=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_r(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Rn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Cr=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function kr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Er(t,e,n){if(t||(t=new Vn([],{})),0===t.segments.length&&t.hasChildren())return Sr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=kr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!xr(s,u,a))return o;r+=2}else{if(!xr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Vn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Vn(t.segments.slice(r.pathIndex),t.children),Sr(o,0,i)}return r.match&&0===i.length?new Vn(t.segments,{}):r.match&&!t.hasChildren()?Or(t,e,n):r.match?Sr(t,0,i):Or(t,e,n)}function Sr(t,e,n){if(0===n.length)return new Vn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return jn(r,(function(n,r){null!==n&&(i[r]=Er(t.children[r],e,n))})),jn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Vn(t.segments,i)}function Or(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Tr(n[i].outlets);return new Vn(r,o)}if(0===i&&_r(n[0]))r.push(new Un(t.segments[e].path,n[0])),i++;else{var a=kr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&_r(s)?(r.push(new Un(a,Ir(s))),i+=2):(r.push(new Un(a,{})),i++)}}return new Vn(r,{})}function Tr(t){var e={};return jn(t,(function(t,n){null!==t&&(e[n]=Or(new Vn([],{}),0,t))})),e}function Ir(t){var e={};return jn(t,(function(t,n){return e[n]=""+t})),e}function xr(t,e,n){return t==n.path&&Nn(e,n.parameters)}var Dr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=ur(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),jn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=ur(t),o=t.value.component?r.children:e;jn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=ur(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new bn(t.value.snapshot))})),t.children.length&&this.forwardEvent(new gn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(mr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ar(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Ar(t){mr(t.value),t.children.forEach(Ar)}function Nr(t){return"function"==typeof t}function Pr(t){return t instanceof Mn}var Rr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},jr=function t(e){_classCallCheck(this,t),this.urlTree=e};function Lr(t){return new Q.a((function(e){return e.error(new Rr(t))}))}function Fr(t){return new Q.a((function(e){return e.error(new jr(t))}))}function Mr(t){return new Q.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Vr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.v)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(st.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(It((function(e){if(e instanceof jr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Rr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(st.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(It((function(t){if(t instanceof Rr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Vn([],{primary:t}):t;return new Mn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(st.a)((function(t){return new Vn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(H.a)({});var o=[],a=[],s={};return jn(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(Object(st.a)((function(t){return s[i]=t})));"primary"===i?o.push(c):a.push(c)})),H.a.apply(null,o.concat(a)).pipe(lt(),Ot(),Object(st.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(H.a).apply(void 0,_toConsumableArray(n)).pipe(Object(st.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(It((function(t){if(t instanceof Rr)return Object(H.a)(null);throw t})))})),lt(),Rt((function(t){return!!t})),It((function(t,n){if(t instanceof Y||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(H.a)(new Vn([],{}));throw new Rr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Br(r)!==o?Lr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Lr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fr(o):this.lineralizeSegments(n,o).pipe(Object(jt.a)((function(n){var o=new Vn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Ur(e,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Lr(e);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Fr(f):this.lineralizeSegments(r,f).pipe(Object(jt.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(st.a)((function(t){return n._loadedConfig=t,new Vn(r,{})}))):Object(H.a)(new Vn(r,{}));var o=Ur(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Lr(e);var l=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(jt.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Hr(t,e,n)&&"primary"!==Br(n)}))}(t,n,r)?{segmentGroup:qr(new Vn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Br(o)&&(n[Br(o)]=new Vn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Vn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Hr(t,e,n)}))}(t,n,r)?{segmentGroup:qr(new Vn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Hr(t,e,s)&&!r[Br(s)]&&(o[Br(s)]=new Vn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign({},r,o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(st.a)((function(t){return new Vn(s,t)}))):0===r.length&&0===u.length?Object(H.a)(new Vn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(st.a)((function(t){return new Vn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(H.a)(new Tn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(H.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(B.a)(i).pipe(Object(st.a)((function(r){var i,o=t.get(r);if(function(t){return t&&Nr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Nr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Ln(i)}))).pipe(lt(),(r=function(t){return!0===t},function(t){return t.lift(new Lt(r,void 0,t))})):Object(H.a)(!0)}(t.injector,e,n).pipe(Object(jt.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(st.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Q.a((function(e){return e.error(Sn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(H.a)(new Tn([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(H.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Mr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Mn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return jn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return jn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Vn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Ur(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||On)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function qr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Vn(t.segments.concat(e.segments),e.children)}return t}function Hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Br(t){return t.outlet||"primary"}var zr=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Wr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Gr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qr(t,e,n){var r=ur(t),i=t.value;jn(r,(function(t,r){Qr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Wr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Kr=Symbol("INITIAL_VALUE");function Yr(){return Mt((function(t){return nt.apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(At(1),Bt(Kr))})))).pipe(zt((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Kr)return t;if(r===Kr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pr(r))return r}return t}),t)}),Kr),ht((function(t){return t!==Kr})),Object(st.a)((function(t){return Pr(t)?t:!0===t})),At(1))}))}function Xr(t,e){return null!==t&&e&&e(new _n(t)),Object(H.a)(!0)}function Jr(t,e){return null!==t&&e&&e(new mn(t)),Object(H.a)(!0)}function Zr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(H.a)(!0);var i=r.map((function(r){return at((function(){var i,o=Gr(r,e,n);if(function(t){return t&&Nr(t.canActivate)}(o))i=Ln(o.canActivate(e,t));else{if(!Nr(o))throw new Error("Invalid CanActivate guard");i=Ln(o(e,t))}return i.pipe(Rt())}))}));return Object(H.a)(i).pipe(Yr())}function $r(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return at((function(){var i=e.guards.map((function(i){var o,a=Gr(i,e.node,n);if(function(t){return t&&Nr(t.canActivateChild)}(a))o=Ln(a.canActivateChild(r,t));else{if(!Nr(a))throw new Error("Invalid CanActivateChild guard");o=Ln(a(r,t))}return o.pipe(Rt())}));return Object(H.a)(i).pipe(Yr())}))}));return Object(H.a)(i).pipe(Yr())}var ti=function t(){_classCallCheck(this,t)},ei=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=ii(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new dr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sr(n,e),i=new pr(this.url,r);return this.inheritParamsAndData(i._root),Object(H.a)(i)}catch(Ox){return new Q.a((function(e){return e.error(Ox)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=fr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Hn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(Ox){if(!(Ox instanceof ti))throw Ox}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new ti}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new ti;if((t.outlet||"primary")!==r)throw new ti;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Rn(n).parameters:{};i=new dr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,si(t),r,t.component,t,ni(e),ri(e)+n.length,ui(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ti;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||On)(n,t,e);if(!r)throw new ti;var i={};jn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new dr(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,si(t),r,t.component,t,ni(e),ri(e)+o.length,ui(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=ii(e,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new sr(i,d)]}if(0===l.length&&0===f.length)return[new sr(i,[])];var p=this.processSegment(l,h,f,"primary");return[new sr(i,p)]}}]),t}();function ni(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ri(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ii(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return oi(t,e,n)&&"primary"!==ai(n)}))}(t,n,r)){var o=new Vn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==ai(s)){var u=new Vn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[ai(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}(t,e,r,new Vn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return oi(t,e,n)}))}(t,n,r)){var a=new Vn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(oi(t,n,l)&&!i[ai(l)]){var c=new Vn([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ai(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Vn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function oi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ai(t){return t.outlet||"primary"}function si(t){return t.data||{}}function ui(t){return t.resolve||{}}function li(t,e,n,r){var i=Gr(t,e,r);return Ln(i.resolve?i.resolve(e,n):i(e,n))}function ci(t){return function(e){return e.pipe(Mt((function(e){var n=t(e);return n?Object(B.a)(n).pipe(Object(st.a)((function(){return e}))):Object(B.a)([e])})))}}var hi=function t(){_classCallCheck(this,t)},fi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),di=new r.o("ROUTES"),pi=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(st.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Tn(Pn(i.injector.get(di)).map(An),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(B.a)(this.loader.load(t)):Ln(t()).pipe(Object(jt.a)((function(t){return t instanceof r.t?Object(H.a)(t):Object(B.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),vi=function t(){_classCallCheck(this,t)},yi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function mi(t){throw t}function gi(t,e,n){return e.parse("/")}function _i(t,e){return Object(H.a)(null)}var bi=function(){function t(e,n,i,o,a,s,u,l){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new z.a,this.errorHandler=mi,this.malformedUriErrorHandler=gi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_i,afterPreactivation:_i},this.urlHandlingStrategy=new yi,this.routeReuseStrategy=new fi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.v),this.console=a.get(r.bb);var h=a.get(r.x);this.isNgZoneEnabled=h instanceof r.x,this.resetConfig(l),this.currentUrlTree=new Mn(new Vn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pi(s,u,(function(t){return c.triggerEvent(new vn(t))}),(function(t){return c.triggerEvent(new yn(t))})),this.routerState=cr(this.currentUrlTree,this.rootComponentType),this.transitions=new G({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(ht((function(t){return 0!==t.id})),Object(st.a)((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Mt((function(t){var r,i,o,a=!1,s=!1;return Object(H.a)(t).pipe(Object(_t.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Mt((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(H.a)(t).pipe(Mt((function(t){var r=e.transitions.getValue();return n.next(new an(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ot.a:[t]})),Mt((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Mt((function(t){return function(t,e,n,r,i){return new Vr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(st.a)((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),Object(_t.a)((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(jt.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new ei(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(st.a)((function(t){return Object.assign({},r,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(_t.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(_t.a)((function(t){var r=new cn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,l=t.extractedUrl,c=t.source,h=t.restoredState,f=t.extras,d=new an(u,e.serializeUrl(l),c,h);n.next(d);var p=cr(l,e.rootComponentType).snapshot;return Object(H.a)(Object.assign({},t,{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ot.a})),ci((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(_t.a)((function(t){var n=new hn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(st.a)((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=ur(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!qn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qn(t.url,e.url)||!Nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gr(t,e)||!Nn(t.queryParams,e.queryParams);case"paramsChange":default:return!gr(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new zr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Wr(u&&u.outlet&&u.outlet.component||null,s))}else s&&Qr(n,u,o),o.canActivateChecks.push(new zr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),jn(a,(function(t,e){return Qr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(jt.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(H.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(B.a)(t).pipe(Object(jt.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(H.a)(!0);var a=o.map((function(o){var a,s=Gr(o,e,i);if(function(t){return t&&Nr(t.canDeactivate)}(s))a=Ln(s.canDeactivate(t,e,n,r));else{if(!Nr(s))throw new Error("Invalid CanDeactivate guard");a=Ln(s(t,e,n,r))}return a.pipe(Rt())}));return Object(H.a)(a).pipe(Yr())}(t.component,t.route,n,e,r)})),Rt((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(jt.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(B.a)(e).pipe(Qt((function(e){return Object(B.a)([Jr(e.route.parent,r),Xr(e.route,r),$r(t,e.path,n),Zr(t,e.route,n)]).pipe(lt(),Rt((function(t){return!0!==t}),!0))})),Rt((function(t){return!0!==t}),!0))}(r,a,t,e):Object(H.a)(n)})),Object(st.a)((function(t){return Object.assign({},n,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(_t.a)((function(t){if(Pr(t.guardsResult)){var n=Sn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(_t.a)((function(t){var n=new fn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),ht((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new un(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),ci((function(t){if(t.guards.canActivateChecks.length)return Object(H.a)(t).pipe(Object(_t.a)((function(t){var n=new dn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(jt.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(B.a)(i).pipe(Qt((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(H.a)({});if(1===i.length){var o=i[0];return li(t[o],e,n,r).pipe(Object(st.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(B.a)(i).pipe(Object(jt.a)((function(i){return li(t[i],e,n,r).pipe(Object(st.a)((function(t){return a[i]=t,t})))}))).pipe(Ot(),Object(st.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(st.a)((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,fr(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(Kt.a)(zt(t,e),yt(1),Ct(e))(n)}:function(e){return Object(Kt.a)(zt((function(e,n,r){return t(e,n,r+1)})),yt(1))(e)}}((function(t,e){return t})),Object(st.a)((function(e){return t}))):Object(H.a)(t)})))}),Object(_t.a)((function(t){var n=new pn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),ci((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(st.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new sr(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new hr(new G((u=n.value).url),new G(u.params),new G(u.queryParams),new G(u.fragment),new G(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return t(e,n)}));return new sr(l,c)}(t,e._root,n?n._root:void 0);return new lr(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:n})})),Object(_t.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},Object(st.a)((function(t){return new Dr(i,t.targetRouterState,t.currentRouterState,o).activate(r),t}))),Object(_t.a)({next:function(){a=!0},complete:function(){a=!0}}),Xt((function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new un(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null})),It((function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=Pr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new un(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ln(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Yb){t.reject(Yb)}}var u;return ot.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){In(t),this.config=t.map(An),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return br(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new wr(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return jn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new wr(n,e,r)}(n);if(o.toRoot())return br(e.root,new Vn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new Cr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Cr(n.snapshot._urlSegment,!0,0);var r=_r(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Cr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Sr(a.segmentGroup,a.index,o.commands):Er(a.segmentGroup,a.index,o.commands);return br(a.segmentGroup,s,e,r,i)}(l,this.currentUrlTree,t,h,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Pr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Ox){e=this.malformedUriErrorHandler(Ox,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Pr(t))return Fn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Fn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new sn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}(),wi=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:Ci(this.skipLocationChange),replaceUrl:Ci(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ci(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ci(this.preserveFragment)})}}]),t}();function Ci(t){return""===t||!!t}var ki=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ei,this.attachRef=null},Ei=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ki,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Si=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Oi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}(),Oi=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===hr?this.route:t===Ei?this.childContexts:this.parent.get(t,e)}}]),t}(),Ti=function t(){_classCallCheck(this,t)},Ii=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(It((function(){return Object(H.a)(null)})))}}]),t}(),xi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(H.a)(null)}}]),t}(),Di=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new pi(n,r,(function(t){return e.triggerEvent(new vn(t))}),(function(t){return e.triggerEvent(new yn(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(ht((function(t){return t instanceof sn})),Qt((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.v);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(B.a)(r).pipe(Object(ut.a)(),Object(st.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(jt.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),Ai=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof an?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sn&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof wn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new wn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),Ni=new r.o("ROUTER_CONFIGURATION"),Pi=new r.o("ROUTER_FORROOT_GUARD"),Ri=[c,{provide:Bn,useClass:zn},{provide:bi,useFactory:qi,deps:[r.g,Bn,Ei,c,r.p,r.u,r.i,di,Ni,[vi,new r.y],[hi,new r.y]]},Ei,{provide:hr,useFactory:Hi,deps:[bi]},{provide:r.u,useClass:r.I},Di,xi,Ii,{provide:Ni,useValue:{enableTracing:!1}}];function ji(){return new r.w("Router",bi)}var Li=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Ri,Ui(e),{provide:Pi,useFactory:Vi,deps:[[bi,new r.y,new r.H]]},{provide:Ni,useValue:n||{}},{provide:u,useFactory:Mi,deps:[a,[new r.n(l),new r.y],Ni]},{provide:Ai,useFactory:Fi,deps:[bi,U,Ni]},{provide:Ti,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xi},{provide:r.w,multi:!0,useFactory:ji},[Bi,{provide:r.d,multi:!0,useFactory:zi,deps:[Bi]},{provide:Gi,useFactory:Wi,deps:[Bi]},{provide:r.b,multi:!0,useExisting:Gi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ui(e)]}}}]),t}();function Fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ai(t,e,n)}function Mi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new f(t,e):new d(t,e)}function Vi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:di,multi:!0,useValue:t}]}function qi(t,e,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new bi(null,e,n,r,i,o,a,Pn(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=te();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Hi(t){return t.routerState.root}var Bi=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new z.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(s,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(bi),i=t.injector.get(Ni);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(H.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ni),n=this.injector.get(Di),i=this.injector.get(Ai),o=this.injector.get(bi),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function zi(t){return t.appInitializer.bind(t)}function Wi(t){return t.bootstrapListener.bind(t)}var Gi=new r.o("Router Initializer"),Qi=r.qb({encapsulation:2,styles:[],data:{}});function Ki(t){return r.Lb(0,[(t()(),r.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(1,212992,null,0,Si,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}var Yi=r.ob("ng-component",Cn,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"ng-component",[],null,null,null,Ki,Qi)),r.rb(1,49152,null,0,Cn,[],null,null)],null,null)}),{},{},[]),Xi=function t(){_classCallCheck(this,t)};function Ji(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Zi(t){return{type:6,styles:t,offset:null}}function $i(t){Promise.resolve(null).then(t)}var to=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;$i((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),eo=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?$i((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function no(t){return null!=t&&""+t!="false"}function ro(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function io(t){return Array.isArray(t)?t:[t]}function oo(t){return null==t?"":"string"==typeof t?t:t+"px"}function ao(t){return t instanceof r.k?t.nativeElement:t}var so,uo=new r.N("8.2.3");try{so="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(sI){so=!1}var lo,co,ho,fo=((co=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!so)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).ngInjectableDef=Object(r.Pb)({factory:function(){return new co(Object(r.Qb)(r.z,8))},token:co,providedIn:"root"}),co),po=function t(){_classCallCheck(this,t)},vo=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yo(){if(lo)return lo;if("object"!=typeof document||!document)return lo=new Set(vo);var t=document.createElement("input");return lo=new Set(vo.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function mo(t){return function(){if(null==ho&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return ho=!0}}))}finally{ho=ho||!1}return ho}()?t:!!t.capture}var go,_o=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();function bo(){if("object"!=typeof document||!document)return _o.NORMAL;if(!go){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),go=_o.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,go=0===t.scrollLeft?_o.NEGATED:_o.INVERTED),t.parentNode.removeChild(t)}return go}function wo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Co=n("D0XW");function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.a;return function(n){return n.lift(new Eo(t,e))}}var Eo=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new So(t,this.dueTime,this.scheduler))}}]),t}(),So=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Oo,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(ct.a);function Oo(t){t.debouncedNext()}function To(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var Io,xo,Do=0,Ao=new Map,No=null,Po=((xo=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"describe",value:function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),Ao.set(e,{messageElement:e,referenceCount:0})):Ao.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}},{key:"removeDescription",value:function(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=Ao.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}No&&0===No.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");No&&this._deleteMessagesContainer(),Ao.clear()}},{key:"_createMessageElement",value:function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),No.appendChild(e),Ao.set(t,{messageElement:e,referenceCount:0})}},{key:"_setMessageId",value:function(t){t.id||(t.id="cdk-describedby-message-"+Do++)}},{key:"_deleteMessageElement",value:function(t){var e=Ao.get(t),n=e&&e.messageElement;No&&n&&No.removeChild(n),Ao.delete(t)}},{key:"_createMessagesContainer",value:function(){if(!No){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(No=this._document.createElement("div")).id="cdk-describedby-message-container",No.setAttribute("aria-hidden","true"),No.style.display="none",this._document.body.appendChild(No)}}},{key:"_deleteMessagesContainer",value:function(){No&&No.parentNode&&(No.parentNode.removeChild(No),No=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(t){var e=To(t,"aria-describedby").filter((function(t){return 0!=t.indexOf("cdk-describedby-message")}));t.setAttribute("aria-describedby",e.join(" "))}},{key:"_addMessageReference",value:function(t,e){var n,r,i,o,a=Ao.get(e);n=t,r="aria-describedby",i=a.messageElement.id,(o=To(n,r)).some((function(t){return t.trim()==i.trim()}))||(o.push(i.trim()),n.setAttribute(r,o.join(" "))),t.setAttribute("cdk-describedby-host",""),a.referenceCount++}},{key:"_removeMessageReference",value:function(t,e){var n,r,i,o,a=Ao.get(e);a.referenceCount--,n=t,r="aria-describedby",i=a.messageElement.id,(o=To(n,r).filter((function(t){return t!=i.trim()}))).length?n.setAttribute(r,o.join(" ")):n.removeAttribute(r),t.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(t,e){var n=To(t,"aria-describedby"),r=Ao.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}},{key:"_canBeDescribed",value:function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":(""+e).trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}},{key:"_isElementNode",value:function(t){return t.nodeType===this._document.ELEMENT_NODE}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new xo(Object(r.Qb)(F))},token:xo,providedIn:"root"}),xo),Ro=((Io=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(sI){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Lo(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Lo(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||jo(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Io(Object(r.Qb)(fo))},token:Io,providedIn:"root"}),Io);function jo(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Lo(t){if(!jo(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Fo,Mo,Vo=function(){function t(e,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(At(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Uo=((Fo=function(){function t(e,n,r){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=r}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Vo(t,this._checker,this._ngZone,this._document,e)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Fo(Object(r.Qb)(Ro),Object(r.Qb)(r.x),Object(r.Qb)(F))},token:Fo,providedIn:"root"}),Fo),qo=mo({passive:!0,capture:!0}),Ho=((Mo=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){r._lastTouchTarget=null,r._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){r._lastTouchTarget||r._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=r._touchTimeoutId&&clearTimeout(r._touchTimeoutId),r._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,r._touchTimeoutId=setTimeout((function(){return r._lastTouchTarget=null}),650)},this._windowFocusListener=function(){r._windowFocused=!0,r._windowFocusTimeoutId=setTimeout((function(){return r._windowFocused=!1}))}}return _createClass(t,[{key:"monitor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(H.a)(null);var r=ao(t);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=n,i.subject.asObservable()}var o={unlisten:function(){},checkChildren:n,subject:new z.a};this._elementInfo.set(r,o),this._incrementMonitoredElementCount();var a=function(t){return e._onFocus(t,r)},s=function(t){return e._onBlur(t,r)};return this._ngZone.runOutsideAngular((function(){r.addEventListener("focus",a,!0),r.addEventListener("blur",s,!0)})),o.unlisten=function(){r.removeEventListener("focus",a,!0),r.removeEventListener("blur",s,!0)},o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=ao(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(t,e,n){var r=ao(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_setClasses",value:function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_incrementMonitoredElementCount",value:function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,qo),document.addEventListener("mousedown",t._documentMousedownListener,qo),document.addEventListener("touchstart",t._documentTouchstartListener,qo),window.addEventListener("focus",t._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,qo),document.removeEventListener("mousedown",this._documentMousedownListener,qo),document.removeEventListener("touchstart",this._documentTouchstartListener,qo),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Mo(Object(r.Qb)(r.x),Object(r.Qb)(fo))},token:Mo,providedIn:"root"}),Mo),Bo=function t(){_classCallCheck(this,t)},zo=new r.N("8.2.3"),Wo=new r.o("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Go=function(){function t(e,n){_classCallCheck(this,t),this._sanityChecksEnabled=e,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._window;return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){zo.full!==uo.full&&console.warn("The Angular Material version ("+zo.full+") does not match the Angular CDK version ("+uo.full+").\nPlease ensure the versions of these two packages exactly match.")}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),t}();function Qo(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=no(t)}}]),n}(t)}function Ko(t,e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}]),r}(t)}function Yo(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=no(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(sI){!1}var Xo,Jo=((Xo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Xo},token:Xo,providedIn:"root"}),Xo),Zo=new r.o("MAT_HAMMER_OPTIONS"),$o=["longpress","slide","slidestart","slideend","slideright","slideleft"],ta={on:function(){},off:function(){}},ea=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._hammerOptions=t,i.events=$o,r&&r._checkHammerIsAvailable(),i}return _createClass(n,[{key:"buildHammer",value:function(t){var e="undefined"!=typeof window?window.Hammer:null;if(!e)return ta;var n=new e(t,this._hammerOptions||void 0),r=new e.Pan,i=new e.Swipe,o=new e.Press,a=this._createRecognizer(r,{event:"slide",threshold:0},i),s=this._createRecognizer(o,{event:"longpress",time:500});return r.recognizeWith(i),s.recognizeWith(a),n.add([i,o,r,a,s]),n}},{key:"_createRecognizer",value:function(t,e){for(var n=new t.constructor(e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return i.push(t),i.forEach((function(t){return n.recognizeWith(t)})),n}}]),n}(function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}()),na=function t(){_classCallCheck(this,t)},ra=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),ia=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=r,this.state=ra.HIDDEN}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),oa={enterDuration:450,exitDuration:400},aa=mo({passive:!0}),sa=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),n=o._lastTouchStartEvent&&Date.now()<o._lastTouchStartEvent+800;o._target.rippleDisabled||e||n||(o._isPointerDown=!0,o.fadeInRipple(t.clientX,t.clientY,o._target.rippleConfig))},this._onTouchStart=function(t){if(!o._target.rippleDisabled){o._lastTouchStartEvent=Date.now(),o._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)o.fadeInRipple(e[n].clientX,e[n].clientY,o._target.rippleConfig)}},this._onPointerUp=function(){o._isPointerDown&&(o._isPointerDown=!1,o._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===ra.VISIBLE||t.config.terminateOnPointerUp&&t.state===ra.FADING_IN)&&t.fadeOut()})))},i.isBrowser&&(this._containerElement=ao(r),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign({},oa,r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,l=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-a+"px",c.style.top=u-a+"px",c.style.height=2*a+"px",c.style.width=2*a+"px",c.style.backgroundColor=r.color||null,c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new ia(this,c,r);return h.state=ra.FADING_IN,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=ra.VISIBLE,r.persistent||t&&n._isPointerDown||h.fadeOut()}),l),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign({},oa,t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=ra.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=ra.HIDDEN,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=this,n=ao(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,aa)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,aa)}))}}]),t}(),ua=new r.o("mat-ripple-global-options"),la=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new sa(this,n,e,r),"NoopAnimations"===o&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}(),ca=function t(){_classCallCheck(this,t)},ha=function t(){_classCallCheck(this,t)},fa=new r.o("mat-label-global-options"),da=n("VRyK"),pa=n("n6bG");function va(t,e,n,r){return Object(pa.a)(n)&&(r=n,n=void 0),r?va(t,e,n).pipe(Object(st.a)((function(t){return Object(J.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Q.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}function ya(t){return function(e){return e.lift(new ma(t))}}var ma=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new ga(t),r=Object($.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),ga=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Z.a),_a=0,ba=function t(){_classCallCheck(this,t),this.id="mat-error-"+_a++},wa=function t(){_classCallCheck(this,t)};function Ca(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var ka,Ea=function t(){_classCallCheck(this,t)},Sa=function t(){_classCallCheck(this,t)},Oa=0,Ta=Ko((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),Ia=new r.o("MAT_FORM_FIELD_DEFAULT_OPTIONS"),xa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,l){var c;return _classCallCheck(this,n),(c=e.call(this,t))._elementRef=t,c._changeDetectorRef=r,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=u,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new z.a,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-"+Oa++,c._labelId="mat-form-field-label-"+Oa++,c._previousDirection="ltr",c._labelOptions=i||{},c.floatLabel=c._labelOptions.float||"auto",c._animationsEnabled="NoopAnimations"!==l,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Bt(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ya(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(ya(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Object(da.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Bt(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Bt(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(ya(this._destroyed)).subscribe((function(){t.updateOutlineGap(),t._previousDirection=t._dir.value}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,va(this._label.nativeElement,"transitionend").pipe(At(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(t||n.hintLabel)throw Ca("start");t=r}else if("end"===r.align){if(e)throw Ca("end");e=r}}))}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(document.documentElement.contains(this._elementRef.nativeElement)){var e=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,u=this._getStartEnd(a),l=this._getStartEnd(t.children[0].getBoundingClientRect()),c=0,h=_createForOfIteratorHelper(t.children);try{for(h.s();!(s=h.n()).done;){c+=s.value.offsetWidth}}catch(p){h.e(p)}finally{h.f()}e=l-u-5,n=c>0?.75*c+10:0}for(var f=0;f<i.length;f++)i.item(f).style.width=e+"px";for(var d=0;d<o.length;d++)o.item(d).style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return"rtl"===this._previousDirection?t.right:t.left}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=no(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(Ta),Da=function t(){_classCallCheck(this,t)},Aa=function t(){_classCallCheck(this,t)},Na=function t(){_classCallCheck(this,t)},Pa=function t(){_classCallCheck(this,t),this.align="start"},Ra=function t(e){_classCallCheck(this,t),this._animationMode=e},ja=function t(){_classCallCheck(this,t)},La=new r.o("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(F)}}),Fa=((ka=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.m,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new ka(Object(r.Qb)(La,8))},token:ka,providedIn:"root"}),ka),Ma=function t(){_classCallCheck(this,t)};function Va(){return"undefined"!=typeof process}function Ua(t){switch(t.length){case 0:return new to;case 1:return t[0];default:return new eo(t)}}function qa(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(r.forEach((function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s})),r||s.push(c),l=c,u=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function Ha(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&Ba(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&Ba(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&Ba(n,"destroy",t))}))}}function Ba(t,e,n){var r=n.totalTime,i=za(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function za(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Wa(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Ga(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Qa=function(t,e){return!1},Ka=function(t,e){return!1},Ya=function(t,e,n){return[]},Xa=Va();(Xa||"undefined"!=typeof Element)&&(Qa=function(t,e){return t.contains(e)},Ka=function(){if(Xa||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Ka}(),Ya=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var Ja=null,Za=!1;function $a(t){Ja||(Ja=("undefined"!=typeof document?document.body:null)||{},Za=!!Ja.style&&"WebkitAppearance"in Ja.style);var e=!0;return Ja.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Ja.style)&&Za)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ja.style),e}var ts=Ka,es=Qa,ns=Ya;function rs(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var is=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $a(t)}},{key:"matchesElement",value:function(t,e){return ts(t,e)}},{key:"containsElement",value:function(t,e){return es(t,e)}},{key:"query",value:function(t,e,n){return ns(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new to(n,r)}}]),t}(),os=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new is,t}();function as(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ss(parseFloat(e[1]),e[2])}function ss(t,e){switch(e){case"s":return 1e3*t;default:return t}}function us(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=ss(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=ss(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function ls(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function cs(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else ls(t,n);return n}function hs(t,e,n){return n?e+":"+n+";":""}function fs(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=hs(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=hs(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function ds(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=ws(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),Va()&&fs(t))}function ps(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=ws(e);t.style[n]=""})),Va()&&fs(t))}function vs(t){return Array.isArray(t)?1==t.length?t[0]:Ji(t):t}var ys=new RegExp("{{\\s*(.+?)\\s*}}","g");function ms(t){var e=[];if("string"==typeof t){for(var n,r=t.toString();n=ys.exec(r);)e.push(n[1]);ys.lastIndex=0}return e}function gs(t,e,n){var r=t.toString(),i=r.replace(ys,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function _s(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var bs=/-+([a-z0-9])/g;function ws(t){return t.replace(bs,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Cs(t,e){return 0===t||0===e}function ks(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=Ss(t,e)}))},s=1;s<e.length;s++)a()}return e}function Es(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Ss(t,e){return window.getComputedStyle(t)[e]}var Os=new Set(["true","1"]),Ts=new Set(["false","0"]);function Is(t,e){var n=Os.has(t)||Ts.has(t),r=Os.has(e)||Ts.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Os.has(t):Ts.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Os.has(e):Ts.has(e)),a&&s}}var xs=new RegExp("s*:selfs*,?","g");function Ds(t,e,n){return new As(t).build(e,n)}var As=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Ns(e);return this._resetContextStyleTimingState(n),Es(this,vs(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Ps(t)){var e=t;Object.keys(e).forEach((function(t){ms(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=_s(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Es(this,vs(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Is(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Is(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Rs(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Es(n,t,e)})),options:Rs(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Es(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Rs(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return js(us(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=js(0,0,"");return i.dynamic=!0,i.strValue=r,i}return js((n=n||us(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Zi({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Zi(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Ps(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l,c,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,l=s.params||{},(c=ms(a)).length&&c.forEach((function(t){l.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=t.steps.map((function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Ps(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Ps(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return l.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Es(this,vs(t.animation),e),options:Rs(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Rs(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rs(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(xs,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Wa(e.collectedStyles,e.currentQuerySelector,{});var s=Es(this,vs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Rs(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:us(t.timings,e.errors,!0);return{type:12,animation:Es(this,vs(t.animation),e),timings:n,options:null}}}]),t}(),Ns=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ps(t){return!Array.isArray(t)&&"object"==typeof t}function Rs(t){var e;return t?(t=ls(t)).params&&(t.params=(e=t.params)?ls(e):null):t={},t}function js(t,e,n){return{duration:t,delay:e,easing:n}}function Ls(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Fs=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Ms=new RegExp(":enter","g"),Vs=new RegExp(":leave","g");function Us(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new qs).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}var qs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Fs;var c=new Bs(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Es(this,n,c);var h=c.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Ls(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?as(n.duration):null,o=null!=n.delay?as(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Es(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Hs);var a=as(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Es(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?as(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Es(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return us(e.params?gs(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?as(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Hs);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Es(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Es(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Hs={},Bs=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new zs(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=as(r.duration)),null!=r.delay&&(i.delay=as(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=gs(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Hs,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ws(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Ms,"."+this._enterClassName)).replace(Vs,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),zs=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):cs(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=gs(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=cs(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?_s(e.values()):[],a=n.size?_s(n.values()):[];if(r){var s=i[0],u=ls(s);s.offset=0,u.offset=1,i=[s,u]}return Ls(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Ws=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=cs(t[0],!1);u.offset=0,o.push(u);var l=cs(t[0],!1);l.offset=Gs(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=cs(t[h],!1);f.offset=Gs((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Ls(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(zs);function Gs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Qs=function t(){_classCallCheck(this,t)},Ks=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return ws(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(Ys[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Qs),Ys=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Xs(t,e,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Js={},Zs=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Js,f=this.buildStyles(n,a&&a.params||Js,c),d=s&&s.params||Js,p=this.buildStyles(r,d,c),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign({},h,d)},b=l?[]:Us(t,e,this.ast.animation,i,o,f,p,_,u,c),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),c.length)return Xs(e,this._triggerName,n,r,g,f,p,[],[],y,m,w,c);b.forEach((function(t){var n=t.element,r=Wa(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=Wa(m,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var C=_s(v.values());return Xs(e,this._triggerName,n,r,g,f,p,b,C,y,m,w)}}]),t}(),$s=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=ls(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=gs(o,r,e)),n[t]=o}))}})),n}}]),t}(),tu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new $s(t.style,t.options&&t.options.params||{})})),eu(this.states,"true","1"),eu(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new Zs(e,t,r.states))})),this.fallbackTransition=new Zs(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function eu(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var nu=new Fs,ru=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Ds(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=qa(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=Us(this._driver,e,a,"ng-enter","ng-leave",{},{},i,nu,o)).forEach((function(t){var e=Wa(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=Ua(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=za(e,"","","");return Ha(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),iu=[],ou={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},au={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},su=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=ls(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),uu=new su("void"),lu=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yu(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=Wa(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Wa(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(yu(t,"ng-trigger"),yu(t,"ng-trigger-"+e),u[e]=uu),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new hu(this.id,e,t),s=this._engine.statesByElement.get(t);s||(yu(t,"ng-trigger"),yu(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new su(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=uu),"void"===l.value||u.value!==l.value){var c=Wa(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(yu(t,"ng-animate-queued"),a.onStart((function(){mu(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){ps(t,p),ds(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ua(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||uu,s=new su("void"),u=new hu(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){yu(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=za(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Ha(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),cu=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new lu(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(fu(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(fu(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yu(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),mu(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(fu(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return fu(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return Ua(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=ou,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)yu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Ua(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Fs,i=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)c.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=vu(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return yu(t,n)}))}));for(var y=[],m=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),m.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return m.add(t)})):g.add(b))}var C=new Map,k=vu(f,Array.from(m));k.forEach((function(t,e){var n="ng-leave"+v++;C.set(e,n),t.forEach((function(t){return yu(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return mu(t,n)}))})),k.forEach((function(t,e){var n=C.get(e);t.forEach((function(t){return mu(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=C.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(y.errors&&y.errors.length)S.push(y);else{if(f)return e.onStart((function(){return ps(o,y.fromStyles)})),e.onDestroy((function(){return ds(o,y.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return ps(o,y.fromStyles)})),e.onDestroy((function(){return ds(o,y.toStyles)})),void i.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return Wa(s,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(S.length){var T=[];S.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var I=new Map,x=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){Wa(I,e,[]).push(t),t.destroy()}))}));var D=y.filter((function(t){return _u(t,u,l)})),A=new Map;pu(A,this.driver,g,l,"*").forEach((function(t){_u(t,u,l)&&D.push(t)}));var N=new Map;d.forEach((function(t,e){pu(N,n.driver,new Set(t),u,"!")})),D.forEach((function(t){var e=A.get(t),n=N.get(t);A.set(t,Object.assign({},e,n))}));var P=[],R=[],j={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(c.has(e))return a.onDestroy((function(){return ds(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=j;if(x.size>1){for(var l=e,h=[];l=l.parentNode;){var f=x.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,N,A);if(a.setRealPlayer(d),u===j)P.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=Ua(p)),i.push(a)}}else ps(e,s.fromStyles),a.onDestroy((function(){return ds(e,s.toStyles)})),R.push(a),c.has(e)&&i.push(a)})),R.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=Ua(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<y.length;L++){var F=y[L],M=F.__ng_removed;if(mu(F,"ng-leave"),!M||!M.hasAnimation){var V=[];if(s.size){var U=s.get(F);U&&U.length&&V.push.apply(V,_toConsumableArray(U));for(var q=this.driver.query(F,".ng-animating",!0),H=0;H<q.length;H++){var B=s.get(q[H]);B&&B.length&&V.push.apply(V,_toConsumableArray(B))}}var z=V.filter((function(t){return!t.destroyed}));z.length?gu(this,F,z):this.processLeaveNode(F)}}return y.length=0,P.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),P}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var l=function(){var t=r.value.element,u=t!==o,l=Wa(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)}))};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}ps(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new to(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||iu).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof eo?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),_=o.get(f),b=qa(0,a._normalizer,0,e.keyframes,g,_),w=a._buildPlayer(e,b,m);if(e.subTimeline&&r&&h.add(f),y){var C=new hu(t,s,f);C.setRealPlayer(w),l.push(C)}return w}));l.forEach((function(t){Wa(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return yu(t,"ng-animating")}));var d=Ua(f);return d.onDestroy((function(){c.forEach((function(t){return mu(t,"ng-animating")})),ds(u,e.toStyles)})),h.forEach((function(t){Wa(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new to(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),hu=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new to,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return Ha(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){Wa(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function fu(t){return t&&1===t.nodeType}function du(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function pu(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(du(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=au,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return du(t,o[s++])})),a}function vu(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function yu(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function mu(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function gu(t,e,n){Ua(n).onDone((function(){return t.processLeaveNode(e)}))}function _u(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var bu=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new cu(e,n,r),this._timelineEngine=new ru(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Ds(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new tu(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Ga(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Ga(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function wu(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=ku(e[0]),e.length>1&&(r=ku(e[e.length-1]))):e&&(n=ku(e)),n||r?new Cu(t,n,r):null}var Cu=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ds(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ds(this._element,this._initialStyles),this._endStyles&&(ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ps(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ps(this._element,this._endStyles),this._endStyles=null),ds(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function ku(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Eu(i)&&((e=e||{})[i]=t[i])}return e}function Eu(t){return"display"===t||"position"===t}var Su=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Au(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Du(t,"",e),xu(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Ou(this._element,this._name,"paused")}},{key:"resume",value:function(){Ou(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Tu(this._element,this._name);this._position=t*this._duration,Du(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),xu(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Au(t,"").split(","),r=Iu(n,e);r>=0&&(n.splice(r,1),Du(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Ou(t,e,n){Du(t,"PlayState",n,Tu(t,e))}function Tu(t,e){var n=Au(t,"");return n.indexOf(",")>0?Iu(n.split(","),e):Iu([n],e)}function Iu(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function xu(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Du(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Au(t,e){return t.style["animation"+e]}var Nu=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Su(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Ss(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=rs(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(to),Ru=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $a(t)}},{key:"matchesElement",value:function(t,e){return ts(t,e)}},{key:"containsElement",value:function(t,e){return es(t,e)}},{key:"query",value:function(t,e,n){return ns(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return rs(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof Nu})),u={};Cs(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=ks(t,e,u));if(0==n)return new Pu(t,l);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var f=wu(t,e),d=new Nu(t,e,c,n,r,i,l,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),ju=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Ss(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),Lu=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Fu().toString()),this._cssKeyframesDriver=new Ru}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $a(t)}},{key:"matchesElement",value:function(t,e){return ts(t,e)}},{key:"containsElement",value:function(t,e){return es(t,e)}},{key:"query",value:function(t,e,n){return ns(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter((function(t){return t instanceof ju}));Cs(n,r)&&l.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=wu(t,e=ks(t,e=e.map((function(t){return cs(t,!1)})),u));return new ju(t,e,s,c)}}]),t}();function Fu(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Mu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Ji(t):t;return qu(this._renderer,null,e,"register",[n]),new Vu(e,this._renderer)}}]),n}(Xi),Vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new Uu(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Uu=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return qu(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function qu(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var Hu=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Bu("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,a,t,e.name,e)})),new zu(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),Bu=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,u,l,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(Bu),Wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(bu);function Gu(){return"function"==typeof Fu()?new Lu:new Ru}function Qu(){return new Ks}function Ku(t,e,n){return new Hu(t,e,n)}var Yu=new r.o("AnimationModuleType"),Xu=function t(){_classCallCheck(this,t)},Ju=r.qb({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function Zu(t){return r.Lb(2,[r.Cb(null,0),r.Cb(null,1)],null,null)}function $u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(J.a)(e[0])&&(e=e[0]),0===e.length?ot.a:r?$u(e).pipe(Object(st.a)((function(t){return r.apply(void 0,_toConsumableArray(t))}))):new Q.a((function(t){return new tl(t,e)}))}var tl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this,t)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++){var s=r[a],u=Object($.a)(_assertThisInitialized(i),s,null,a);u&&i.add(u)}return i}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}]),n}(Z.a),el=new r.o("NgValueAccessor"),nl=new r.o("CompositionEventMode"),rl=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=te()?te().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}(),il=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}(),ol=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(il);function al(){throw new Error("unimplemented")}var sl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return al()}},{key:"asyncValidator",get:function(){return al()}}]),n}(il),ul=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(ul),cl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(ul);function hl(t){return null==t||0===t.length}var fl=new r.o("NgValidators"),dl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(hl(e.value)||hl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(hl(e.value)||hl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return hl(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return hl(t.value)||dl.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(hl(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(hl(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(vl);return 0==e.length?null:function(t){return ml(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(vl);return 0==e.length?null:function(t){return $u(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(yl)).pipe(Object(st.a)(ml))}}}]),t}();function vl(t){return null!=t}function yl(t){var e=Object(r.yb)(t)?Object(B.a)(t):t;if(!Object(r.xb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ml(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function gl(t){return t.validate?function(e){return t.validate(e)}:t}function _l(t){return t.validate?function(e){return t.validate(e)}:t}var bl=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}(),wl='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Cl='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',kl='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function El(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Sl(t,e){t||xl(e,"Cannot find control with"),e.valueAccessor||xl(e,"No value accessor for form control with"),t.validator=pl.compose([t.validator,e.validator]),t.asyncValidator=pl.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ol(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ol(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Ol(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tl(t,e){null==t&&xl(e,"Cannot find control with"),t.validator=pl.compose([t.validator,e.validator]),t.asyncValidator=pl.composeAsync([t.asyncValidator,e.asyncValidator])}function Il(t){return xl(t,"There is no FormControl instance attached to form control element with")}function xl(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Dl(t){return null!=t?pl.compose(t.map(gl)):null}function Al(t){return null!=t?pl.composeAsync(t.map(_l)):null}var Nl=[function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.zb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.zb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=e._getOptionValue(c.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}}]),t}(),function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(sl),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()];function Pl(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Rl(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function jl(t){var e=Fl(t)?t.validators:t;return Array.isArray(e)?Dl(e):e||null}function Ll(t,e){var n=Fl(e)?e.asyncValidators:t;return Array.isArray(n)?Al(n):n||null}function Fl(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Ml,Vl,Ul=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=jl(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Ll(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=yl(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof Hl?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Bl&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.m,this.statusChanges=new r.m}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Fl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),ql=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,jl(i),Ll(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Ul),Hl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,jl(r),Ll(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof ql?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Ul),Bl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,jl(r),Ll(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof ql?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Ul),zl=Promise.resolve(null),Wl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.m,o.form=new Hl({},Dl(t),Al(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;zl.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Sl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;zl.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Rl(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;zl.then((function(){var n=e._findContainer(t.path),r=new Hl({});Tl(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;zl.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;zl.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Pl(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(ol),Gl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(wl,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Cl,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(kl))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Cl,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(kl))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),t}(),Ql=new r.o("NgFormSelectorWarning"),Kl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return El(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Dl(this._validators)}},{key:"asyncValidator",get:function(){return Al(this._asyncValidators)}}]),n}(ol),Yl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Wl||Gl.modelGroupParentException()}}]),n}(Kl),Xl=Promise.resolve(null),Jl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new ql,s._registered=!1,s.update=new r.m,s._parent=t,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||xl(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===rl?n=e:(o=e,Nl.some((function(t){return o.constructor===t}))?(r&&xl(t,"More than one built-in value accessor matches form control with"),r=e):(i&&xl(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(xl(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.zb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Sl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Yl)&&this._parent instanceof Kl?Gl.formGroupNameException():this._parent instanceof Yl||this._parent instanceof Wl||Gl.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Gl.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;Xl.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Xl.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?El(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Dl(this._rawValidators)}},{key:"asyncValidator",get:function(){return Al(this._rawAsyncValidators)}}]),n}(sl),Zl=function t(){_classCallCheck(this,t)},$l=new r.o("NgModelWithFormControlWarning"),tc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.m,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Sl(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Rl(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Tl(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Tl(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Pl(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Il(e)})),e.valueAccessor.registerOnTouched((function(){return Il(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Sl(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Dl(this._validators);this.form.validator=pl.compose([this.form.validator,t]);var e=Al(this._asyncValidators);this.form.asyncValidator=pl.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(ol),ec=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.required?pl.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}(),nc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=pl.pattern(this.pattern)}}]),t}(),rc=function t(){_classCallCheck(this,t)},ic=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Hl(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new ql(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Bl(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof ql||t instanceof Hl||t instanceof Bl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}(),oc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Ql,useValue:e.warnOnDeprecatedNgFormSelector}]}}}]),t}(),ac=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:$l,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}(),sc=((Vl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Vl},token:Vl,providedIn:"root"}),Vl),uc=((Ml=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=ao(t);return new Q.a((function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new z.a,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Ml(Object(r.Qb)(sc))},token:Ml,providedIn:"root"}),Ml),lc=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new r.m,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(ko(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=no(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=ro(t),this._subscribe()}}]),t}(),cc=function t(){_classCallCheck(this,t)},hc=r.qb({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function fc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),r.sb(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),r.sb(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),r.sb(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),r.sb(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),r.sb(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),r.sb(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),r.sb(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function dc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),r.Cb(null,0)],null,null)}function pc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,3,null,null,null,null,null,null,null)),r.Cb(null,2),(t()(),r.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Jb(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function vc(t){return r.Lb(0,[r.Cb(null,3),(t()(),r.hb(0,null,null,0))],null,null)}function yc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,[" *"]))],null,null)}function mc(t){return r.Lb(0,[(t()(),r.sb(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r}),null,null)),r.rb(1,16384,null,0,D,[],{ngSwitch:[0,"ngSwitch"]},null),r.rb(2,1196032,null,0,lc,[uc,r.k,r.x],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),r.hb(16777216,null,null,1,null,pc)),r.rb(4,278528,null,0,A,[r.O,r.K,D],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.hb(16777216,null,null,1,null,vc)),r.rb(6,278528,null,0,A,[r.O,r.K,D],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.hb(16777216,null,null,1,null,yc)),r.rb(8,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function gc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),r.Cb(null,4)],null,null)}function _c(t){return r.Lb(0,[(t()(),r.sb(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function bc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),r.Cb(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function wc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),r.Jb(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function Cc(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,wc)),r.rb(2,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),r.Cb(null,6),(t()(),r.sb(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),r.Cb(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function kc(t){return r.Lb(2,[r.Hb(671088640,1,{underlineRef:0}),r.Hb(402653184,2,{_connectionContainerRef:0}),r.Hb(671088640,3,{_inputContainerRef:0}),r.Hb(671088640,4,{_label:0}),(t()(),r.sb(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),r.sb(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r}),null,null)),(t()(),r.hb(16777216,null,null,1,null,fc)),r.rb(7,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,dc)),r.rb(9,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.sb(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),r.Cb(null,1),(t()(),r.sb(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,mc)),r.rb(14,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,gc)),r.rb(16,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,_c)),r.rb(18,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.sb(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),r.rb(20,16384,null,0,D,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.hb(16777216,null,null,1,null,bc)),r.rb(22,278528,null,0,A,[r.O,r.K,D],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.hb(16777216,null,null,1,null,Cc)),r.rb(24,278528,null,0,A,[r.O,r.K,D],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}var Ec=function t(){_classCallCheck(this,t)},Sc=function t(){_classCallCheck(this,t)},Oc=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),Tc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return Ic(t)}},{key:"encodeValue",value:function(t){return Ic(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Ic(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var xc=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Tc,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function Dc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ac(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Nc(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Pc=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Oc),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new xc,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Dc(this.body)||Ac(this.body)||Nc(this.body)||"string"==typeof this.body?this.body:this.body instanceof xc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Nc(this.body)?null:Ac(this.body)?this.body.type||null:Dc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),l)),new t(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Rc=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),jc=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new Oc,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Lc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Rc.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jc),Fc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=Rc.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jc),Mc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(jc);function Vc(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Uc=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Pc)n=t;else{var o=void 0;o=i.headers instanceof Oc?i.headers:new Oc(i.headers);var a=void 0;i.params&&(a=i.params instanceof xc?i.params:new xc({fromObject:i.params})),n=new Pc(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(H.a)(n).pipe(Qt((function(t){return r.handler.handle(t)})));if(t instanceof Pc||"events"===i.observe)return s;var u=s.pipe(ht((function(t){return t instanceof Fc})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(st.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(st.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(st.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(st.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new xc).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Vc(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Vc(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Vc(n,e))}}]),t}(),qc=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Hc=new r.o("HTTP_INTERCEPTORS"),Bc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}(),zc=/^\)\]\}',?\n/,Wc=function t(){_classCallCheck(this,t)},Gc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}(),Qc=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Q.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Oc(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Lc({headers:i,status:e,statusText:n,url:o})},l=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(zc,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new Fc({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Mc({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=u().url,i=new Mc({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Rc.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Rc.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",l),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Rc.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}(),Kc=new r.o("XSRF_COOKIE_NAME"),Yc=new r.o("XSRF_HEADER_NAME"),Xc=function t(){_classCallCheck(this,t)},Jc=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}(),Zc=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}(),$c=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Hc,[]);this.chain=e.reduceRight((function(t,e){return new qc(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}(),th=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Zc,useClass:Bc}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Kc,useValue:e.cookieName}:[],e.headerName?{provide:Yc,useValue:e.headerName}:[]]}}}]),t}(),eh=function t(){_classCallCheck(this,t)},nh=n("z6cu"),rh=n("w1tV");function ih(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function oh(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function ah(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var sh,uh=function t(e,n){_classCallCheck(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},lh=((sh=function(){function t(e,n,r,i){_classCallCheck(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=r}return _createClass(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,r){return this._addSvgIconConfig(t,e,new uh(n,r))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var o=this._sanitizer.sanitize(r.G.HTML,n);if(!o)throw ah(n);var a=this._createSvgElementForSingleIcon(o,i);return this._addSvgIconConfig(t,e,new uh(a,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new uh(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(r.G.HTML,e);if(!i)throw ah(e);var o=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new uh(o,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(r.G.RESOURCE_URL,t);if(!n)throw oh(t);var i=this._cachedIconsByUrl.get(n);return i?Object(H.a)(ch(i)):this._loadSvgIconFromConfig(new uh(t)).pipe(Object(_t.a)((function(t){return e._cachedIconsByUrl.set(n,t)})),Object(st.a)((function(t){return ch(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=hh(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(nh.a)(ih(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?Object(H.a)(ch(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(_t.a)((function(e){return t.svgElement=e})),Object(st.a)((function(t){return ch(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?Object(H.a)(i):$u(e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(It((function(e){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(r.G.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),Object(H.a)(null)})))}))).pipe(Object(st.a)((function(){var r=n._extractIconWithNameFromAnySet(t,e);if(!r)throw ih(t);return r})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(i)return i}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(Object(st.a)((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?Object(H.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(st.a)((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var r=t.querySelector('[id="'.concat(e,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name,a=i.value;"id"!==o&&e.setAttribute(o,a)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(r.G.RESOURCE_URL,t);if(!n)throw oh(t);var i=this._inProgressUrlFetches.get(n);if(i)return i;var o=this._httpClient.get(n,{responseType:"text"}).pipe(Xt((function(){return e._inProgressUrlFetches.delete(n)})),Object(rh.a)());return this._inProgressUrlFetches.set(n,o),o}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(hh(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new sh(Object(r.Qb)(Uc,8),Object(r.Qb)(Ge),Object(r.Qb)(F,8),Object(r.Qb)(r.l,8))},token:sh,providedIn:"root"}),sh);function ch(t){return t.cloneNode(!0)}function hh(t,e){return t+":"+e}var fh=Ko((function t(e){_classCallCheck(this,t),this._elementRef=e})),dh=new r.o("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(r.V)(F),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),ph=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vh=ph.map((function(t){return"[".concat(t,"]")})).join(", "),yh=/^url\(['"]?#(.*?)['"]?\)$/,mh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t))._iconRegistry=r,s._location=o,s._errorHandler=a,s._inline=!1,i||t.nativeElement.setAttribute("aria-hidden","true"),s}return _createClass(n,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var r=_slicedToArray(this._splitIconName(this.svgIcon),2),i=r[0],o=r[1];this._iconRegistry.getNamedSvgIcon(o,i).pipe(At(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(i,":").concat(o,"! ").concat(t.message);e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(vh),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(t){ph.forEach((function(r){var i=e[t],o=i.getAttribute(r),a=o?o.match(yh):null;if(a){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:a[1]})}}))},i=0;i<e.length;i++)r(i)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=no(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),n}(fh),gh=function t(){_classCallCheck(this,t)},_h=r.qb({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function bh(t){return r.Lb(2,[r.Cb(null,0)],null,null)}var wh=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ch(t,this.durationSelector))}}]),t}(),Ch=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object($.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Z.a),kh=n("Y7HM");function Eh(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Sh(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(kh.a)(e)?r=Number(e)<1?1:Number(e):Object(X.a)(e)&&(n=e),Object(X.a)(n)||(n=Co.a),new Q.a((function(e){var i=Object(kh.a)(t)?t:+t-n.now();return n.schedule(Eh,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new wh(e))}}var Oh,Th=mo({passive:!0}),Ih=((Oh=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return ot.a;var n=ao(t),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new z.a,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,Th),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,Th)}}),i.asObservable()}},{key:"stopMonitoring",value:function(t){var e=ao(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Oh(Object(r.Qb)(fo),Object(r.Qb)(r.x))},token:Oh,providedIn:"root"}),Oh),xh=function t(){_classCallCheck(this,t)},Dh=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Ah=0,Nh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s,u,l,c){var h;_classCallCheck(this,n),(h=e.call(this,s,o,a,i))._elementRef=t,h._platform=r,h.ngControl=i,h._autofillMonitor=l,h._uid="mat-input-"+Ah++,h._isServer=!1,h._isNativeSelect=!1,h.focused=!1,h.stateChanges=new z.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return yo().has(t)}));var f=h._elementRef.nativeElement;return h._inputValueAccessor=u||f,h._previousNativeValue=h.value,h.id=h.id,r.IOS&&c.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===f.nodeName.toLowerCase(),h._isNativeSelect&&(h.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(Dh.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"_isTextarea",value:function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=no(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=no(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&yo().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=no(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).errorState=!1,t.stateChanges=new z.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}((function t(e,n,r,i){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}))),Ph=function t(){_classCallCheck(this,t)},Rh=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.route=n,this.title="",this.results=[],this.emailstring="mailto:contact@perkufizim.xyz?Subject=From&website"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.query={headword:"",relatedwords:"",synonyms:"",partsofspeech:"",search:""},this.dicts={ldoce5:"Longman Dictionary of Contemporary English (5th edition)"},this.sub=this.route.params.subscribe((function(e){t.dictionary=e.dict,t.dictionary&&(t.title=t.dicts[t.dictionary])}))}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"getWords",value:function(){var t=this,e=new URLSearchParams;e.set("headword",this.query.headword),this.query.synonyms&&e.set("synonyms",this.query.synonyms),this.query.partsofspeech&&e.set("part_of_speech",this.query.partsofspeech),this.query.search&&e.set("search",this.query.search),this.http.get("https://api.pearson.com/v2/dictionaries/".concat(this.dictionary?this.dictionary:"ldoce5","/entries?").concat(e.toString())).subscribe((function(e){t.results=e.results}),(function(t){return console.log(t)}))}}]),t}(),jh=r.qb({encapsulation:0,styles:[[".content-form-flex[_ngcontent-%COMP%]{width:45%;display:block;margin-left:auto;margin-right:auto}.mat-card-actions[_ngcontent-%COMP%], .mat-card-content[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{display:block;margin-bottom:0}.form-class[_ngcontent-%COMP%], .width-class[_ngcontent-%COMP%]{width:100%}.mat-card-search-result[_ngcontent-%COMP%]{width:500px;display:flexbox;margin-left:auto;margin-right:auto}.parent[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-left:15%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:-20px}.icon-cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.master-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}@media only screen and (max-width:770px){.content-form-flex[_ngcontent-%COMP%], .mat-card-search-result[_ngcontent-%COMP%]{width:100%}}footer[_ngcontent-%COMP%]{opacity:1!important;max-width:300px;text-align:center;margin:auto auto 0}p[_ngcontent-%COMP%]{display:block;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0}nav[_ngcontent-%COMP%]{margin-bottom:10px;font-size:14px;text-transform:uppercase;color:#666}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin:5px}footer[_ngcontent-%COMP%]   .cp[_ngcontent-%COMP%]{font-size:13px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px}.header[_ngcontent-%COMP%]{z-index:9;position:relative;padding:10px 0 35px;text-align:center;color:#fff;font-weight:700;background:#ff1744;transition:all .2s ease-in-out}@media only screen and (min-width:760px){.header[_ngcontent-%COMP%]{font-size:12px;letter-spacing:1.7px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:38px}}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 auto;width:30%;text-transform:uppercase;font-size:28px;color:#fff;line-height:100%}a[_ngcontent-%COMP%]{color:#ff1744;text-decoration:none}@media only screen and (min-width:760px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:12px;letter-spacing:1.7px}}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 auto;width:30%;font-size:11px;text-transform:uppercase;line-height:100%}h1[_ngcontent-%COMP%]{display:block;font-size:2em;-webkit-margin-before:.67em;margin-block-start:.67em;-webkit-margin-after:.67em;margin-block-end:.67em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;font-weight:700}"]],data:{}});function Lh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,5,"div",[["class","width-class"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,4,"mat-error",[["class","width-class mat-error"],["role","alert"]],[[8,"hidden",0],[1,"id",0]],null,null,null,null)),r.rb(2,16384,null,0,ba,[],null,null),(t()(),r.sb(3,0,null,null,2,"mat-label",[],null,null,null,null,null)),r.rb(4,16384,null,0,Ea,[],null,null),(t()(),r.Jb(-1,null,["Word is required"]))],null,(function(t,e){t(e,1,0,!r.Db(e.parent,42).errors.required,r.Db(e,2).id)}))}function Fh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,["Parts of Speech:"])),(t()(),r.Jb(4,null,[" ",""]))],null,(function(t,e){t(e,4,0,e.parent.context.$implicit.part_of_speech)}))}function Mh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Jb(1,null,["(",")"]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.lang)}))}function Vh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,4,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.Jb(2,null,["IPA: "," "])),(t()(),r.hb(16777216,null,null,1,null,Mh)),r.rb(4,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,4,0,e.context.$implicit.lang)}),(function(t,e){t(e,2,0,e.context.$implicit.ipa)}))}function Uh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,["Pronunciations"])),(t()(),r.hb(16777216,null,null,1,null,Vh)),r.rb(5,278528,null,0,E,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.parent.context.$implicit.pronunciations)}),null)}function qh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,["Definition:"])),(t()(),r.Jb(3,null,[" ",""]))],null,(function(t,e){t(e,3,0,e.parent.context.$implicit.definition)}))}function Hh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,qh)),r.rb(2,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit.definition)}),null)}function Bh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,10,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Jb(3,null,["",""])),(t()(),r.sb(4,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,Fh)),r.rb(6,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,Uh)),r.rb(8,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,Hh)),r.rb(10,278528,null,0,E,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.context.$implicit.part_of_speech),t(e,8,0,e.context.$implicit.pronunciations),t(e,10,0,e.context.$implicit.senses)}),(function(t,e){t(e,3,0,e.context.$implicit.headword)}))}function zh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,4,"mat-card",[["class","mat-card-search-result mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Zu,Ju)),r.rb(1,49152,null,0,Ra,[[2,Yu]],null,null),(t()(),r.sb(2,0,null,0,2,"div",[],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,Bh)),r.rb(4,278528,null,0,E,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.component.results)}),(function(t,e){t(e,0,0,"NoopAnimations"===r.Db(e,1)._animationMode)}))}function Wh(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,64,"div",[["class","master-container"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,5,"header",[["class","header"],["id","h"]],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,4,"div",[["class","brand"]],null,null,null,null,null)),(t()(),r.sb(3,0,null,null,1,"a",[["href","/home"],["title","Dictionary"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,["P\xcbRKUFIZIM"])),(t()(),r.sb(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,["English Dictionary"])),(t()(),r.sb(7,0,null,null,44,"div",[],null,null,null,null,null)),(t()(),r.sb(8,0,null,null,40,"mat-card",[["class","content-form-flex mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Zu,Ju)),r.rb(9,49152,null,0,Ra,[[2,Yu]],null,null),(t()(),r.sb(10,0,null,0,38,"form",[["class","form-class"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.Db(t,12).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Db(t,12).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.getWords()&&i),"keydown.enter"===e&&(i=!1!==o.getWords()&&i),i}),null,null)),r.rb(11,16384,null,0,Zl,[],null,null),r.rb(12,4210688,[["dictionaryForm",4]],0,Wl,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Gb(2048,null,ol,null,[Wl]),r.rb(14,16384,null,0,cl,[[4,ol]],null,null),(t()(),r.sb(15,0,null,null,33,"mat-card-content",[["class","width-class mat-card-content"]],null,null,null,null,null)),r.rb(16,16384,null,0,Aa,[],null,null),(t()(),r.sb(17,0,null,null,31,"div",[["class","parent"]],null,null,null,null,null)),(t()(),r.sb(18,0,null,null,28,"mat-form-field",[["class","form-class mat-form-field"],["outline",""]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(19,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,1,{_controlNonStatic:0}),r.Hb(335544320,2,{_controlStatic:0}),r.Hb(603979776,3,{_labelChildNonStatic:0}),r.Hb(335544320,4,{_labelChildStatic:0}),r.Hb(603979776,5,{_placeholderChild:0}),r.Hb(603979776,6,{_errorChildren:1}),r.Hb(603979776,7,{_hintChildren:1}),r.Hb(603979776,8,{_prefixChildren:1}),r.Hb(603979776,9,{_suffixChildren:1}),(t()(),r.sb(29,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.rb(30,16384,[[3,4],[4,4]],0,Ea,[],null,null),(t()(),r.Jb(-1,null,["Enter a word"])),(t()(),r.sb(32,0,null,4,3,"mat-icon",[["class","icon-cursor-pointer mat-icon notranslate"],["matSuffix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.getWords()&&r),r}),bh,_h)),r.rb(33,16384,[[9,4]],0,Sa,[],null,null),r.rb(34,9158656,null,0,mh,[r.k,lh,[8,null],[2,dh],[2,r.l]],null,null),(t()(),r.Jb(-1,0,[" search"])),(t()(),r.sb(36,0,null,1,10,"input",[["class","form-control mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","headword"],["pattern","[a-zA-Z]+"],["placeholder","EX. Beautiful"],["required",""]],[[1,"required",0],[1,"pattern",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Db(t,40)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,40).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Db(t,40)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Db(t,40)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,44)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,44)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,44)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.query.headword=n)&&i),i}),null,null)),r.rb(37,16384,null,0,ec,[],{required:[0,"required"]},null),r.rb(38,540672,null,0,nc,[],{pattern:[0,"pattern"]},null),r.Gb(1024,null,fl,(function(t,e){return[t,e]}),[ec,nc]),r.rb(40,16384,null,0,rl,[r.C,r.k,[2,nl]],null,null),r.Gb(1024,null,el,(function(t){return[t]}),[rl]),r.rb(42,671744,[["headword",4]],0,Jl,[[2,ol],[6,fl],[8,null],[6,el]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(44,999424,null,0,Nh,[r.k,fo,[6,sl],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"]},null),r.rb(45,16384,null,0,ll,[[4,sl]],null,null),r.Gb(2048,[[1,4],[2,4]],wa,null,[Nh]),(t()(),r.hb(16777216,null,null,1,null,Lh)),r.rb(48,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.sb(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,zh)),r.rb(51,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.sb(52,0,null,null,12,"footer",[],null,null,null,null,null)),(t()(),r.sb(53,0,null,null,0,"p",[["class","socials"]],null,null,null,null,null)),(t()(),r.sb(54,0,null,null,8,"nav",[["role","navigation"]],null,null,null,null,null)),(t()(),r.sb(55,0,null,null,1,"a",[["href","https://github.com/hrcg"],["rel","noopener noreferrer"],["target","_blank"],["title","GitHub"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,["GitHub"])),(t()(),r.Jb(-1,null,[" | "])),(t()(),r.sb(58,0,null,null,1,"a",[["href","https://linkedin.com"],["rel","noopener noreferrer"],["target","_blank"],["title","LinkedIn"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,["LinkedIn"])),(t()(),r.Jb(-1,null,[" | "])),(t()(),r.sb(61,0,null,null,1,"a",[["rel","noopener noreferrer"],["target","_top"],["title","Contact"]],[[8,"href",4]],null,null,null,null)),(t()(),r.Jb(-1,null,["Contact"])),(t()(),r.sb(63,0,null,null,1,"p",[["class","copyrights"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,["\xa9 P\xcbRKUFIZIM \u2764 DICTIONARY"]))],(function(t,e){var n=e.component;t(e,34,0),t(e,37,0,""),t(e,38,0,"[a-zA-Z]+"),t(e,42,0,"headword",n.query.headword),t(e,44,0,"EX. Beautiful",""),t(e,48,0,r.Db(e,42).errors&&(r.Db(e,42).dirty||r.Db(e,42).touched)),t(e,51,0,0!=n.results.length)}),(function(t,e){var n=e.component;t(e,8,0,"NoopAnimations"===r.Db(e,9)._animationMode),t(e,10,0,r.Db(e,14).ngClassUntouched,r.Db(e,14).ngClassTouched,r.Db(e,14).ngClassPristine,r.Db(e,14).ngClassDirty,r.Db(e,14).ngClassValid,r.Db(e,14).ngClassInvalid,r.Db(e,14).ngClassPending),t(e,18,1,["standard"==r.Db(e,19).appearance,"fill"==r.Db(e,19).appearance,"outline"==r.Db(e,19).appearance,"legacy"==r.Db(e,19).appearance,r.Db(e,19)._control.errorState,r.Db(e,19)._canLabelFloat,r.Db(e,19)._shouldLabelFloat(),r.Db(e,19)._hasFloatingLabel(),r.Db(e,19)._hideControlPlaceholder(),r.Db(e,19)._control.disabled,r.Db(e,19)._control.autofilled,r.Db(e,19)._control.focused,"accent"==r.Db(e,19).color,"warn"==r.Db(e,19).color,r.Db(e,19)._shouldForward("untouched"),r.Db(e,19)._shouldForward("touched"),r.Db(e,19)._shouldForward("pristine"),r.Db(e,19)._shouldForward("dirty"),r.Db(e,19)._shouldForward("valid"),r.Db(e,19)._shouldForward("invalid"),r.Db(e,19)._shouldForward("pending"),!r.Db(e,19)._animationsEnabled]),t(e,32,0,r.Db(e,34).inline,"primary"!==r.Db(e,34).color&&"accent"!==r.Db(e,34).color&&"warn"!==r.Db(e,34).color),t(e,36,1,[r.Db(e,37).required?"":null,r.Db(e,38).pattern?r.Db(e,38).pattern:null,r.Db(e,44)._isServer,r.Db(e,44).id,r.Db(e,44).placeholder,r.Db(e,44).disabled,r.Db(e,44).required,r.Db(e,44).readonly&&!r.Db(e,44)._isNativeSelect||null,r.Db(e,44)._ariaDescribedby||null,r.Db(e,44).errorState,r.Db(e,44).required.toString(),r.Db(e,45).ngClassUntouched,r.Db(e,45).ngClassTouched,r.Db(e,45).ngClassPristine,r.Db(e,45).ngClassDirty,r.Db(e,45).ngClassValid,r.Db(e,45).ngClassInvalid,r.Db(e,45).ngClassPending]),t(e,61,0,n.emailstring)}))}var Gh=r.ob("app-home",Rh,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-home",[],null,null,null,Wh,jh)),r.rb(1,245760,null,0,Rh,[Uc,hr],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Qh=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Kh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(Qh);try{for(s.s();!(a=s.n()).done;){var u=a.value;o._hasHostAttributes(u)&&o._getHostElement().classList.add(u)}}catch(l){s.e(l)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(Ko(Qo(Yo((function t(e){_classCallCheck(this,t),this._elementRef=e}))))),Yh=function t(){_classCallCheck(this,t)},Xh=r.qb({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Jh(t){return r.Lb(2,[r.Hb(671088640,1,{ripple:0}),(t()(),r.sb(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r.Cb(null,0),(t()(),r.sb(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.rb(4,212992,[[1,4]],0,la,[r.k,r.x,fo,[2,ua],[2,Yu]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),r.sb(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,r.Db(e,4).unbounded)}))}var Zh=function(){function t(e,n){_classCallCheck(this,t),this.authservice=e,this.router=n,this.email="",this.password="",this.errorMessage="",this.error={name:"",message:""}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"clearErrorMessage",value:function(){this.errorMessage="",this.error={name:"",message:""}}},{key:"login",value:function(){var t=this;this.clearErrorMessage(),this.validateForm(this.email,this.password)&&this.authservice.loginWithEmail(this.email,this.password).then((function(){t.router.navigate(["/home"])})).catch((function(e){t.error=e,t.router.navigate(["/login"])}))}},{key:"validateForm",value:function(t,e){return 0===t.length?(this.errorMessage="Enter a valid email",!1):0===e.length?(this.errorMessage="Please enter a password",!1):e.length<6?(this.errorMessage="Password must be at least 6 characters long",!1):(this.errorMessage="",!0)}}]),t}(),$h=n("mrSG"),tf=n("Jgta"),ef=n("pxpQ"),nf=n("qgXg"),rf=n("Ylt2"),of=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new af(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new W.a;if(this.isStopped||this.hasError?e=Yt.a.EMPTY:(this.observers.push(t),e=new rf.a(this,t)),i&&t.add(t=new ef.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||nf.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(z.a),af=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function sf(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,l=0,c=!1,h=!1;return function(t){l++,e&&!c||(c=!1,e=new of(i,a,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,e.complete()}}));var r=e.subscribe(this);this.add((function(){l--,r.unsubscribe(),n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function uf(t,e){return e?Mt((function(){return t}),e):Mt((function(){return t}))}var lf,cf,hf=n("tf+s"),ff=n("jmUF"),df=new r.o("angularfire2.auth.use-emulator"),pf=new r.o("angularfire2.auth.settings"),vf=new r.o("angularfire2.auth.tenant-id"),yf=new r.o("angularfire2.auth.langugage-code"),mf=new r.o("angularfire2.auth.use-device-language"),gf=new r.o("angularfire.auth.persistence"),_f=((lf=function t(e,r,i,o,a,s,u,l,c,h){_classCallCheck(this,t);var f=new ff.e(o),d=Object(ff.i)(f),p=new z.a,v=Object(H.a)(void 0).pipe(Object(ef.b)(f.outsideAngular),Mt((function(){return o.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"6nsN"))}))})),Object(st.a)((function(){return Object(ff.h)(e,o,r)})),Object(st.a)((function(t){return o.runOutsideAngular((function(){var e=a,n=s;return Object(ff.g)(t.name+".auth","AngularFireAuth",t,(function(){var r=o.runOutsideAngular((function(){return t.auth()}));return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=l,c&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r}),[e,u,l,c,n,h])}))})),sf({bufferSize:1,refCount:!1}));if(M(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(H.a)(null);else{v.pipe(Rt()).subscribe();var y=v.pipe(Mt((function(t){return t.getRedirectResult().then((function(t){return t}),(function(){return null}))})),d,sf({bufferSize:1,refCount:!1})),m=function(t){return new Q.a((function(e){return{unsubscribe:o.runOutsideAngular((function(){return t(e)}))}}))},g=v.pipe(Mt((function(t){return m(t.onAuthStateChanged.bind(t))}))),_=v.pipe(Mt((function(t){return m(t.onIdTokenChanged.bind(t))})));this.authState=y.pipe(uf(g),Object(hf.a)(f.outsideAngular),Object(ef.b)(f.insideAngular)),this.user=y.pipe(uf(_),Object(hf.a)(f.outsideAngular),Object(ef.b)(f.insideAngular)),this.idToken=this.user.pipe(Mt((function(t){return t?Object(B.a)(t.getIdToken()):Object(H.a)(null)}))),this.idTokenResult=this.user.pipe(Mt((function(t){return t?Object(B.a)(t.getIdTokenResult()):Object(H.a)(null)}))),this.credential=Object(da.a)(y,p,this.authState.pipe(ht((function(t){return!t})))).pipe(Object(st.a)((function(t){return(null==t?void 0:t.user)?t:null})),Object(hf.a)(f.outsideAngular),Object(ef.b)(f.insideAngular))}return Object(ff.j)(this,v,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then((function(t){return p.next(t)}))}}})}).\u0275prov=Object(r.Pb)({factory:function(){return new lf(Object(r.Qb)(ff.c),Object(r.Qb)(ff.b,8),Object(r.Qb)(r.z),Object(r.Qb)(r.x),Object(r.Qb)(df,8),Object(r.Qb)(pf,8),Object(r.Qb)(vf,8),Object(r.Qb)(yf,8),Object(r.Qb)(mf,8),Object(r.Qb)(gf,8))},token:lf,providedIn:"any"}),lf),bf=function t(){_classCallCheck(this,t)},wf=((cf=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.afu=e,this.router=n,this.authState=null,this.afu.authState.subscribe((function(t){console.log(t),r.authState=t,console.log(r.authState)}))}return _createClass(t,[{key:"registerWithEmail",value:function(t,e){return $h.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.afu.createUserWithEmailAndPassword(t,e);case 3:r=n.sent,this.authState=r,n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),n.t0;case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"loginWithEmail",value:function(t,e){return $h.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.afu.signInWithEmailAndPassword(t,e);case 3:r=n.sent,this.authState=r,n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0),n.t0;case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"resetPassword",value:function(t){return $h.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tf.a.auth().sendPasswordResetEmail(t);case 3:return e.abrupt("return",console.log("We've sent a reset password email"));case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))}},{key:"singout",value:function(){this.afu.signOut(),this.router.navigate(["/home"])}},{key:"currentUserId",get:function(){return null!==this.authState?this.authState.uid:""}},{key:"currentUserName",get:function(){return this.authState.email}},{key:"currentUser",get:function(){return null!==this.authState?this.authState:null}},{key:"isUserEmailLoggedIn",get:function(){return null!==this.authState}}]),t}()).ngInjectableDef=r.Pb({factory:function(){return new cf(r.Qb(_f),r.Qb(bi))},token:cf,providedIn:"root"}),cf),Cf=r.qb({encapsulation:0,styles:[[".login-form-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:-90px;margin-left:-5px}.button-flex-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.register-redirect-class[_ngcontent-%COMP%], .reset-password-class[_ngcontent-%COMP%]{cursor:pointer;padding:10px;margin-top:10px;margin-bottom:-20px}.text-danger[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]],data:{}});function kf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(t()(),r.Jb(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.errorMessage)}))}function Ef(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(t()(),r.Jb(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.error.message)}))}function Sf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,74,"div",[["class","login-form-flex"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,73,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Zu,Ju)),r.rb(2,49152,null,0,Ra,[[2,Yu]],null,null),(t()(),r.sb(3,0,null,0,66,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.Db(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Db(t,5).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.login()&&i),"keydown.enter"===e&&(i=!1!==o.login()&&i),i}),null,null)),r.rb(4,16384,null,0,Zl,[],null,null),r.rb(5,4210688,null,0,Wl,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Gb(2048,null,ol,null,[Wl]),r.rb(7,16384,null,0,cl,[[4,ol]],null,null),(t()(),r.sb(8,0,null,null,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r.rb(9,16384,null,0,Na,[],null,null),(t()(),r.Jb(-1,null,[" Login "])),(t()(),r.sb(11,0,null,null,44,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r.rb(12,16384,null,0,Aa,[],null,null),(t()(),r.sb(13,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(14,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,1,{_controlNonStatic:0}),r.Hb(335544320,2,{_controlStatic:0}),r.Hb(603979776,3,{_labelChildNonStatic:0}),r.Hb(335544320,4,{_labelChildStatic:0}),r.Hb(603979776,5,{_placeholderChild:0}),r.Hb(603979776,6,{_errorChildren:1}),r.Hb(603979776,7,{_hintChildren:1}),r.Hb(603979776,8,{_prefixChildren:1}),r.Hb(603979776,9,{_suffixChildren:1}),(t()(),r.sb(24,0,null,1,9,"input",[["class","form-control mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","email"],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Db(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Db(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Db(t,27)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,31)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.email=n)&&i),i}),null,null)),r.rb(25,16384,null,0,ec,[],{required:[0,"required"]},null),r.Gb(1024,null,fl,(function(t){return[t]}),[ec]),r.rb(27,16384,null,0,rl,[r.C,r.k,[2,nl]],null,null),r.Gb(1024,null,el,(function(t){return[t]}),[rl]),r.rb(29,671744,null,0,Jl,[[2,ol],[6,fl],[8,null],[6,el]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(31,999424,null,0,Nh,[r.k,fo,[6,sl],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),r.rb(32,16384,null,0,ll,[[4,sl]],null,null),r.Gb(2048,[[1,4],[2,4]],wa,null,[Nh]),(t()(),r.sb(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.sb(35,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(36,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,10,{_controlNonStatic:0}),r.Hb(335544320,11,{_controlStatic:0}),r.Hb(603979776,12,{_labelChildNonStatic:0}),r.Hb(335544320,13,{_labelChildStatic:0}),r.Hb(603979776,14,{_placeholderChild:0}),r.Hb(603979776,15,{_errorChildren:1}),r.Hb(603979776,16,{_hintChildren:1}),r.Hb(603979776,17,{_prefixChildren:1}),r.Hb(603979776,18,{_suffixChildren:1}),(t()(),r.sb(46,0,null,1,9,"input",[["class","form-control mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Db(t,49)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,49).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Db(t,49)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Db(t,49)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,53)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,53)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,53)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.password=n)&&i),i}),null,null)),r.rb(47,16384,null,0,ec,[],{required:[0,"required"]},null),r.Gb(1024,null,fl,(function(t){return[t]}),[ec]),r.rb(49,16384,null,0,rl,[r.C,r.k,[2,nl]],null,null),r.Gb(1024,null,el,(function(t){return[t]}),[rl]),r.rb(51,671744,null,0,Jl,[[2,ol],[6,fl],[8,null],[6,el]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(53,999424,null,0,Nh,[r.k,fo,[6,sl],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),r.rb(54,16384,null,0,ll,[[4,sl]],null,null),r.Gb(2048,[[10,4],[11,4]],wa,null,[Nh]),(t()(),r.sb(56,0,null,null,13,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r.rb(57,16384,null,0,Pa,[],null,null),(t()(),r.sb(58,0,null,null,3,"div",[["class","button-flex-container"]],null,null,null,null,null)),(t()(),r.sb(59,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Jh,Xh)),r.rb(60,180224,null,0,Kh,[r.k,Ho,[2,Yu]],{color:[0,"color"]},null),(t()(),r.Jb(-1,0,["Login"])),(t()(),r.sb(62,0,null,null,3,"div",[["class","register-redirect-class"]],null,null,null,null,null)),(t()(),r.sb(63,0,null,null,2,"span",[["routerLink","/register"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,64).onClick()&&i),i}),null,null)),r.rb(64,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.Jb(-1,null,["Don't have an account?"])),(t()(),r.sb(66,0,null,null,3,"div",[["class","reset-password-class"]],null,null,null,null,null)),(t()(),r.sb(67,0,null,null,2,"span",[["routerLink","/resetpassword"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,68).onClick()&&i),i}),null,null)),r.rb(68,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.Jb(-1,null,["Forgot your password?"])),(t()(),r.sb(70,0,null,0,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,kf)),r.rb(72,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,Ef)),r.rb(74,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,25,0,""),t(e,29,0,"email",n.email),t(e,31,0,"Email","","email"),t(e,47,0,""),t(e,51,0,"password",n.password),t(e,53,0,"Password","","password"),t(e,60,0,"primary"),t(e,64,0,"/register"),t(e,68,0,"/resetpassword"),t(e,72,0,n.errorMessage.length>0),t(e,74,0,n.error.message.length>0)}),(function(t,e){t(e,1,0,"NoopAnimations"===r.Db(e,2)._animationMode),t(e,3,0,r.Db(e,7).ngClassUntouched,r.Db(e,7).ngClassTouched,r.Db(e,7).ngClassPristine,r.Db(e,7).ngClassDirty,r.Db(e,7).ngClassValid,r.Db(e,7).ngClassInvalid,r.Db(e,7).ngClassPending),t(e,13,1,["standard"==r.Db(e,14).appearance,"fill"==r.Db(e,14).appearance,"outline"==r.Db(e,14).appearance,"legacy"==r.Db(e,14).appearance,r.Db(e,14)._control.errorState,r.Db(e,14)._canLabelFloat,r.Db(e,14)._shouldLabelFloat(),r.Db(e,14)._hasFloatingLabel(),r.Db(e,14)._hideControlPlaceholder(),r.Db(e,14)._control.disabled,r.Db(e,14)._control.autofilled,r.Db(e,14)._control.focused,"accent"==r.Db(e,14).color,"warn"==r.Db(e,14).color,r.Db(e,14)._shouldForward("untouched"),r.Db(e,14)._shouldForward("touched"),r.Db(e,14)._shouldForward("pristine"),r.Db(e,14)._shouldForward("dirty"),r.Db(e,14)._shouldForward("valid"),r.Db(e,14)._shouldForward("invalid"),r.Db(e,14)._shouldForward("pending"),!r.Db(e,14)._animationsEnabled]),t(e,24,1,[r.Db(e,25).required?"":null,r.Db(e,31)._isServer,r.Db(e,31).id,r.Db(e,31).placeholder,r.Db(e,31).disabled,r.Db(e,31).required,r.Db(e,31).readonly&&!r.Db(e,31)._isNativeSelect||null,r.Db(e,31)._ariaDescribedby||null,r.Db(e,31).errorState,r.Db(e,31).required.toString(),r.Db(e,32).ngClassUntouched,r.Db(e,32).ngClassTouched,r.Db(e,32).ngClassPristine,r.Db(e,32).ngClassDirty,r.Db(e,32).ngClassValid,r.Db(e,32).ngClassInvalid,r.Db(e,32).ngClassPending]),t(e,35,1,["standard"==r.Db(e,36).appearance,"fill"==r.Db(e,36).appearance,"outline"==r.Db(e,36).appearance,"legacy"==r.Db(e,36).appearance,r.Db(e,36)._control.errorState,r.Db(e,36)._canLabelFloat,r.Db(e,36)._shouldLabelFloat(),r.Db(e,36)._hasFloatingLabel(),r.Db(e,36)._hideControlPlaceholder(),r.Db(e,36)._control.disabled,r.Db(e,36)._control.autofilled,r.Db(e,36)._control.focused,"accent"==r.Db(e,36).color,"warn"==r.Db(e,36).color,r.Db(e,36)._shouldForward("untouched"),r.Db(e,36)._shouldForward("touched"),r.Db(e,36)._shouldForward("pristine"),r.Db(e,36)._shouldForward("dirty"),r.Db(e,36)._shouldForward("valid"),r.Db(e,36)._shouldForward("invalid"),r.Db(e,36)._shouldForward("pending"),!r.Db(e,36)._animationsEnabled]),t(e,46,1,[r.Db(e,47).required?"":null,r.Db(e,53)._isServer,r.Db(e,53).id,r.Db(e,53).placeholder,r.Db(e,53).disabled,r.Db(e,53).required,r.Db(e,53).readonly&&!r.Db(e,53)._isNativeSelect||null,r.Db(e,53)._ariaDescribedby||null,r.Db(e,53).errorState,r.Db(e,53).required.toString(),r.Db(e,54).ngClassUntouched,r.Db(e,54).ngClassTouched,r.Db(e,54).ngClassPristine,r.Db(e,54).ngClassDirty,r.Db(e,54).ngClassValid,r.Db(e,54).ngClassInvalid,r.Db(e,54).ngClassPending]),t(e,56,0,"end"===r.Db(e,57).align),t(e,59,0,r.Db(e,60).disabled||null,"NoopAnimations"===r.Db(e,60)._animationMode)}))}var Of=r.ob("app-login",Zh,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-login",[],null,null,null,Sf,Cf)),r.rb(1,114688,null,0,Zh,[wf,bi],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Tf=function(){function t(e,n){_classCallCheck(this,t),this.auth=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"resetPassword",value:function(t){return $h.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.resetPassword(t);case 2:return e.next=4,this.router.navigate(["/login"]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}}]),t}(),If=r.qb({encapsulation:0,styles:[[".reset-form-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:-90px;margin-left:-5px}.button-flex-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}"]],data:{}});function xf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,28,"div",[["class","reset-form-flex"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,27,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Zu,Ju)),r.rb(2,49152,null,0,Ra,[[2,Yu]],null,null),(t()(),r.sb(3,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r.rb(4,16384,null,0,Na,[],null,null),(t()(),r.Jb(-1,null,[" Reset Password "])),(t()(),r.sb(6,0,null,0,16,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r.rb(7,16384,null,0,Aa,[],null,null),(t()(),r.sb(8,0,null,null,13,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(9,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,1,{_controlNonStatic:0}),r.Hb(335544320,2,{_controlStatic:0}),r.Hb(603979776,3,{_labelChildNonStatic:0}),r.Hb(335544320,4,{_labelChildStatic:0}),r.Hb(603979776,5,{_placeholderChild:0}),r.Hb(603979776,6,{_errorChildren:1}),r.Hb(603979776,7,{_hintChildren:1}),r.Hb(603979776,8,{_prefixChildren:1}),r.Hb(603979776,9,{_suffixChildren:1}),(t()(),r.sb(19,0,[["email",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Enter your email"],["required",""]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==r.Db(t,20)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,20)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,20)._onInput()&&i),i}),null,null)),r.rb(20,999424,null,0,Nh,[r.k,fo,[8,null],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"]},null),r.Gb(2048,[[1,4],[2,4]],wa,null,[Nh]),(t()(),r.sb(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.sb(23,0,null,0,5,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r.rb(24,16384,null,0,Pa,[],null,null),(t()(),r.sb(25,0,null,null,3,"div",[["class","button-flex-container"]],null,null,null,null,null)),(t()(),r.sb(26,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.resetPassword(r.Db(t,19).value)&&i),i}),Jh,Xh)),r.rb(27,180224,null,0,Kh,[r.k,Ho,[2,Yu]],{color:[0,"color"]},null),(t()(),r.Jb(-1,0,["Reset Password"]))],(function(t,e){t(e,20,0,"Enter your email",""),t(e,27,0,"primary")}),(function(t,e){t(e,1,0,"NoopAnimations"===r.Db(e,2)._animationMode),t(e,8,1,["standard"==r.Db(e,9).appearance,"fill"==r.Db(e,9).appearance,"outline"==r.Db(e,9).appearance,"legacy"==r.Db(e,9).appearance,r.Db(e,9)._control.errorState,r.Db(e,9)._canLabelFloat,r.Db(e,9)._shouldLabelFloat(),r.Db(e,9)._hasFloatingLabel(),r.Db(e,9)._hideControlPlaceholder(),r.Db(e,9)._control.disabled,r.Db(e,9)._control.autofilled,r.Db(e,9)._control.focused,"accent"==r.Db(e,9).color,"warn"==r.Db(e,9).color,r.Db(e,9)._shouldForward("untouched"),r.Db(e,9)._shouldForward("touched"),r.Db(e,9)._shouldForward("pristine"),r.Db(e,9)._shouldForward("dirty"),r.Db(e,9)._shouldForward("valid"),r.Db(e,9)._shouldForward("invalid"),r.Db(e,9)._shouldForward("pending"),!r.Db(e,9)._animationsEnabled]),t(e,19,0,r.Db(e,20)._isServer,r.Db(e,20).id,r.Db(e,20).placeholder,r.Db(e,20).disabled,r.Db(e,20).required,r.Db(e,20).readonly&&!r.Db(e,20)._isNativeSelect||null,r.Db(e,20)._ariaDescribedby||null,r.Db(e,20).errorState,r.Db(e,20).required.toString()),t(e,23,0,"end"===r.Db(e,24).align),t(e,26,0,r.Db(e,27).disabled||null,"NoopAnimations"===r.Db(e,27)._animationMode)}))}var Df=r.ob("app-reset-password",Tf,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-reset-password",[],null,null,null,xf,If)),r.rb(1,114688,null,0,Tf,[wf,bi],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Af=function(){function t(e,n){_classCallCheck(this,t),this.authservice=e,this.router=n,this.email="",this.password="",this.message="",this.errorMessage="",this.error={name:"",message:""}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"clearErrorMessage",value:function(){this.errorMessage="",this.error={name:"",message:""}}},{key:"register",value:function(){var t=this;this.clearErrorMessage(),this.validateForm(this.email,this.password)&&this.authservice.registerWithEmail(this.email,this.password).then((function(){t.message="Succesfully registered!",t.router.navigate(["/profile"])})).catch((function(e){t.error=e,t.router.navigate(["/register"])}))}},{key:"validateForm",value:function(t,e){return 0===t.lenght?(this.errorMessage="Enter a valid email",!1):0===e.lenght?(this.errorMessage="Please enter a password",!1):e.lenght<6?(this.errorMessage="Password must be at least 6 characters long",!1):(this.errorMessage="",!0)}}]),t}(),Nf=r.qb({encapsulation:0,styles:[[".register-form-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:-90px;margin-left:-5px}.button-flex-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.login-redirect-class[_ngcontent-%COMP%]{cursor:pointer;padding:10px;margin-top:20px;margin-bottom:-20px}"]],data:{}});function Pf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Jb(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.errorMessage)}))}function Rf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Jb(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.error.message)}))}function jf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Jb(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.message)}))}function Lf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,72,"div",[["class","register-form-flex"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,71,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Zu,Ju)),r.rb(2,49152,null,0,Ra,[[2,Yu]],null,null),(t()(),r.sb(3,0,null,0,62,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.Db(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Db(t,5).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.register()&&i),"keydown.enter"===e&&(i=!1!==o.register()&&i),i}),null,null)),r.rb(4,16384,null,0,Zl,[],null,null),r.rb(5,4210688,null,0,Wl,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Gb(2048,null,ol,null,[Wl]),r.rb(7,16384,null,0,cl,[[4,ol]],null,null),(t()(),r.sb(8,0,null,null,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r.rb(9,16384,null,0,Na,[],null,null),(t()(),r.Jb(-1,null,[" Register "])),(t()(),r.sb(11,0,null,null,44,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r.rb(12,16384,null,0,Aa,[],null,null),(t()(),r.sb(13,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(14,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,1,{_controlNonStatic:0}),r.Hb(335544320,2,{_controlStatic:0}),r.Hb(603979776,3,{_labelChildNonStatic:0}),r.Hb(335544320,4,{_labelChildStatic:0}),r.Hb(603979776,5,{_placeholderChild:0}),r.Hb(603979776,6,{_errorChildren:1}),r.Hb(603979776,7,{_hintChildren:1}),r.Hb(603979776,8,{_prefixChildren:1}),r.Hb(603979776,9,{_suffixChildren:1}),(t()(),r.sb(24,0,null,1,9,"input",[["class","form-control mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","email"],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Db(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Db(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Db(t,27)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,31)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.email=n)&&i),i}),null,null)),r.rb(25,16384,null,0,ec,[],{required:[0,"required"]},null),r.Gb(1024,null,fl,(function(t){return[t]}),[ec]),r.rb(27,16384,null,0,rl,[r.C,r.k,[2,nl]],null,null),r.Gb(1024,null,el,(function(t){return[t]}),[rl]),r.rb(29,671744,null,0,Jl,[[2,ol],[6,fl],[8,null],[6,el]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(31,999424,null,0,Nh,[r.k,fo,[6,sl],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),r.rb(32,16384,null,0,ll,[[4,sl]],null,null),r.Gb(2048,[[1,4],[2,4]],wa,null,[Nh]),(t()(),r.sb(34,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.sb(35,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,kc,hc)),r.rb(36,7520256,null,9,xa,[r.k,r.h,[2,fa],[2,Fa],[2,Ia],fo,r.x,[2,Yu]],null,null),r.Hb(603979776,10,{_controlNonStatic:0}),r.Hb(335544320,11,{_controlStatic:0}),r.Hb(603979776,12,{_labelChildNonStatic:0}),r.Hb(335544320,13,{_labelChildStatic:0}),r.Hb(603979776,14,{_placeholderChild:0}),r.Hb(603979776,15,{_errorChildren:1}),r.Hb(603979776,16,{_hintChildren:1}),r.Hb(603979776,17,{_prefixChildren:1}),r.Hb(603979776,18,{_suffixChildren:1}),(t()(),r.sb(46,0,null,1,9,"input",[["class","form-control mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.Db(t,49)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,49).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Db(t,49)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Db(t,49)._compositionEnd(n.target.value)&&i),"blur"===e&&(i=!1!==r.Db(t,53)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==r.Db(t,53)._focusChanged(!0)&&i),"input"===e&&(i=!1!==r.Db(t,53)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(o.password=n)&&i),i}),null,null)),r.rb(47,16384,null,0,ec,[],{required:[0,"required"]},null),r.Gb(1024,null,fl,(function(t){return[t]}),[ec]),r.rb(49,16384,null,0,rl,[r.C,r.k,[2,nl]],null,null),r.Gb(1024,null,el,(function(t){return[t]}),[rl]),r.rb(51,671744,null,0,Jl,[[2,ol],[6,fl],[8,null],[6,el]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(53,999424,null,0,Nh,[r.k,fo,[6,sl],[2,Wl],[2,tc],Jo,[8,null],Ih,r.x],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),r.rb(54,16384,null,0,ll,[[4,sl]],null,null),r.Gb(2048,[[10,4],[11,4]],wa,null,[Nh]),(t()(),r.sb(56,0,null,null,9,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r.rb(57,16384,null,0,Pa,[],null,null),(t()(),r.sb(58,0,null,null,3,"div",[["class","button-flex-container"]],null,null,null,null,null)),(t()(),r.sb(59,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Jh,Xh)),r.rb(60,180224,null,0,Kh,[r.k,Ho,[2,Yu]],{color:[0,"color"]},null),(t()(),r.Jb(-1,0,["Register"])),(t()(),r.sb(62,0,null,null,3,"div",[["class","login-redirect-class"]],null,null,null,null,null)),(t()(),r.sb(63,0,null,null,2,"span",[["routerLink","/login"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,64).onClick()&&i),i}),null,null)),r.rb(64,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.Jb(-1,null,["Already have an account?"])),(t()(),r.sb(66,0,null,0,6,"div",[],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,Pf)),r.rb(68,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,Rf)),r.rb(70,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,jf)),r.rb(72,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,25,0,""),t(e,29,0,"email",n.email),t(e,31,0,"Email","","email"),t(e,47,0,""),t(e,51,0,"password",n.password),t(e,53,0,"Password","","password"),t(e,60,0,"primary"),t(e,64,0,"/login"),t(e,68,0,n.errorMessage.length>0),t(e,70,0,n.error.message.length>0),t(e,72,0,n.message.length>0)}),(function(t,e){t(e,1,0,"NoopAnimations"===r.Db(e,2)._animationMode),t(e,3,0,r.Db(e,7).ngClassUntouched,r.Db(e,7).ngClassTouched,r.Db(e,7).ngClassPristine,r.Db(e,7).ngClassDirty,r.Db(e,7).ngClassValid,r.Db(e,7).ngClassInvalid,r.Db(e,7).ngClassPending),t(e,13,1,["standard"==r.Db(e,14).appearance,"fill"==r.Db(e,14).appearance,"outline"==r.Db(e,14).appearance,"legacy"==r.Db(e,14).appearance,r.Db(e,14)._control.errorState,r.Db(e,14)._canLabelFloat,r.Db(e,14)._shouldLabelFloat(),r.Db(e,14)._hasFloatingLabel(),r.Db(e,14)._hideControlPlaceholder(),r.Db(e,14)._control.disabled,r.Db(e,14)._control.autofilled,r.Db(e,14)._control.focused,"accent"==r.Db(e,14).color,"warn"==r.Db(e,14).color,r.Db(e,14)._shouldForward("untouched"),r.Db(e,14)._shouldForward("touched"),r.Db(e,14)._shouldForward("pristine"),r.Db(e,14)._shouldForward("dirty"),r.Db(e,14)._shouldForward("valid"),r.Db(e,14)._shouldForward("invalid"),r.Db(e,14)._shouldForward("pending"),!r.Db(e,14)._animationsEnabled]),t(e,24,1,[r.Db(e,25).required?"":null,r.Db(e,31)._isServer,r.Db(e,31).id,r.Db(e,31).placeholder,r.Db(e,31).disabled,r.Db(e,31).required,r.Db(e,31).readonly&&!r.Db(e,31)._isNativeSelect||null,r.Db(e,31)._ariaDescribedby||null,r.Db(e,31).errorState,r.Db(e,31).required.toString(),r.Db(e,32).ngClassUntouched,r.Db(e,32).ngClassTouched,r.Db(e,32).ngClassPristine,r.Db(e,32).ngClassDirty,r.Db(e,32).ngClassValid,r.Db(e,32).ngClassInvalid,r.Db(e,32).ngClassPending]),t(e,35,1,["standard"==r.Db(e,36).appearance,"fill"==r.Db(e,36).appearance,"outline"==r.Db(e,36).appearance,"legacy"==r.Db(e,36).appearance,r.Db(e,36)._control.errorState,r.Db(e,36)._canLabelFloat,r.Db(e,36)._shouldLabelFloat(),r.Db(e,36)._hasFloatingLabel(),r.Db(e,36)._hideControlPlaceholder(),r.Db(e,36)._control.disabled,r.Db(e,36)._control.autofilled,r.Db(e,36)._control.focused,"accent"==r.Db(e,36).color,"warn"==r.Db(e,36).color,r.Db(e,36)._shouldForward("untouched"),r.Db(e,36)._shouldForward("touched"),r.Db(e,36)._shouldForward("pristine"),r.Db(e,36)._shouldForward("dirty"),r.Db(e,36)._shouldForward("valid"),r.Db(e,36)._shouldForward("invalid"),r.Db(e,36)._shouldForward("pending"),!r.Db(e,36)._animationsEnabled]),t(e,46,1,[r.Db(e,47).required?"":null,r.Db(e,53)._isServer,r.Db(e,53).id,r.Db(e,53).placeholder,r.Db(e,53).disabled,r.Db(e,53).required,r.Db(e,53).readonly&&!r.Db(e,53)._isNativeSelect||null,r.Db(e,53)._ariaDescribedby||null,r.Db(e,53).errorState,r.Db(e,53).required.toString(),r.Db(e,54).ngClassUntouched,r.Db(e,54).ngClassTouched,r.Db(e,54).ngClassPristine,r.Db(e,54).ngClassDirty,r.Db(e,54).ngClassValid,r.Db(e,54).ngClassInvalid,r.Db(e,54).ngClassPending]),t(e,56,0,"end"===r.Db(e,57).align),t(e,59,0,r.Db(e,60).disabled||null,"NoopAnimations"===r.Db(e,60)._animationMode)}))}var Ff=r.ob("app-register",Af,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-register",[],null,null,null,Lf,Nf)),r.rb(1,114688,null,0,Af,[wf,bi],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Mf=function t(e,n){_classCallCheck(this,t),this.authservice=e,this.router=n},Vf=r.qb({encapsulation:0,styles:[[""]],data:{}});function Uf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,[" Welcome! "])),(t()(),r.sb(3,0,null,null,1,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.authservice.singout()&&r),r}),null,null)),(t()(),r.Jb(-1,null,["Logout"]))],null,null)}function qf(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,Uf)),r.rb(3,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.authservice.currentUser)}),null)}var Hf,Bf,zf=r.ob("app-profile",Mf,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-profile",[],null,null,null,qf,Vf)),r.rb(1,49152,null,0,Mf,[wf,bi],null,null)],null,null)}),{},{},[]),Wf=function(){function t(e){_classCallCheck(this,t),this.total=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gf(t,this.total))}}]),t}(),Gf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(ct.a),Qf=function t(){_classCallCheck(this,t)},Kf=new Set,Yf=((Bf=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xf}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!Kf.has(t))try{Hf||((Hf=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Hf)),Hf.sheet&&(Hf.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),Kf.add(t))}catch(Ox){console.error(Ox)}}(t),this._matchMedia(t)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Bf(Object(r.Qb)(fo))},token:Bf,providedIn:"root"}),Bf);function Xf(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var Jf,Zf=((Jf=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new z.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return $f(io(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=nt($f(io(t)).map((function(t){return e._registerQuery(t).observable})));return(n=Ht(n.pipe(At(1)),n.pipe((function(t){return t.lift(new Wf(1))}),ko(0)))).pipe(Object(st.a)((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),r={observable:new Q.a((function(t){var r=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(Bt(n),Object(st.a)((function(e){return{query:t,matches:e.matches}})),ya(this._destroySubject)),mql:n};return this._queries.set(t,r),r}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Jf(Object(r.Qb)(Yf),Object(r.Qb)(r.x))},token:Jf,providedIn:"root"}),Jf);function $f(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var td="(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)";function ed(t,e){return function(n){return n.lift(new nd(t,e))}}n("3N8a"),n("IjjT"),n("7Hc7");var nd=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rd(t,this.compare,this.keySelector))}}]),t}(),rd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(ct.a);function id(){return function(t){return t.lift(new sd)}}var od,ad,sd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ud(t))}}]),t}(),ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}]),n}(ct.a),ld=((od=function(){function t(e,n){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new z.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Q.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Sh(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(H.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ht((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return va(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new od(Object(r.Qb)(r.x),Object(r.Qb)(fo))},token:od,providedIn:"root"}),od),cd=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=i,this._destroyed=new z.a,this._elementScrolled=new Q.a((function(t){return o.ngZone.runOutsideAngular((function(){return va(o.elementRef.nativeElement,"scroll").pipe(ya(o._destroyed)).subscribe(t)}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&bo()!=_o.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),bo()==_o.INVERTED?t.left=t.right:bo()==_o.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&bo()==_o.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&bo()==_o.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}(),hd=function t(){_classCallCheck(this,t)},fd=((ad=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._platform=e,n.runOutsideAngular((function(){r._change=e.isBrowser?Object(da.a)(va(window,"resize"),va(window,"orientationchange")):Object(H.a)(),r._invalidateCache=r.change().subscribe((function(){return r._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Sh(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new ad(Object(r.Qb)(fo),Object(r.Qb)(r.x))},token:ad,providedIn:"root"}),ad);function dd(){throw Error("Host already has a portal attached")}var pd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&dd(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),vd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(pd),yd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(pd),md=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).outletElement=t,a._componentFactoryResolver=r,a._appRef=i,a._defaultInjector=o,a}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){_classCallCheck(this,t),this._isDisposed=!1}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&dd(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof vd?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yd?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}()),gd=function t(){_classCallCheck(this,t)},_d=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=oo(-this._previousScrollPosition.left),t.style.top=oo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function bd(){return Error("Scroll strategy has already been attached.")}var wd=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw bd();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Cd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function kd(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function Ed(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var Sd,Od=function(){function t(e,n,r,i){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw bd();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;kd(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Td=((Sd=function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new Cd},this.close=function(t){return new wd(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new _d(o._viewportRuler,o._document)},this.reposition=function(t){return new Od(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i}).ngInjectableDef=Object(r.Pb)({factory:function(){return new Sd(Object(r.Qb)(ld),Object(r.Qb)(fd),Object(r.Qb)(r.x),Object(r.Qb)(F))},token:Sd,providedIn:"root"}),Sd),Id=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new Cd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},xd=function t(e,n,r,i,o){_classCallCheck(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Dd=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function Ad(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function Nd(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var Pd,Rd,jd=((Rd=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEventSubscriptions>0){e[r]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Rd(Object(r.Qb)(F))},token:Rd,providedIn:"root"}),Rd),Ld=((Pd=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){for(var t=this._document.getElementsByClassName("cdk-overlay-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Pd(Object(r.Qb)(F))},token:Pd,providedIn:"root"}),Pd),Fd=function(){function t(e,n,r,i,o,a,s,u){var l=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new z.a,this._attachments=new z.a,this._detachments=new z.a,this._locationChanges=Yt.a.EMPTY,this._backdropClickHandler=function(t){return l._backdropClick.next(t)},this._keydownEventsObservable=new Q.a((function(t){var e=l._keydownEvents.subscribe(t);return l._keydownEventSubscriptions++,function(){e.unsubscribe(),l._keydownEventSubscriptions--}})),this._keydownEvents=new z.a,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(At(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEventsObservable}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=oo(this._config.width),t.height=oo(this._config.height),t.minWidth=oo(this._config.minWidth),t.minHeight=oo(this._config.minHeight),t.maxWidth=oo(this._config.maxWidth),t.maxHeight=oo(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;io(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(ya(Object(da.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),Md=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z.a,this._resizeSubscription=Yt.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=this._getOriginPoint(n,s),l=this._getOverlayPoint(u,r,s),c=this._getOverlayFit(l,r,i,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(c,l,i)?o.push({position:s,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:l,originPoint:u,position:s,overlayRect:r})}}catch(m){a.e(m)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);y>d&&(d=y,f=v)}}catch(m){p.e(m)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Vd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,l=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,l),f=c*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth,s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);return r=e.width<=o.width?l||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new Dd(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,l=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var c=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*c,r=t.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=oo(n.height),r.top=oo(n.top),r.bottom=oo(n.bottom),r.width=oo(n.width),r.left=oo(n.left),r.right=oo(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=oo(i)),o&&(r.maxWidth=oo(o))}this._lastBoundingBoxSize=n,Vd(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){Vd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Vd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={};if(this._hasExactPosition()){var r=this._viewportRuler.getViewportScrollPosition();Vd(n,this._getExactOverlayY(e,t,r)),Vd(n,this._getExactOverlayX(e,t,r))}else n.position="static";var i="",o=this._getOffset(e,"x"),a=this._getOffset(e,"y");o&&(i+="translateX(".concat(o,"px) ")),a&&(i+="translateY(".concat(a,"px)")),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Vd(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=oo(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:null,right:null},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=oo(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:Ed(t,n),isOriginOutsideView:kd(t,n),isOverlayClipped:Ed(e,n),isOverlayOutsideView:kd(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){Nd("originX",t.originX),Ad("originY",t.originY),Nd("overlayX",t.overlayX),Ad("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&io(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.k)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function Vd(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Ud,qd=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new Md(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new xd(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Hd=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Bd=((Ud=function(){function t(e,n,r,i){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass(t,[{key:"global",value:function(){return new Hd}},{key:"connectedTo",value:function(t,e,n){return new qd(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new Md(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).ngInjectableDef=Object(r.Pb)({factory:function(){return new Ud(Object(r.Qb)(fd),Object(r.Qb)(F),Object(r.Qb)(fo),Object(r.Qb)(Ld))},token:Ud,providedIn:"root"}),Ud),zd=0,Wd=function(){function t(e,n,r,i,o,a,s,u,l,c){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=l,this._location=c}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Id(t);return i.direction=i.direction||this._directionality.value,new Fd(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+zd++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new md(t,this._componentFactoryResolver,this._appRef,this._injector)}}]),t}(),Gd=new r.o("cdk-connected-overlay-scroll-strategy");function Qd(t){return function(){return t.scrollStrategies.reposition()}}var Kd=function t(){_classCallCheck(this,t)};function Yd(t){return Error('Tooltip position "'.concat(t,'" is invalid.'))}var Xd=new r.o("mat-tooltip-scroll-strategy");function Jd(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}var Zd=new r.o("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),$d=function(){function t(e,n,r,i,o,a,s,u,l,c,h,f){var d=this;_classCallCheck(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=i,this._ngZone=o,this._ariaDescriber=s,this._focusMonitor=u,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new z.a,this._scrollStrategy=l;var p=n.nativeElement,v="undefined"==typeof window||window.Hammer||f;a.IOS||a.ANDROID?v||this._manualListeners.set("touchstart",(function(){return d.show()})):this._manualListeners.set("mouseenter",(function(){return d.show()})).set("mouseleave",(function(){return d.hide()})),this._manualListeners.forEach((function(t,e){return p.addEventListener(e,t)})),u.monitor(n).pipe(ya(this._destroyed)).subscribe((function(t){t?"keyboard"===t&&o.run((function(){return d.show()})):o.run((function(){return d.hide(0)}))})),h&&h.position&&(this.position=h.position)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement,e=t.style;"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(e.webkitUserSelect=e.userSelect=e.msUserSelect=""),t.draggable&&"none"===e.webkitUserDrag&&(e.webkitUserDrag="")}},{key:"ngOnDestroy",value:function(){var t=this;this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((function(e,n){t._elementRef.nativeElement.removeEventListener(n,e)})),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new vd(tp,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(ya(this._destroyed)).subscribe((function(){return t._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(t)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_handleKeydown",value:function(t){this._isTooltipVisible()&&27===t.keyCode&&!wo(t)&&(t.preventDefault(),t.stopPropagation(),this.hide(0))}},{key:"_handleTouchend",value:function(){this.hide(this._defaultOptions.touchendHideDelay)}},{key:"_createOverlay",value:function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(ya(this._destroyed)).subscribe((function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run((function(){return t.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(ya(this._destroyed)).subscribe((function(){return t._detach()})),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign({},e.main,n.main),Object.assign({},e.fallback,n.fallback)])}},{key:"_getOrigin",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)t={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw Yd(n);t={originX:"end",originY:"center"}}var r=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:r.x,originY:r.y}}}},{key:"_getOverlayPosition",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)t={overlayX:"center",overlayY:"bottom"};else if("below"==n)t={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw Yd(n);t={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:r.x,overlayY:r.y}}}},{key:"_updateTooltipMessage",value:function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(At(1),ya(this._destroyed)).subscribe((function(){t._tooltipInstance&&t._overlayRef.updatePosition()})))}},{key:"_setTooltipClass",value:function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}},{key:"position",get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=no(t),this._disabled&&this.hide(0)}},{key:"message",get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)}))})))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}}]),t}(),tp=function(){function t(e,n){_classCallCheck(this,t),this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new z.a,this._isHandset=this._breakpointObserver.observe(td)}return _createClass(t,[{key:"show",value:function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()}),t)}},{key:"hide",value:function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()}),t)}},{key:"afterHidden",value:function(){return this._onHide.asObservable()}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),t}(),ep=function t(){_classCallCheck(this,t)},np=r.qb({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function rp(t){return r.Lb(2,[(t()(),r.sb(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],(function(t,e,n){var r=!0,i=t.component;return"@state.start"===e&&(r=!1!==i._animationStart()&&r),"@state.done"===e&&(r=!1!==i._animationDone(n)&&r),r}),null,null)),r.Gb(512,null,b,w,[r.q,r.r,r.k,r.C]),r.rb(2,278528,null,0,C,[b],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Eb(131072,j,[r.h]),(t()(),r.Jb(4,null,["",""]))],(function(t,e){t(e,2,0,"mat-tooltip",e.component.tooltipClass)}),(function(t,e){var n,i=e.component;t(e,0,0,null==(n=r.Kb(e,0,0,r.Db(e,3).transform(i._isHandset)))?null:n.matches,i._visibility),t(e,4,0,i.message)}))}var ip=r.ob("mat-tooltip-component",tp,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],(function(t,e,n){var i=!0;return"body:click"===e&&(i=!1!==r.Db(t,1)._handleBodyInteraction()&&i),i}),rp,np)),r.rb(1,180224,null,0,tp,[r.h,Zf],null,null)],null,(function(t,e){t(e,0,0,"visible"===r.Db(e,1)._visibility?1:null)}))}),{},{},[]);function op(t){throw Error("A drawer was already declared for 'position=\"".concat(t,"\"'"))}var ap=new r.o("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),sp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){return _classCallCheck(this,n),e.call(this,t,r,i,o,a)}return n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,i,o,a))._changeDetectorRef=t,s._container=r,s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))}}]),n}(cd)),up=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._fixedInViewport=!1,t._fixedTopGap=0,t._fixedBottomGap=0,t}return _createClass(n,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=no(t)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=ro(t)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=ro(t)}}]),n}(function(){function t(e,n,i,o,a,s){var u=this;_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=o,this._ngZone=a,this._doc=s,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new z.a,this._animationEnd=new z.a,this._animationState="void",this.openedChange=new r.m(!0),this._destroyed=new z.a,this.onPositionChanged=new r.m,this._modeChanged=new z.a,this._opened=!1,this.openedChange.subscribe((function(t){t?(u._doc&&(u._elementFocusedBeforeDrawerWasOpened=u._doc.activeElement),u._isFocusTrapEnabled&&u._focusTrap&&u._trapFocus()):u._restoreFocus()})),this._ngZone.runOutsideAngular((function(){va(u._elementRef.nativeElement,"keydown").pipe(ht((function(t){return 27===t.keyCode&&!u.disableClose&&!wo(t)})),ya(u._destroyed)).subscribe((function(t){return u._ngZone.run((function(){u.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe(ed((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&u.openedChange.emit(u._opened)}))}return _createClass(t,[{key:"_trapFocus",value:function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(t){return this.toggle(!0,t)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){t.openedChange.pipe(At(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}},{key:"_animationStartListener",value:function(t){this._animationStarted.next(t)}},{key:"_animationDoneListener",value:function(t){this._animationEnd.next(t)}},{key:"position",get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(t){this._disableClose=no(t)}},{key:"autoFocus",get:function(){return this._autoFocus},set:function(t){this._autoFocus=no(t)}},{key:"_openedStream",get:function(){return this.openedChange.pipe(ht((function(t){return t})),Object(st.a)((function(){})))}},{key:"openedStart",get:function(){return this._animationStarted.pipe(ht((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),Object(st.a)((function(){})))}},{key:"_closedStream",get:function(){return this.openedChange.pipe(ht((function(t){return!t})),Object(st.a)((function(){})))}},{key:"closedStart",get:function(){return this._animationStarted.pipe(ht((function(t){return t.fromState!==t.toState&&"void"===t.toState})),Object(st.a)((function(){})))}},{key:"_isFocusTrapEnabled",get:function(){return this.opened&&"side"!==this.mode}},{key:"opened",get:function(){return this._opened},set:function(t){this.toggle(no(t))}},{key:"_width",get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}]),t}()),lp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(e,n,i,o,a){var s=this,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,t),this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=l,this.backdropClick=new r.m,this._destroyed=new z.a,this._doCheckSubject=new z.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new z.a,e&&e.change.pipe(ya(this._destroyed)).subscribe((function(){s._validateDrawers(),s.updateContentMargins()})),a.change().pipe(ya(this._destroyed)).subscribe((function(){return s.updateContentMargins()})),this._autosize=u}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._drawers.changes.pipe(Bt(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(ko(10),ya(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(t){return t.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(t){return t.close()}))}},{key:"updateContentMargins",value:function(){var t=this,e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){var r=this._left._width;e+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var i=this._right._width;n+=i,e-=i}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))}},{key:"ngDoCheck",value:function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(t){var e=this;t._animationStarted.pipe(ht((function(t){return t.fromState!==t.toState})),ya(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(ya(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))}},{key:"_watchDrawerPosition",value:function(t){var e=this;t&&t.onPositionChanged.pipe(ya(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(At(1)).subscribe((function(){e._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(t){var e=this;t&&t._modeChanged.pipe(ya(Object(da.a)(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}},{key:"_validateDrawers",value:function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&op("end"),t._end=e):(null!=t._start&&op("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawer()}},{key:"_closeModalDrawer",value:function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(t){return"side"!==t.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(t){return null!=t&&t.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(t){this._autosize=no(t)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:no(t)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),t}()),cp=function t(){_classCallCheck(this,t)},hp=r.qb({encapsulation:2,styles:[],data:{}});function fp(t){return r.Lb(2,[r.Cb(null,0)],null,null)}var dp=r.qb({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function pp(t){return r.Lb(2,[(t()(),r.sb(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),r.Cb(null,0)],null,null)}var vp=r.qb({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function yp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._onBackdropClicked()&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function mp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,fp,hp)),r.rb(1,212992,null,0,cd,[r.k,ld,r.x,[2,Fa]],null,null),r.rb(2,1294336,null,0,sp,[r.h,lp,r.k,ld,r.x],null,null),r.Cb(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,r.Db(e,2)._container._contentMargins.left,r.Db(e,2)._container._contentMargins.right)}))}function gp(t){return r.Lb(2,[r.Hb(671088640,1,{_userContent:0}),(t()(),r.hb(16777216,null,null,1,null,yp)),r.rb(2,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),r.Cb(null,0),r.Cb(null,1),(t()(),r.hb(16777216,null,null,1,null,mp)),r.rb(6,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}var _p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t))._platform=r,o._document=i,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var t=this;Object(r.W)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(Ko((function t(e){_classCallCheck(this,t),this._elementRef=e}))),bp=function t(){_classCallCheck(this,t)},wp=r.qb({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function Cp(t){return r.Lb(2,[r.Cb(null,0),r.Cb(null,1)],null,null)}var kp=new r.o("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1,disableDragValue:!1}}}),Ep=0,Sp=function t(e,n){_classCallCheck(this,t),this.source=e,this.checked=n},Op=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s,u,l,c){var h;return _classCallCheck(this,n),(h=e.call(this,t))._focusMonitor=i,h._changeDetectorRef=o,h._ngZone=s,h.defaults=u,h._animationMode=l,h._dir=c,h._onChange=function(t){},h._onTouched=function(){},h._uniqueId="mat-slide-toggle-"+ ++Ep,h._required=!1,h._checked=!1,h._dragging=!1,h.name=null,h.id=h._uniqueId,h.labelPosition="after",h.ariaLabel=null,h.ariaLabelledby=null,h.change=new r.m,h.toggleChange=new r.m,h.dragChange=new r.m,h.tabIndex=parseInt(a)||0,h}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){e||Promise.resolve().then((function(){return t._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new Sp(this,this.checked))}},{key:"_getDragPercentage",value:function(t){var e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))}},{key:"_onDragStart",value:function(){if(!this.disabled&&!this._dragging){var t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}}},{key:"_onDrag",value:function(t){if(this._dragging){var e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform="translate3d(".concat(this._dragPercentage/100*this._thumbBarWidth*e,"px, 0, 0)")}}},{key:"_onDragEnd",value:function(){var t=this;if(this._dragging){var e=this._dragPercentage>50;e!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=e,this._emitChangeEvent())),this._ngZone.runOutsideAngular((function(){return setTimeout((function(){t._dragging&&(t._dragging=!1,t._thumbEl.nativeElement.classList.remove("mat-dragging"),t._thumbEl.nativeElement.style.transform="")}))}))}}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(t){this._required=no(t)}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=no(t),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),n}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o)))._tabIndex=e,t}return _createClass(r,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e}}]),r}(t))}(Ko(Yo(Qo((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"accent"))),Tp=function t(){_classCallCheck(this,t)},Ip=function t(){_classCallCheck(this,t)},xp=r.qb({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging{transition-duration:0s}.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function Dp(t){return r.Lb(2,[r.Hb(671088640,1,{_thumbEl:0}),r.Hb(671088640,2,{_thumbBarEl:0}),r.Hb(671088640,3,{_inputElement:0}),(t()(),r.sb(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(t()(),r.sb(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(t()(),r.sb(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==i._onChangeEvent(n)&&r),"click"===e&&(r=!1!==i._onInputClick(n)&&r),r}),null,null)),(t()(),r.sb(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],(function(t,e,n){var r=!0,i=t.component;return"slidestart"===e&&(r=!1!==i._onDragStart()&&r),"slide"===e&&(r=!1!==i._onDrag(n)&&r),"slideend"===e&&(r=!1!==i._onDragEnd()&&r),r}),null,null)),(t()(),r.sb(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(t()(),r.sb(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.rb(9,212992,null,0,la,[r.k,r.x,fo,[2,ua],[2,Yu]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),r.Fb(10,{enterDuration:0}),(t()(),r.sb(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(t()(),r.sb(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onLabelTextChange()&&r),r}),null,null)),r.rb(13,1196032,null,0,lc,[uc,r.k,r.x],null,{event:"cdkObserveContent"}),(t()(),r.sb(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(t()(),r.Jb(-1,null,["\xa0"])),r.Cb(null,0)],(function(t,e){var n=e.component,i=t(e,10,0,150);t(e,9,0,!0,20,i,n.disableRipple||n.disabled,r.Db(e,3))}),(function(t,e){var n=e.component;t(e,3,0,n.inputId),t(e,4,0,!r.Db(e,12).textContent||!r.Db(e,12).textContent.trim()),t(e,5,0,n.inputId,n.required,n.tabIndex,n.checked,n.disabled,n.name,n.checked.toString(),n.ariaLabel,n.ariaLabelledby),t(e,8,0,r.Db(e,9).unbounded)}))}var Ap,Np=function(){function t(e,n,i,o){_classCallCheck(this,t),this.breakpointObserver=e,this.router=n,this.loaderService=i,this.authservice=o,this.isDarkTheme=!1,this.isHandset$=this.breakpointObserver.observe(td).pipe(Object(st.a)((function(t){return t.matches})),sf()),this.sidenavToggle=new r.m,this.isOpened=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.isDarkTheme="Dark"===localStorage.getItem("theme")}},{key:"storeThemeSelection",value:function(){localStorage.setItem("theme",this.isDarkTheme?"Dark":"Light")}},{key:"redirectToHome",value:function(){this.router.navigate(["home"])}}]),t}(),Pp=((Ap=function t(){_classCallCheck(this,t),this.isLoading=new G(!1)}).ngInjectableDef=r.Pb({factory:function(){return new Ap},token:Ap,providedIn:"root"}),Ap),Rp=r.qb({encapsulation:0,styles:[[".sidenav-container[_ngcontent-%COMP%]{height:100%;position:-webkit-sticky;position:sticky}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;top:0;z-index:1}.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:99}.logo[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function jp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),r.sb(1,0,null,null,6,"button",[["mat-icon-button",""],["routerLink","/profile"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,2).onClick()&&i),i}),Jh,Xh)),r.rb(2,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.rb(3,180224,null,0,Kh,[r.k,Ho,[2,Yu]],null,null),(t()(),r.sb(4,16777216,null,0,3,"mat-icon",[["aria-hidden","false"],["aria-label","Profile"],["class","mat-icon notranslate"],["matTooltip","Profile"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var i=!0;return"longpress"===e&&(i=!1!==r.Db(t,5).show()&&i),"keydown"===e&&(i=!1!==r.Db(t,5)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==r.Db(t,5)._handleTouchend()&&i),i}),bh,_h)),r.rb(5,212992,null,0,$d,[Wd,r.k,ld,r.O,r.x,fo,Po,Ho,Xd,[2,Fa],[2,Zd],[2,qe]],{message:[0,"message"]},null),r.rb(6,9158656,null,0,mh,[r.k,lh,[8,"false"],[2,dh],[2,r.l]],null,null),(t()(),r.Jb(-1,0,[" account_circle "]))],(function(t,e){t(e,2,0,"/profile"),t(e,5,0,"Profile"),t(e,6,0)}),(function(t,e){t(e,1,0,r.Db(e,3).disabled||null,"NoopAnimations"===r.Db(e,3)._animationMode),t(e,4,0,r.Db(e,6).inline,"primary"!==r.Db(e,6).color&&"accent"!==r.Db(e,6).color&&"warn"!==r.Db(e,6).color)}))}function Lp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),r.sb(1,0,null,null,6,"button",[["mat-icon-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,2).onClick()&&i),i}),Jh,Xh)),r.rb(2,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.rb(3,180224,null,0,Kh,[r.k,Ho,[2,Yu]],null,null),(t()(),r.sb(4,16777216,null,0,3,"mat-icon",[["aria-hidden","false"],["aria-label","Login"],["class","mat-icon notranslate"],["matTooltip","Login"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var i=!0;return"longpress"===e&&(i=!1!==r.Db(t,5).show()&&i),"keydown"===e&&(i=!1!==r.Db(t,5)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==r.Db(t,5)._handleTouchend()&&i),i}),bh,_h)),r.rb(5,212992,null,0,$d,[Wd,r.k,ld,r.O,r.x,fo,Po,Ho,Xd,[2,Fa],[2,Zd],[2,qe]],{message:[0,"message"]},null),r.rb(6,9158656,null,0,mh,[r.k,lh,[8,"false"],[2,dh],[2,r.l]],null,null),(t()(),r.Jb(-1,0,[" fingerprint "]))],(function(t,e){t(e,2,0,"/login"),t(e,5,0,"Login"),t(e,6,0)}),(function(t,e){t(e,1,0,r.Db(e,3).disabled||null,"NoopAnimations"===r.Db(e,3)._animationMode),t(e,4,0,r.Db(e,6).inline,"primary"!==r.Db(e,6).color&&"accent"!==r.Db(e,6).color&&"warn"!==r.Db(e,6).color)}))}function Fp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),r.sb(1,0,null,null,5,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.authservice.singout()&&r),r}),Jh,Xh)),r.rb(2,180224,null,0,Kh,[r.k,Ho,[2,Yu]],null,null),(t()(),r.sb(3,16777216,null,0,3,"mat-icon",[["aria-hidden","false"],["aria-label","Logout"],["class","mat-icon notranslate"],["matTooltip","Logout"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var i=!0;return"longpress"===e&&(i=!1!==r.Db(t,4).show()&&i),"keydown"===e&&(i=!1!==r.Db(t,4)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==r.Db(t,4)._handleTouchend()&&i),i}),bh,_h)),r.rb(4,212992,null,0,$d,[Wd,r.k,ld,r.O,r.x,fo,Po,Ho,Xd,[2,Fa],[2,Zd],[2,qe]],{message:[0,"message"]},null),r.rb(5,9158656,null,0,mh,[r.k,lh,[8,"false"],[2,dh],[2,r.l]],null,null),(t()(),r.Jb(-1,0,[" power_settings_new "]))],(function(t,e){t(e,4,0,"Logout"),t(e,5,0)}),(function(t,e){t(e,1,0,r.Db(e,2).disabled||null,"NoopAnimations"===r.Db(e,2)._animationMode),t(e,3,0,r.Db(e,5).inline,"primary"!==r.Db(e,5).color&&"accent"!==r.Db(e,5).color&&"warn"!==r.Db(e,5).color)}))}function Mp(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,32,"mat-sidenav-container",[["class","sidenav-container mat-app-background mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,gp,vp)),r.Gb(512,null,b,w,[r.q,r.r,r.k,r.C]),r.rb(2,278528,null,0,C,[b],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Fb(3,{"dark-theme-mode":0}),r.rb(4,1490944,null,2,lp,[[2,Fa],r.k,r.x,r.h,fd,ap,[2,Yu]],null,null),r.Hb(603979776,1,{_drawers:1}),r.Hb(603979776,2,{_content:0}),(t()(),r.sb(7,0,null,2,23,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Cp,wp)),r.rb(8,4243456,null,1,_p,[r.k,fo,F],{color:[0,"color"]},null),r.Hb(603979776,3,{_toolbarRows:1}),(t()(),r.sb(10,0,null,0,7,null,null,null,null,null,null,null)),(t()(),r.sb(11,0,null,null,6,"button",[["mat-icon-button",""],["routerLink","/home"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,12).onClick()&&i),i}),Jh,Xh)),r.rb(12,16384,null,0,wi,[bi,hr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.rb(13,180224,null,0,Kh,[r.k,Ho,[2,Yu]],null,null),(t()(),r.sb(14,16777216,null,0,3,"mat-icon",[["aria-hidden","false"],["aria-label","Home"],["class","mat-icon notranslate"],["matTooltip","Home"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,n){var i=!0;return"longpress"===e&&(i=!1!==r.Db(t,15).show()&&i),"keydown"===e&&(i=!1!==r.Db(t,15)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==r.Db(t,15)._handleTouchend()&&i),i}),bh,_h)),r.rb(15,212992,null,0,$d,[Wd,r.k,ld,r.O,r.x,fo,Po,Ho,Xd,[2,Fa],[2,Zd],[2,qe]],{message:[0,"message"]},null),r.rb(16,9158656,null,0,mh,[r.k,lh,[8,"false"],[2,dh],[2,r.l]],null,null),(t()(),r.Jb(-1,0,[" home "])),(t()(),r.hb(16777216,null,0,1,null,jp)),r.rb(19,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,Lp)),r.rb(21,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,Fp)),r.rb(23,16384,null,0,O,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.sb(24,16777216,null,0,6,"mat-slide-toggle",[["aria-hidden","false"],["aria-label","Theme"],["class","mat-slide-toggle"],["labelPosition","before"],["matTooltip","Theme"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"longpress"],[null,"keydown"],[null,"touchend"],[null,"focus"]],(function(t,e,n){var i=!0,o=t.component;return"longpress"===e&&(i=!1!==r.Db(t,25).show()&&i),"keydown"===e&&(i=!1!==r.Db(t,25)._handleKeydown(n)&&i),"touchend"===e&&(i=!1!==r.Db(t,25)._handleTouchend()&&i),"focus"===e&&(i=!1!==r.Db(t,26)._inputElement.nativeElement.focus()&&i),"ngModelChange"===e&&(i=!1!==(o.isDarkTheme=n)&&i),"change"===e&&(i=!1!==o.storeThemeSelection()&&i),i}),Dp,xp)),r.rb(25,212992,null,0,$d,[Wd,r.k,ld,r.O,r.x,fo,Po,Ho,Xd,[2,Fa],[2,Zd],[2,qe]],{message:[0,"message"]},null),r.rb(26,1228800,null,0,Op,[r.k,Ho,r.h,[8,null],r.x,kp,[2,Yu],[2,Fa]],{labelPosition:[0,"labelPosition"],ariaLabel:[1,"ariaLabel"]},{change:"change"}),r.Gb(1024,null,el,(function(t){return[t]}),[Op]),r.rb(28,671744,null,0,Jl,[[8,null],[8,null],[8,null],[6,el]],{model:[0,"model"]},{update:"ngModelChange"}),r.Gb(2048,null,sl,null,[Jl]),r.rb(30,16384,null,0,ll,[[4,sl]],null,null),(t()(),r.sb(31,16777216,null,2,1,"router-outlet",[],null,null,null,null,null)),r.rb(32,212992,null,0,Si,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){var n=e.component,r=t(e,3,0,n.isDarkTheme);t(e,2,0,"sidenav-container mat-app-background",r),t(e,4,0),t(e,8,0,"primary"),t(e,12,0,"/home"),t(e,15,0,"Home"),t(e,16,0),t(e,19,0,n.authservice.currentUser),t(e,21,0,!n.authservice.currentUser),t(e,23,0,n.authservice.currentUser),t(e,25,0,"Theme"),t(e,26,0,"before","Theme"),t(e,28,0,n.isDarkTheme),t(e,32,0)}),(function(t,e){t(e,0,0,r.Db(e,4)._backdropOverride),t(e,7,0,r.Db(e,8)._toolbarRows.length>0,0===r.Db(e,8)._toolbarRows.length),t(e,11,0,r.Db(e,13).disabled||null,"NoopAnimations"===r.Db(e,13)._animationMode),t(e,14,0,r.Db(e,16).inline,"primary"!==r.Db(e,16).color&&"accent"!==r.Db(e,16).color&&"warn"!==r.Db(e,16).color),t(e,24,1,[r.Db(e,26).id,r.Db(e,26).disabled?null:-1,null,null,r.Db(e,26).checked,r.Db(e,26).disabled,"before"==r.Db(e,26).labelPosition,"NoopAnimations"===r.Db(e,26)._animationMode,r.Db(e,30).ngClassUntouched,r.Db(e,30).ngClassTouched,r.Db(e,30).ngClassPristine,r.Db(e,30).ngClassDirty,r.Db(e,30).ngClassValid,r.Db(e,30).ngClassInvalid,r.Db(e,30).ngClassPending])}))}var Vp=r.qb({encapsulation:0,styles:[["p[_ngcontent-%COMP%]{color:#ff4500}h1[_ngcontent-%COMP%]{margin-top:80px}"]],data:{}});function Up(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==r.Db(t,1)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==r.Db(t,1)._animationDoneListener(n)&&i),i}),pp,dp)),r.rb(1,3325952,null,0,up,[r.k,Uo,Ho,fo,r.x,[2,F]],null,null),(t()(),r.sb(2,0,null,null,3,"app-nav",[],null,null,null,Mp,Rp)),r.rb(3,114688,null,0,Np,[Zf,bi,Pp,wf],null,null),(t()(),r.sb(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(5,212992,null,0,Si,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,3,0),t(e,5,0)}),(function(t,e){t(e,0,0,null,"end"===r.Db(e,1).position,"over"===r.Db(e,1).mode,"push"===r.Db(e,1).mode,"side"===r.Db(e,1).mode,r.Db(e,1).opened,r.Db(e,1).fixedInViewport,r.Db(e,1).fixedInViewport?r.Db(e,1).fixedTopGap:null,r.Db(e,1).fixedInViewport?r.Db(e,1).fixedBottomGap:null,r.Db(e,1)._animationState)}))}var qp,Hp=r.ob("app-root",o,(function(t){return r.Lb(0,[(t()(),r.sb(0,0,null,null,1,"app-root",[],null,null,null,Up,Vp)),r.rb(1,49152,null,0,o,[],null,null)],null,null)}),{},{},[]),Bp=((qp=function(){function t(e){_classCallCheck(this,t),this.loaderService=e}return _createClass(t,[{key:"intercept",value:function(t,e){var n=this;return this.loaderService.isLoading.next(!0),e.handle(t).pipe(Xt((function(){n.loaderService.isLoading.next(!1)})))}}]),t}()).ngInjectableDef=r.Pb({factory:function(){return new qp(r.Qb(Pp))},token:qp,providedIn:"root"}),qp);n("WMd4");var zp=new r.o("mat-menu-scroll-strategy");function Wp(t){return function(){return t.scrollStrategies.reposition()}}var Gp=function t(){_classCallCheck(this,t)},Qp=function t(){_classCallCheck(this,t)},Kp=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Yp(t,this.observables,this.project))}}]),t}(),Yp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var l=r[u];o.add(Object($.a)(_assertThisInitialized(o),l,l,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Z.a),Xp=function(){function t(e){_classCallCheck(this,t),this.predicate=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jp(t,this.predicate))}}]),t}(),Jp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(ct.a);function Zp(t){return null==t}function $p(t){return"function"==typeof t.set}function tv(t,e){return $p(e)?e:t.ref(e)}function ev(t,e){if("string"==typeof t)return e.stringCase();if($p(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function nv(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Co.a;return new Q.a((function(i){var o;return o=t[n](e,(function(t,e){r.schedule((function(){i.next({snapshot:t,prevKey:e})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(t){r.schedule((function(){return i.error(t)}))})),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}})).pipe(Object(st.a)((function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}})),Object(rh.a)())}function rv(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function iv(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=rv(t,i),a=function(t,e){if(Zp(e))return 0;var n=rv(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach((function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=[].concat(_toConsumableArray(t),[n]),!1}))}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!==r&&(t=t.filter((function(t){return t.payload.key!==n.key}))).splice(a,0,e)}else{if(null==r)return[e].concat(_toConsumableArray(t));(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter((function(t){return t.payload.key!==n.key}));case"child_changed":return t.map((function(t){return t.payload.key===i?e:t}));case"child_moved":if(o>-1){var l=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,l),t}return t;default:return t}}function ov(t){return(Zp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function av(t,e,n){return function(t,e,n){return nv(t,"value","once",n).pipe(Mt((function(r){var i=[Object(H.a)(r)];return e.forEach((function(e){return i.push(nv(t,e,"on",n))})),Object(da.a).apply(void 0,i).pipe(zt(iv,[]))})),ed())}(t,e=ov(e),n)}function sv(t,e,n){var r=(e=ov(e)).map((function(e){return nv(t,e,"on",n)}));return Object(da.a).apply(void 0,_toConsumableArray(r))}function uv(t,e){return function(n,r){return ev(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function lv(t,e){return function(){return nv(t,"value","on",e)}}n("6Uf2");var cv,hv=new r.o("angularfire2.realtimeDatabaseURL"),fv=new r.o("angularfire2.database.use-emulator"),dv=((cv=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this.schedulers=new ff.e(o),this.keepUnstableUntilFirst=Object(ff.i)(this.schedulers);var u=a,l=Object(ff.h)(e,o,n);!tf.a.auth&&s&&Object(ff.k)(),this.database=Object(ff.g)("".concat(l.name,".database.").concat(r),"AngularFireDatabase",l,(function(){var t=o.runOutsideAngular((function(){return l.database(r||void 0)}));return u&&t.useEmulator.apply(t,_toConsumableArray(u)),t}),[u])}return _createClass(t,[{key:"list",value:function(t,e){var n=this,r=this.schedulers.ngZone.runOutsideAngular((function(){return tv(n.database,t)})),i=r;return e&&(i=e(r)),function(t,e){var n,r=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run((function(){return t.ref}));return{query:t,update:uv(i,"update"),set:uv(i,"set"),push:function(t){return i.push(t)},remove:(n=i,function(t){return t?ev(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return av(t,n,r).pipe(e.keepUnstableUntilFirst)},stateChanges:function(n){return sv(t,n,r).pipe(e.keepUnstableUntilFirst)},auditTrail:function(n){return function(t,e,n){return function(t,e,n){return function(t,e){return nv(t,"value","on",e).pipe(Object(st.a)((function(t){var e;return t.payload.forEach((function(t){return e=t.key,!1})),{data:t,lastKeyToLoad:e}})))}(t,n).pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Kp(e,n))}}(e),Object(st.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=n.lastKeyToLoad,o=r.map((function(t){return t.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new Xp(r))}),Object(st.a)((function(t){return t.actions})));var r}(t,sv(t,e).pipe(zt((function(t,e){return[].concat(_toConsumableArray(t),[e])}),[])),n)}(t,n,r).pipe(e.keepUnstableUntilFirst)},valueChanges:function(n,i){return av(t,n,r).pipe(Object(st.a)((function(t){return t.map((function(t){return i&&i.idField?Object.assign(Object.assign({},t.payload.val()),_defineProperty({},i.idField,t.key)):t.payload.val()}))})),e.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(t){var e,n,r=this,i=this.schedulers.ngZone.runOutsideAngular((function(){return tv(r.database,t)}));return n=this,{query:e=i,snapshotChanges:function(){return lv(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return lv(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(st.a)((function(t){return t.payload.exists()?t.payload.val():null})))}}}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular((function(){return t.database.ref()})).push().key}}]),t}()).\u0275prov=Object(r.Pb)({factory:function(){return new cv(Object(r.Qb)(ff.c),Object(r.Qb)(ff.b,8),Object(r.Qb)(hv,8),Object(r.Qb)(r.z),Object(r.Qb)(r.x),Object(r.Qb)(fv,8),Object(r.Qb)(df,8))},token:cv,providedIn:"any"}),cv),pv=function t(){_classCallCheck(this,t)},vv=n("zIRd"),yv=n("q/0M"),mv=n("qOnz"),gv=function(t,e){return(gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _v(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bv,wv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Cv=Cv||{},kv=wv||self;function Ev(){}function Sv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ov(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Tv="closure_uid_"+(1e9*Math.random()>>>0),Iv=0;function xv(t,e,n){return t.call.apply(t.bind,arguments)}function Dv(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Av(t,e,n){return(Av=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xv:Dv).apply(null,arguments)}function Nv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Pv(){return Date.now()}function Rv(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function jv(){this.j=this.j,this.i=this.i}jv.prototype.j=!1,jv.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Tv)&&t[Tv]||(t[Tv]=++Iv)}(this)},jv.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Lv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fv=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Mv(t){return Array.prototype.concat.apply([],arguments)}function Vv(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Uv(t){return/^[\s\xa0]*$/.test(t)}var qv,Hv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bv(t,e){return-1!=t.indexOf(e)}function zv(t,e){return t<e?-1:t>e?1:0}t:{var Wv=kv.navigator;if(Wv){var Gv=Wv.userAgent;if(Gv){qv=Gv;break t}}qv=""}function Qv(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Kv(t){var e={};for(var n in t)e[n]=t[n];return e}var Yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xv(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yv.length;o++)n=Yv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jv(t){return Jv[" "](t),t}Jv[" "]=Ev;var Zv,$v,ty=Bv(qv,"Opera"),ey=Bv(qv,"Trident")||Bv(qv,"MSIE"),ny=Bv(qv,"Edge"),ry=ny||ey,iy=Bv(qv,"Gecko")&&!(Bv(qv.toLowerCase(),"webkit")&&!Bv(qv,"Edge"))&&!(Bv(qv,"Trident")||Bv(qv,"MSIE"))&&!Bv(qv,"Edge"),oy=Bv(qv.toLowerCase(),"webkit")&&!Bv(qv,"Edge");function ay(){var t=kv.document;return t?t.documentMode:void 0}t:{var sy="",uy=($v=qv,iy?/rv:([^\);]+)(\)|;)/.exec($v):ny?/Edge\/([\d\.]+)/.exec($v):ey?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($v):oy?/WebKit\/(\S+)/.exec($v):ty?/(?:Version)[ \/]?(\S+)/.exec($v):void 0);if(uy&&(sy=uy?uy[1]:""),ey){var ly=ay();if(null!=ly&&ly>parseFloat(sy)){Zv=String(ly);break t}}Zv=sy}var cy={};function hy(t){return function(t,e){var n=cy;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Hv(String(Zv)).split("."),r=Hv(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=zv(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||zv(0==a[2].length,0==s[2].length)||zv(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var fy=kv.document&&ey&&(ay()||parseInt(Zv,10))||void 0,dy=!ey||9<=Number(fy),py=ey&&!hy("9"),vy=function(){if(!kv.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{kv.addEventListener("test",Ev,e),kv.removeEventListener("test",Ev,e)}catch(n){}return t}();function yy(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function my(t,e){if(yy.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(iy){t:{try{Jv(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gy[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}yy.prototype.b=function(){this.defaultPrevented=!0},Rv(my,yy);var gy={2:"touch",3:"pen",4:"mouse"};my.prototype.b=function(){my.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,py)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var _y="closure_listenable_"+(1e6*Math.random()|0),by=0;function wy(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++by,this.Y=this.Z=!1}function Cy(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ky(t){this.src=t,this.a={},this.b=0}function Ey(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Lv(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Cy(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Sy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ky.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Sy(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new wy(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Oy="closure_lm_"+(1e6*Math.random()|0),Ty={};function Iy(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ly(r),e&&e[_y]?e.wa(n,r,Ov(i)?!!i.capture:!!i,o):xy(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Iy(t,e[o],n,r,i);return null}return n=Ly(n),t&&t[_y]?t.va(e,n,Ov(r)?!!r.capture:!!r,i):xy(t,e,n,!1,r,i)}function xy(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ov(i)?!!i.capture:!!i;if(a&&!dy)return null;var s=Ry(t);if(s||(t[Oy]=s=new ky(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Py,e=dy?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vy||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ay(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Dy(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[_y])Ey(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ay(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ry(e))?(Ey(n,t),0==n.b&&(n.src=null,e[Oy]=null)):Cy(t)}}}function Ay(t){return t in Ty?Ty[t]:Ty[t]="on"+t}function Ny(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Dy(t),n.call(r,e)}function Py(t,e){if(t.Y)return!0;if(!dy){if(!e)t:{e=["window","event"];for(var n=kv,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ny(t,e=new my(e,this))}return Ny(t,new my(e,this))}function Ry(t){return(t=t[Oy])instanceof ky?t:null}var jy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ly(t){return"function"==typeof t?t:(t[jy]||(t[jy]=function(e){return t.handleEvent(e)}),t[jy])}function Fy(){jv.call(this),this.c=new ky(this),this.J=this,this.C=null}function My(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new yy(e,t);else if(e instanceof yy)e.target=e.target||t;else{var i=e;Xv(e=new yy(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Vy(a,r,!0,e)&&i}if(i=Vy(a=e.a=t,r,!0,e)&&i,i=Vy(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Vy(a=e.a=n[o],r,!1,e)&&i}function Vy(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Ey(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Rv(Fy,jv),Fy.prototype[_y]=!0,(bv=Fy.prototype).addEventListener=function(t,e,n,r){Iy(this,t,e,n,r)},bv.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Ov(i)?!!i.capture:!!i,r=Ly(r),e&&e[_y]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Sy(a=e.a[n],r,i,o))&&(Cy(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Ry(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Sy(n,r,i,o)),(r=-1<e?n[e]:null)&&Dy(r))}(this,t,e,n,r)},bv.G=function(){if(Fy.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Cy(n[r]);delete e.a[t],e.b--}}this.C=null},bv.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},bv.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Uy=kv.JSON.stringify;function qy(){this.b=this.a=null}var Hy,By=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Wy}),(function(t){t.reset()}));function zy(){var t=Yy,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Wy(){this.next=this.b=this.a=null}function Gy(t){kv.setTimeout((function(){throw t}),0)}function Qy(t,e){Hy||function(){var t=kv.Promise.resolve(void 0);Hy=function(){t.then(Xy)}}(),Ky||(Hy(),Ky=!0),Yy.add(t,e)}qy.prototype.add=function(t,e){var n=By.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Wy.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Wy.prototype.reset=function(){this.next=this.b=this.a=null};var Ky=!1,Yy=new qy;function Xy(){for(var t;t=zy();){try{t.a.call(t.b)}catch(n){Gy(n)}var e=By;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ky=!1}function Jy(t,e){Fy.call(this),this.b=t||1,this.a=e||kv,this.f=Av(this.Za,this),this.g=Pv()}function Zy(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function $y(t,e,n){if("function"==typeof t)n&&(t=Av(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Av(t.handleEvent,t)}return 2147483647<Number(e)?-1:kv.setTimeout(t,e||0)}function tm(t){t.a=$y((function(){t.a=null,t.c&&(t.c=!1,tm(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Rv(Jy,Fy),(bv=Jy.prototype).aa=!1,bv.M=null,bv.Za=function(){if(this.aa){var t=Pv()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),My(this,"tick"),this.aa&&(Zy(this),this.start()))}},bv.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Pv())},bv.G=function(){Jy.X.G.call(this),Zy(this),delete this.a};var em=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}gv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:tm(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(kv.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(jv);function nm(t){jv.call(this),this.b=t,this.a={}}Rv(nm,jv);var rm=[];function im(t,e,n,r){Array.isArray(n)||(n&&(rm[0]=n.toString()),n=rm);for(var i=0;i<n.length;i++){var o=Iy(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function om(t){Qv(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Dy(t)}),t),t.a={}}function am(){this.a=!0}function sm(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Uy(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}nm.prototype.G=function(){nm.X.G.call(this),om(this)},nm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},am.prototype.info=function(){};var um={},lm=null;function cm(){return lm=lm||new Fy}function hm(t){yy.call(this,um.Fa,t)}function fm(t){var e=cm();My(e,new hm(e,t))}function dm(t,e){yy.call(this,um.STAT_EVENT,t),this.stat=e}function pm(t){var e=cm();My(e,new dm(e,t))}function vm(t){yy.call(this,um.Ga,t)}function ym(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return kv.setTimeout((function(){t()}),e)}um.Fa="serverreachability",Rv(hm,yy),um.STAT_EVENT="statevent",Rv(dm,yy),um.Ga="timingevent",Rv(vm,yy);var mm={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},gm={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _m(){}function bm(){}_m.prototype.a=null;var wm,Cm={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function km(){yy.call(this,"d")}function Em(){yy.call(this,"c")}function Sm(){}function Om(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nm(this),this.P=Tm,this.R=new Jy(t=ry?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Rv(km,yy),Rv(Em,yy),Rv(Sm,_m),wm=new Sm;var Tm=45e3,Im={},xm={};function Dm(t,e,n){t.H=1,t.i=Zm(Gm(e)),t.j=n,t.I=!0,Am(t,null)}function Am(t,e){t.u=Pv(),Rm(t),t.l=Gm(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),hg(n.b,"t",r),t.D=0,t.a=o_(t.g,t.g.C?e:null),0<t.O&&(t.F=new em(Av(t.Ca,t,t.a),t.O)),im(t.J,t.a,"readystatechange",t.Xa),e=t.B?Kv(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fm(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Nm(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Pm(t,n);if(i==xm){4==e&&(t.h=4,pm(14),r=!1),sm(t.c,t.f,null,"[Incomplete Response]");break}if(i==Im){t.h=4,pm(15),sm(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}sm(t.c,t.f,i,null),Vm(t,i)}4==e&&0==n.length&&(t.h=1,pm(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jg(e),e.F=!0,pm(11))):(sm(t.c,t.f,n,"[Invalid Chunked Response]"),Mm(t),Fm(t))}function Pm(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xm:(n=Number(e.substring(n,r)),isNaN(n)?Im:(r+=1)+n>e.length?xm:(e=e.substr(r,n),t.D=r+n,e))}function Rm(t){t.T=Pv()+t.P,jm(t,t.P)}function jm(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ym(Av(t.Va,t),e)}function Lm(t){t.o&&(kv.clearTimeout(t.o),t.o=null)}function Fm(t){0==t.g.v||t.A||t_(t.g,t)}function Mm(t){Lm(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zy(t.R),om(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vm(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||gg(n.b,t)))if(n.I=t.N,!t.C&&gg(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(VI){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;$g(n),Hg(n)}Xg(n),pm(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ym(Av(n.Sa,n),6e3));if(1>=mg(n.b)&&n.ea){try{n.ea()}catch(VI){}n.ea=void 0}}else n_(n,11)}else if((t.C||n.a==t)&&$g(n),!Uv(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(Bv(c,"spdy")||Bv(c,"quic")||Bv(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_g(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Jm(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Pv()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=i_(u,u.C?u.ga:null,u.fa),d.C){bg(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Lm(p),Rm(p)),u.a=d}else Yg(u);0<n.g.length&&Wg(n)}else"stop"!=i[0]&&"close"!=i[0]||n_(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?n_(n,7):qg(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fm(4)}catch(VI){}}function Um(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sv(t)||"string"==typeof t)Fv(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Sv(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Sv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qm(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qm)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hm(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Bm(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Bm(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Bm(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(bv=Om.prototype).setTimeout=function(t){this.P=t},bv.Xa=function(t){t=t.target;var e=this.F;e&&3==Fg(t)?e.f():this.Ca(t)},bv.Ca=function(t){try{if(t==this.a)t:{var e=Fg(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ry&&!this.a.$())){this.A||4!=e||7==n||fm(8==n||0>=r?3:2),Lm(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uv(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,pm(12),Mm(this),Fm(this);break t}sm(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vm(this,u)}this.I?(Nm(this,e,o),ry&&this.b&&3==e&&(im(this.J,this.R,"tick",this.Wa),this.R.start())):(sm(this.c,this.f,o,null),Vm(this,o)),4==e&&Mm(this),this.b&&!this.A&&(4==e?t_(this.g,this):(this.b=!1,Rm(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,pm(12)):(this.h=0,pm(13)),Mm(this),Fm(this)}}}catch(l){}},bv.Wa=function(){if(this.a){var t=Fg(this.a),e=this.a.$();this.D<e.length&&(Lm(this),Nm(this,t,e),this.b&&4!=t&&Rm(this))}},bv.cancel=function(){this.A=!0,Mm(this)},bv.Va=function(){this.o=null;var t=Pv();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(fm(3),pm(17)),Mm(this),this.h=2,Fm(this)):jm(this,this.T-t)},(bv=qm.prototype).K=function(){Hm(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},bv.L=function(){return Hm(this),this.a.concat()},bv.get=function(t,e){return Bm(this.b,t)?this.b[t]:e},bv.set=function(t,e){Bm(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},bv.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wm(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wm){this.a=void 0!==e?e:t.a,Qm(this,t.f),this.j=t.j,Km(this,t.c),Ym(this,t.h),this.g=t.g,e=t.b;var n=new sg;n.c=e.c,e.a&&(n.a=new qm(e.a),n.b=e.b),Xm(this,n),this.i=t.i}else t&&(n=String(t).match(zm))?(this.a=!!e,Qm(this,n[1]||"",!0),this.j=$m(n[2]||""),Km(this,n[3]||"",!0),Ym(this,n[4]),this.g=$m(n[5]||"",!0),Xm(this,n[6]||"",!0),this.i=$m(n[7]||"")):(this.a=!!e,this.b=new sg(null,this.a))}function Gm(t){return new Wm(t)}function Qm(t,e,n){t.f=n?$m(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Km(t,e,n){t.c=n?$m(e,!0):e}function Ym(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xm(t,e,n){e instanceof sg?(t.b=e,function(t,e){e&&!t.f&&(ug(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lg(this,e),hg(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=tg(e,og)),t.b=new sg(e,t.a))}function Jm(t,e,n){t.b.set(e,n)}function Zm(t){return Jm(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pv()).toString(36)),t}function $m(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,eg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wm.prototype.toString=function(){var t=[],e=this.f;e&&t.push(tg(e,ng,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(tg(e,ng,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(tg(n,"/"==n.charAt(0)?ig:rg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",tg(n,ag)),t.join("")};var ng=/[#\/\?@]/g,rg=/[#\?:]/g,ig=/[#\?]/g,og=/[#\?@]/g,ag=/#/g;function sg(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ug(t){t.a||(t.a=new qm,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lg(t,e){ug(t),e=fg(t,e),Bm(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Bm((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hm(t)))}function cg(t,e){return ug(t),e=fg(t,e),Bm(t.a.b,e)}function hg(t,e,n){lg(t,e),0<n.length&&(t.c=null,t.a.set(fg(t,e),Vv(n)),t.b+=n.length)}function fg(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(bv=sg.prototype).add=function(t,e){ug(this),this.c=null,t=fg(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},bv.forEach=function(t,e){ug(this),this.a.forEach((function(n,r){Fv(n,(function(n){t.call(e,n,r,this)}),this)}),this)},bv.L=function(){ug(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},bv.K=function(t){ug(this);var e=[];if("string"==typeof t)cg(this,t)&&(e=Mv(e,this.a.get(fg(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Mv(e,t[n])}return e},bv.set=function(t,e){return ug(this),this.c=null,cg(this,t=fg(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},bv.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},bv.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var dg=function(t,e){this.b=t,this.a=e};function pg(t){this.g=t||vg,t=kv.PerformanceNavigationTiming?0<(t=kv.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(kv.ia&&kv.ia.ya&&kv.ia.ya()&&kv.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var vg=10;function yg(t){return!!t.b||!!t.a&&t.a.size>=t.f}function mg(t){return t.b?1:t.a?t.a.size:0}function gg(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _g(t,e){t.a?t.a.add(e):t.b=e}function bg(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function wg(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_v(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Vv(t.c)}function Cg(){}function kg(){this.a=new Cg}function Eg(t,e,n){var r=n||"";try{Um(t,(function(t,n){var i=t;Ov(t)&&(i=Uy(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Ox){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ox}}function Sg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}pg.prototype.cancel=function(){var t,e;if(this.c=wg(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_v(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Cg.prototype.stringify=function(t){return kv.JSON.stringify(t,void 0)},Cg.prototype.parse=function(t){return kv.JSON.parse(t,void 0)};var Og=kv.JSON.parse;function Tg(t){Fy.call(this),this.headers=new qm,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ig,this.D=this.F=!1}Rv(Tg,Fy);var Ig="",xg=/^https?$/i,Dg=["POST","PUT"];function Ag(t){return"content-type"==t.toLowerCase()}function Ng(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pg(t),jg(t)}function Pg(t){t.u||(t.u=!0,My(t,"complete"),My(t,"error"))}function Rg(t){if(t.b&&void 0!==Cv&&(!t.s[1]||4!=Fg(t)||2!=t.W()))if(t.l&&4==Fg(t))$y(t.za,0,t);else if(My(t,"readystatechange"),4==Fg(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(zm)[1]||null;if(!o&&kv.self&&kv.self.location){var a=kv.self.location.protocol;o=a.substr(0,a.length-1)}i=!xg.test(o?o.toLowerCase():"")}e=i}if(e)My(t,"complete"),My(t,"success");else{t.h=6;try{var s=2<Fg(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Pg(t)}}finally{jg(t)}}}function jg(t,e){if(t.a){Lg(t);var n=t.a,r=t.s[0]?Ev:null;t.a=null,t.s=null,e||My(t,"ready");try{n.onreadystatechange=r}catch(Ox){}}}function Lg(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(kv.clearTimeout(t.m),t.m=null)}function Fg(t){return t.a?t.a.readyState:0}function Mg(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qv(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Jm(t,e,n))}function Vg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ug(t){this.pa=0,this.g=[],this.c=new am,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vg("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vg("baseRetryDelayMs",5e3,t),this.Ra=Vg("retryDelaySeedMs",1e4,t),this.Ma=Vg("forwardChannelMaxRetries",2,t),this.ma=Vg("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new pg(t&&t.concurrentRequestLimit),this.ka=new kg,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qg(t){if(Bg(t),3==t.v){var e=t.R++,n=Gm(t.B);Jm(n,"SID",t.J),Jm(n,"RID",e),Jm(n,"TYPE","terminate"),Qg(t,n),(e=new Om(t,t.c,e,void 0)).H=2,e.i=Zm(Gm(n)),n=!1,kv.navigator&&kv.navigator.sendBeacon&&(n=kv.navigator.sendBeacon(e.i.toString(),"")),!n&&kv.Image&&((new Image).src=e.i,n=!0),n||(e.a=o_(e.g,null),e.a.ba(e.i)),e.u=Pv(),Rm(e)}r_(t)}function Hg(t){t.a&&(Jg(t),t.a.cancel(),t.a=null)}function Bg(t){Hg(t),t.j&&(kv.clearTimeout(t.j),t.j=null),$g(t),t.b.cancel(),t.h&&("number"==typeof t.h&&kv.clearTimeout(t.h),t.h=null)}function zg(t,e){t.g.push(new dg(t.Oa++,e)),3==t.v&&Wg(t)}function Wg(t){yg(t.b)||t.h||(t.h=!0,Qy(t.Ba,t),t.u=0)}function Gg(t,e){var n;n=e?e.f:t.R++;var r=Gm(t.B);Jm(r,"SID",t.J),Jm(r,"RID",n),Jm(r,"AID",t.P),Qg(t,r),t.i&&t.l&&Mg(r,t.i,t.l),n=new Om(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Kg(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_g(t.b,n),Dm(n,r,e)}function Qg(t,e){t.f&&Um({},(function(t,n){Jm(e,n,t)}))}function Kg(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Av(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Eg(c,a,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yg(t){t.a||t.j||(t.T=1,Qy(t.Aa,t),t.o=0)}function Xg(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ym(Av(t.Aa,t),e_(t,t.o)),t.o++,0))}function Jg(t){null!=t.s&&(kv.clearTimeout(t.s),t.s=null)}function Zg(t){t.a=new Om(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Gm(t.la);Jm(e,"RID","rpc"),Jm(e,"SID",t.J),Jm(e,"CI",t.H?"0":"1"),Jm(e,"AID",t.P),Qg(t,e),Jm(e,"TYPE","xmlhttp"),t.i&&t.l&&Mg(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zm(Gm(e)),n.j=null,n.I=!0,Am(n,t)}function $g(t){null!=t.m&&(kv.clearTimeout(t.m),t.m=null)}function t_(t,e){var n=null;if(t.a==e){$g(t),Jg(t),t.a=null;var r=2}else{if(!gg(t.b,e))return;n=e.s,bg(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Pv()-e.u;var i=t.u;My(r=cm(),new vm(r,n,e,i)),Wg(t)}else Yg(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(mg(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ym(Av(t.Ba,t,e),e_(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xg(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:n_(t,5);break;case 4:n_(t,10);break;case 3:n_(t,6);break;default:n_(t,2)}}function e_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function n_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Av(t.Ya,t);n||(n=new Wm("//www.google.com/images/cleardot.gif"),kv.location&&"http"==kv.location.protocol||Qm(n,"https"),Zm(n)),function(t,e){var n=new am;if(kv.Image){var r=new Image;r.onload=Nv(Sg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nv(Sg,n,r,"TestLoadImage: error",!1,e),r.onabort=Nv(Sg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nv(Sg,n,r,"TestLoadImage: timeout",!1,e),kv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else pm(2);t.v=0,t.f&&t.f.ra(e),r_(t),Bg(t)}function r_(t){t.v=0,t.I=-1,t.f&&(0==wg(t.b).length&&0==t.g.length||(t.b.c.length=0,Vv(t.g),t.g.length=0),t.f.qa())}function i_(t,e,n){var r=function(t){return t instanceof Wm?Gm(t):new Wm(t,void 0)}(n);if(""!=r.c)e&&Km(r,e+"."+r.c),Ym(r,r.h);else{var i=kv.location;r=function(t,e,n,r){var i=new Wm(null,void 0);return t&&Qm(i,t),e&&Km(i,e),n&&Ym(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qv(t.V,(function(t,e){Jm(r,e,t)})),n=t.na,(e=t.A)&&n&&Jm(r,e,n),Jm(r,"VER",t.ha),Qg(t,r),r}function o_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tg(t.Na)).F=t.C,e}function a_(){}function s_(){if(ey&&!(10<=Number(fy)))throw Error("Environmental error: no available transport.")}function u_(t,e){Fy.call(this),this.a=new Ug(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Uv(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uv(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new h_(this)}function l_(t){km.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function c_(){Em.call(this),this.status=1}function h_(t){this.a=t}(bv=Tg.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:wm),this.a.onreadystatechange=Av(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Ng(this,o)}t=n||"";var i=new qm(this.headers);r&&Um(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ag,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=kv.FormData&&t instanceof kv.FormData,!(0<=Lv(Dg,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lg(this),0<this.o&&((this.D=function(t){return ey&&hy(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Av(this.xa,this)):this.m=$y(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Ng(this,o)}},bv.xa=function(){void 0!==Cv&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,My(this,"timeout"),this.abort(8))},bv.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,My(this,"complete"),My(this,"abort"),jg(this))},bv.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jg(this,!0)),Tg.X.G.call(this)},bv.za=function(){this.j||(this.A||this.l||this.g?Rg(this):this.Ua())},bv.Ua=function(){Rg(this)},bv.W=function(){try{return 2<Fg(this)?this.a.status:-1}catch($v){return-1}},bv.$=function(){try{return this.a?this.a.responseText:""}catch($v){return""}},bv.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Og(e)}},bv.ua=function(){return this.h},bv.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(bv=Ug.prototype).ha=8,bv.v=1,bv.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Om(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xv(r=Kv(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Kg(this,n,e),Jm(i=Gm(this.B),"RID",t),Jm(i,"CVER",22),this.A&&Jm(i,"X-HTTP-Session-Id",this.A),Qg(this,i),this.i&&r&&Mg(i,this.i,r),_g(this.b,n),this.Ia&&Jm(i,"TYPE","init"),this.da?(Jm(i,"$req",e),Jm(i,"SID","null"),n.U=!0,Dm(n,i,null)):Dm(n,i,e),this.v=2}}else 3==this.v&&(t?Gg(this,t):0==this.g.length||yg(this.b)||Gg(this))},bv.Aa=function(){if(this.j=null,Zg(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ym(Av(this.Ta,this),t)}},bv.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,pm(10),Hg(this),Zg(this))},bv.Sa=function(){null!=this.m&&(this.m=null,Hg(this),Xg(this),pm(19))},bv.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),pm(2)):(this.c.info("Failed to ping google.com"),pm(1))},(bv=a_.prototype).ta=function(){},bv.sa=function(){},bv.ra=function(){},bv.qa=function(){},bv.Ja=function(){},s_.prototype.a=function(t,e){return new u_(t,e)},Rv(u_,Fy),u_.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;pm(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=i_(t,null,t.fa),Wg(t)},u_.prototype.close=function(){qg(this.a)},u_.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,zg(this.a,e)}else this.l?((e={}).__data__=Uy(t),zg(this.a,e)):zg(this.a,t)},u_.prototype.G=function(){this.a.f=null,delete this.f,qg(this.a),delete this.a,u_.X.G.call(this)},Rv(l_,km),Rv(c_,Em),Rv(h_,a_),h_.prototype.ta=function(){My(this.a,"a")},h_.prototype.sa=function(t){My(this.a,new l_(t))},h_.prototype.ra=function(t){My(this.a,new c_(t))},h_.prototype.qa=function(){My(this.a,"b")},s_.prototype.createWebChannel=s_.prototype.a,u_.prototype.send=u_.prototype.h,u_.prototype.open=u_.prototype.g,u_.prototype.close=u_.prototype.close,mm.NO_ERROR=0,mm.TIMEOUT=8,mm.HTTP_ERROR=6,gm.COMPLETE="complete",bm.EventType=Cm,Cm.OPEN="a",Cm.CLOSE="b",Cm.ERROR="c",Cm.MESSAGE="d",Fy.prototype.listen=Fy.prototype.va,Tg.prototype.listenOnce=Tg.prototype.wa,Tg.prototype.getLastError=Tg.prototype.Qa,Tg.prototype.getLastErrorCode=Tg.prototype.ua,Tg.prototype.getStatus=Tg.prototype.W,Tg.prototype.getResponseJson=Tg.prototype.Pa,Tg.prototype.getResponseText=Tg.prototype.$,Tg.prototype.send=Tg.prototype.ba;var f_=mm,d_=gm,p_=um,v_=bm,y_=Tg,m_=new yv.b("@firebase/firestore");function g_(){return m_.logLevel}function __(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(m_.logLevel<=yv.a.DEBUG){var r=e.map(C_);m_.debug.apply(m_,Object($h.g)(["Firestore (8.2.2): "+t],r))}}function b_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(m_.logLevel<=yv.a.ERROR){var r=e.map(C_);m_.error.apply(m_,Object($h.g)(["Firestore (8.2.2): "+t],r))}}function w_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(m_.logLevel<=yv.a.WARN){var r=e.map(C_);m_.warn.apply(m_,Object($h.g)(["Firestore (8.2.2): "+t],r))}}function C_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ox){return t}}function k_(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw b_(e),new Error(e)}function E_(t,e){t||k_()}function S_(t,e){return t}function O_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var T_=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=O_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function I_(t,e){return t<e?-1:t>e?1:0}function x_(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function D_(t){return t+"\0"}var A_=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return I_(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();A_.h=new A_("");var N_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object($h.c)(e,t),e}(Error),R_=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(A_.fromBase64String(e))}catch(e){throw new P_(N_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(A_.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),j_=function(t){this._=t};function L_(){if("undefined"==typeof Uint8Array)throw new P_(N_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function F_(){if("undefined"==typeof atob)throw new P_(N_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var M_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.fromBase64String=function(t){return F_(),new e(R_.fromBase64String(t))},e.fromUint8Array=function(t){return L_(),new e(R_.fromUint8Array(t))},e.prototype.toBase64=function(){return F_(),this._.toBase64()},e.prototype.toUint8Array=function(){return L_(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(j_),V_=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},U_=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),q_=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();q_.UNAUTHENTICATED=new q_(null),q_.P=new q_("google-credentials-uid"),q_.g=new q_("first-party-uid");var H_=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},B_=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(q_.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),z_=function(){function t(t){var e=this;this.C=null,this.currentUser=q_.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(__("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(E_("string"==typeof n.accessToken),new H_(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return E_(null===t||"string"==typeof t),new q_(t)},t}(),W_=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=q_.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),G_=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new W_(this.k,this.M))},t.prototype.S=function(t){t(q_.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Q_=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Q_.U=-1;var K_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new P_(N_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new P_(N_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new P_(N_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new P_(N_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?I_(this.nanoseconds,t.nanoseconds):I_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Y_=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new K_(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),X_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&k_(),void 0===n?n=t.length-e:n>t.length-e&&k_(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),J_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new P_(N_.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(X_),Z_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Z_.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new P_(N_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new P_(N_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new P_(N_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new P_(N_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(X_),tb=function(){function t(t){this.path=t}return t.ft=function(e){return new t(J_.ct(e))},t.dt=function(e){return new t(J_.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===J_.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return J_.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new J_(e.slice()))},t}();function eb(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ib=function(){function t(t){this.fields=t,t.sort($_.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return x_(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ab(t){if(E_(!!t),"string"==typeof t){var e=0,n=ob.exec(t);if(E_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sb(t.seconds),nanos:sb(t.nanos)}}function sb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ub(t){return"string"==typeof t?A_.fromBase64String(t):A_.fromUint8Array(t)}function lb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cb(t){var e=ab(t.mapValue.fields.__local_write_time__.timestampValue);return new K_(e.seconds,e.nanos)}function hb(t){return null==t}function fb(t){return 0===t&&1/t==-1/0}function db(t){return"number"==typeof t&&Number.isInteger(t)&&!fb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function pb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lb(t)?4:10:k_()}function vb(t,e){var n=pb(t);if(n!==pb(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cb(t).isEqual(cb(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ab(t.timestampValue),r=ab(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ub(t.bytesValue).isEqual(ub(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sb(t.geoPointValue.latitude)===sb(e.geoPointValue.latitude)&&sb(t.geoPointValue.longitude)===sb(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sb(t.integerValue)===sb(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sb(t.doubleValue),r=sb(e.doubleValue);return n===r?fb(n)===fb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return x_(t.arrayValue.values||[],e.arrayValue.values||[],vb);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(eb(n)!==eb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vb(n[i],r[i])))return!1;return!0}(t,e);default:return k_()}}function yb(t,e){return void 0!==(t.values||[]).find((function(t){return vb(t,e)}))}function mb(t,e){var n=pb(t),r=pb(e);if(n!==r)return I_(n,r);switch(n){case 0:return 0;case 1:return I_(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sb(t.integerValue||t.doubleValue),r=sb(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gb(t.timestampValue,e.timestampValue);case 4:return gb(cb(t),cb(e));case 5:return I_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ub(t),r=ub(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=I_(n[i],r[i]);if(0!==o)return o}return I_(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=I_(sb(t.latitude),sb(e.latitude));return 0!==n?n:I_(sb(t.longitude),sb(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=mb(n[i],r[i]);if(o)return o}return I_(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=I_(r[a],o[a]);if(0!==s)return s;var u=mb(n[r[a]],i[o[a]]);if(0!==u)return u}return I_(r.length,o.length)}(t.mapValue,e.mapValue);default:throw k_()}}function gb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return I_(t,e);var n=ab(t),r=ab(e),i=I_(n.seconds,r.seconds);return 0!==i?i:I_(n.nanos,r.nanos)}function _b(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ab(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ub(e.bytesValue).toBase64():"referenceValue"in e?tb.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):k_();var n}(t)}function bb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function wb(t){return!!t&&"integerValue"in t}function Cb(t){return!!t&&"arrayValue"in t}function kb(t){return!!t&&"nullValue"in t}function Eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sb(t){return!!t&&"mapValue"in t}var Ob=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Sb(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return vb(this.proto,t.proto)},t}(),Tb=function(){function t(t){void 0===t&&(t=Ob.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===pb(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt($_.at(),this.Rt);return null!=t?new Ob(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Sb(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Ib(t){var e=[];return nb(t.fields||{},(function(t,n){var r=new $_([t]);if(Sb(n)){var i=Ib(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new ib(e)}var xb=function(t,e){this.key=t,this.version=e},Db=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object($h.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xb),Ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object($h.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xb),Nb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xb),Pb=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function Rb(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Pb(t,e,n,r,i,o,a)}function jb(t){var e=S_(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+_b(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),hb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kb(e.startAt)),e.endAt&&(n+="|ub:",n+=Kb(e.endAt)),e.St=n}return e.St}function Lb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Xb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vb(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function Fb(t){return tb.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Mb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object($h.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Vb(t,n,r):"array-contains"===n?new Bb(t,r):"in"===n?new zb(t,r):"not-in"===n?new Wb(t,r):"array-contains-any"===n?new Gb(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Ub(t,n):new qb(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(mb(e,this.value)):null!==e&&pb(this.value)===pb(e)&&this.Ct(mb(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return k_()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=tb.dt(r.referenceValue),i}return Object($h.c)(e,t),e.prototype.matches=function(t){var e=tb.J(t.key,this.key);return this.Ct(e)},e}(Mb),Ub=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hb(0,n),r}return Object($h.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mb),qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hb(0,n),r}return Object($h.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mb);function Hb(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return tb.dt(t.referenceValue)}))}var Bb=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object($h.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Cb(e)&&yb(e.arrayValue,this.value)},e}(Mb),zb=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object($h.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&yb(this.value.arrayValue,e)},e}(Mb),Wb=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object($h.c)(e,t),e.prototype.matches=function(t){if(yb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!yb(this.value.arrayValue,e)},e}(Mb),Gb=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object($h.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Cb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return yb(e.value.arrayValue,t)}))},e}(Mb),Qb=function(t,e){this.position=t,this.before=e};function Kb(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _b(t)})).join(",")}var Yb=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Xb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jb(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?tb.J(tb.dt(a.referenceValue),n.key):mb(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vb(t.position[n],e.position[n]))return!1;return!0}var $b=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ot=null,this.Ft=null};function tw(t,e,n,r,i,o,a,s){return new $b(t,e,n,r,i,o,a,s)}function ew(t){return new $b(t)}function nw(t){return!hb(t.limit)&&"F"===t.limitType}function rw(t){return!hb(t.limit)&&"L"===t.limitType}function iw(t){return t.Nt.length>0?t.Nt[0].field:null}function ow(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function aw(t){return null!==t.collectionGroup}function sw(t){var e=S_(t);if(null===e.Ot){e.Ot=[];var n=ow(e),r=iw(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Yb(n)),e.Ot.push(new Yb($_.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ot.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Yb($_.lt(),u))}}}return e.Ot}function uw(t){var e=S_(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Rb(e.path,e.collectionGroup,sw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sw(e);r<i.length;r++){var o=i[r];n.push(new Yb(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Qb(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Qb(e.startAt.position,!e.startAt.before):null;e.Ft=Rb(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.Ft}function lw(t,e,n){return new $b(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cw(t,e){return Lb(uw(t),uw(e))&&t.limitType===e.limitType}function hw(t){return jb(uw(t))+"|lt:"+t.limitType}function fw(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+_b(e.value);var e})).join(", ")+"]"),hb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Kb(t.startAt)),t.endAt&&(e+=", endAt: "+Kb(t.endAt)),"Target("+e+")"}(uw(t))+"; limitType="+t.limitType+")"}function dw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):tb.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jb(t.startAt,sw(t),e)||t.endAt&&Jb(t.endAt,sw(t),e))}(t,e)}function pw(t){return function(e,n){for(var r=!1,i=0,o=sw(t);i<o.length;i++){var a=o[i],s=vw(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function vw(t,e,n){var r=t.field.ht()?tb.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mb(r,i):k_()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k_()}}var yw=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Y_.min()),void 0===o&&(o=Y_.min()),void 0===a&&(a=A_.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function mw(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fb(e)?"-0":e}}function gw(t){return{integerValue:""+t}}function _w(t,e){return db(e)?gw(e):mw(t,e)}var bw=function(){this.Ut=void 0};function ww(t,e,n){return t instanceof Ew?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Sw?Ow(t,e):t instanceof Tw?Iw(t,e):function(t,e){var n=kw(t,e),r=Dw(n)+Dw(t.Qt);return wb(n)&&wb(t.Qt)?gw(r):mw(t.Kt,r)}(t,e)}function Cw(t,e,n){return t instanceof Sw?Ow(t,e):t instanceof Tw?Iw(t,e):n}function kw(t,e){return t instanceof xw?wb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ew=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e}(bw),Sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($h.c)(e,t),e}(bw);function Ow(t,e){for(var n=Aw(e),r=function(t){n.some((function(e){return vb(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Tw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object($h.c)(e,t),e}(bw);function Iw(t,e){for(var n=Aw(e),r=function(t){n=n.filter((function(e){return!vb(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object($h.c)(e,t),e}(bw);function Dw(t){return sb(t.integerValue||t.doubleValue)}function Aw(t){return Cb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Nw=function(t,e){this.field=t,this.transform=e},Pw=function(t,e){this.version=t,this.transformResults=e},Rw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function jw(t,e){return void 0!==t.updateTime?e instanceof Db&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Db}var Lw=function(){};function Fw(t,e,n){return t instanceof Hw?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ww(t.fieldTransforms,e,n.transformResults);r=Qw(t.fieldTransforms,r,i)}return new Db(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Bw?function(t,e,n){if(!jw(t.Gt,e))return new Nb(t.key,n.version);var r=zw(t,e,n.transformResults?Ww(t.fieldTransforms,e,n.transformResults):[]);return new Db(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ab(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mw(t,e,n,r){return t instanceof Hw?function(t,e,n,r){if(!jw(t.Gt,e))return e;var i=t.value,o=Gw(t.fieldTransforms,n,e);i=Qw(t.fieldTransforms,i,o);var a=qw(e);return new Db(t.key,a,i,{bt:!0})}(t,e,r):t instanceof Bw?function(t,e,n,r){if(!jw(t.Gt,e))return e;var i=qw(e),o=zw(t,e,Gw(t.fieldTransforms,n,e));return new Db(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return jw(t.Gt,e)?new Ab(t.key,Y_.min()):e}(t,e)}function Vw(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Db?e.field(o.field):void 0,s=kw(o.transform,a||null);null!=s&&(n=null==n?(new Tb).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function Uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&x_(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Sw&&e instanceof Sw||t instanceof Tw&&e instanceof Tw?x_(t.elements,e.elements,vb):t instanceof xw&&e instanceof xw?vb(t.Qt,e.Qt):t instanceof Ew&&e instanceof Ew}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function qw(t){return t instanceof Db?t.version:Y_.min()}var Hw=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object($h.c)(e,t),e}(Lw),Bw=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return Object($h.c)(e,t),e}(Lw);function zw(t,e,n){var r;return r=function(t,e){var n=new Tb(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Db?e.data():Ob.empty()),Qw(t.fieldTransforms,r,n)}function Ww(t,e,n){var r=[];E_(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Db&&(s=e.field(o.field)),r.push(Cw(a,s,n[i]))}return r}function Gw(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,l=null;n instanceof Db&&(l=n.field(s.field)),i.push(ww(u,l,e))}return i}function Qw(t,e,n){for(var r=new Tb(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Kw,Yw,Xw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object($h.c)(e,t),e}(Lw),Jw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object($h.c)(e,t),e}(Lw),Zw=function(t){this.count=t};function $w(t){switch(t){case N_.OK:return k_();case N_.CANCELLED:case N_.UNKNOWN:case N_.DEADLINE_EXCEEDED:case N_.RESOURCE_EXHAUSTED:case N_.INTERNAL:case N_.UNAVAILABLE:case N_.UNAUTHENTICATED:return!1;case N_.INVALID_ARGUMENT:case N_.NOT_FOUND:case N_.ALREADY_EXISTS:case N_.PERMISSION_DENIED:case N_.FAILED_PRECONDITION:case N_.ABORTED:case N_.OUT_OF_RANGE:case N_.UNIMPLEMENTED:case N_.DATA_LOSS:return!0;default:return k_()}}function tC(t){if(void 0===t)return b_("GRPC error has no .code"),N_.UNKNOWN;switch(t){case Kw.OK:return N_.OK;case Kw.CANCELLED:return N_.CANCELLED;case Kw.UNKNOWN:return N_.UNKNOWN;case Kw.DEADLINE_EXCEEDED:return N_.DEADLINE_EXCEEDED;case Kw.RESOURCE_EXHAUSTED:return N_.RESOURCE_EXHAUSTED;case Kw.INTERNAL:return N_.INTERNAL;case Kw.UNAVAILABLE:return N_.UNAVAILABLE;case Kw.UNAUTHENTICATED:return N_.UNAUTHENTICATED;case Kw.INVALID_ARGUMENT:return N_.INVALID_ARGUMENT;case Kw.NOT_FOUND:return N_.NOT_FOUND;case Kw.ALREADY_EXISTS:return N_.ALREADY_EXISTS;case Kw.PERMISSION_DENIED:return N_.PERMISSION_DENIED;case Kw.FAILED_PRECONDITION:return N_.FAILED_PRECONDITION;case Kw.ABORTED:return N_.ABORTED;case Kw.OUT_OF_RANGE:return N_.OUT_OF_RANGE;case Kw.UNIMPLEMENTED:return N_.UNIMPLEMENTED;case Kw.DATA_LOSS:return N_.DATA_LOSS;default:return k_()}}(Yw=Kw||(Kw={}))[Yw.OK=0]="OK",Yw[Yw.CANCELLED=1]="CANCELLED",Yw[Yw.UNKNOWN=2]="UNKNOWN",Yw[Yw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yw[Yw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yw[Yw.NOT_FOUND=5]="NOT_FOUND",Yw[Yw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yw[Yw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yw[Yw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yw[Yw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yw[Yw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yw[Yw.ABORTED=10]="ABORTED",Yw[Yw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yw[Yw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yw[Yw.INTERNAL=13]="INTERNAL",Yw[Yw.UNAVAILABLE=14]="UNAVAILABLE",Yw[Yw.DATA_LOSS=15]="DATA_LOSS";var eC=function(){function t(t,e){this.J=t,this.root=e||rC.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,rC.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,rC.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new nC(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new nC(this.root,t,this.J,!1)},t.prototype.se=function(){return new nC(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new nC(this.root,t,this.J,!0)},t}(),nC=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),rC=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw k_();if(this.right._e())throw k_();var t=this.left.me();if(t!==this.right.me())throw k_();return t+(this._e()?0:1)},t}();rC.EMPTY=null,rC.RED=!0,rC.Jt=!1,rC.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw k_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw k_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw k_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw k_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw k_()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new rC(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var iC=function(){function t(t){this.J=t,this.data=new eC(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new oC(this.data.ee())},t.prototype.ne=function(t){return new oC(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),oC=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),aC=new eC(tb.J);function sC(){return aC}function uC(){return sC()}var lC=new eC(tb.J);function cC(){return lC}var hC=new eC(tb.J);function fC(){return hC}var dC=new iC(tb.J);function pC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=dC,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vC=new iC(I_);function yC(){return vC}var mC=function(){function t(t){this.J=t?function(e,n){return t(e,n)||tb.J(e.key,n.key)}:function(t,e){return tb.J(t.key,e.key)},this.Ve=cC(),this.pe=new eC(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),gC=function(){function t(){this.ve=new eC(tb.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):k_():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),_C=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,mC.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&cw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bC=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,wC.Be(e,n)),new t(Y_.min(),r,yC(),sC(),pC())},t}(),wC=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(A_.h,n,pC(),pC(),pC())},t}(),CC=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},kC=function(t,e){this.targetId=t,this.Ge=e},EC=function(t,e,n,r){void 0===n&&(n=A_.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},SC=function(){function t(){this.ze=0,this.He=IC(),this.Je=A_.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=pC(),e=pC(),n=pC();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:k_()}})),new wC(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=IC()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),OC=function(){function t(t){this.hn=t,this.ln=new Map,this._n=sC(),this.fn=TC(),this.dn=new iC(I_)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Db?this.En(r,t.We):t.We instanceof Ab&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:k_()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Fb(i))if(0===n){var o=new tb(i.path);this.Tn(e,o,new Ab(o,Y_.min()))}else E_(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Fb(o.target)){var a=new tb(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new Ab(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=pC();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new bC(t,n,this.dn,this._n,r);return this._n=sC(),this.fn=TC(),this.dn=new iC(I_),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new SC,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new iC(I_),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||__("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new SC),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function TC(){return new eC(tb.J)}function IC(){return new eC(tb.J)}var xC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC=function(t,e){this.T=t,this.qt=e};function NC(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function PC(t,e){return t.qt?e.toBase64():e.toUint8Array()}function RC(t,e){return NC(t,e.G())}function jC(t){return E_(!!t),Y_.j(function(t){var e=ab(t);return new K_(e.seconds,e.nanos)}(t))}function LC(t,e){return function(t){return new J_(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function FC(t){var e=J_.ct(t);return E_(ak(e)),e}function MC(t,e){return LC(t.T,e.path)}function VC(t,e){var n=FC(e);if(n.get(1)!==t.T.projectId)throw new P_(N_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new P_(N_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new tb(BC(n))}function UC(t,e){return LC(t.T,e)}function qC(t){var e=FC(t);return 4===e.length?J_.at():BC(e)}function HC(t){return new J_(["projects",t.T.projectId,"databases",t.T.database]).ot()}function BC(t){return E_(t.length>4&&"documents"===t.get(4)),t.X(5)}function zC(t,e,n){return{name:MC(t,e),fields:n.proto.mapValue.fields}}function WC(t,e,n){var r=VC(t,e.name),i=jC(e.updateTime),o=new Ob({mapValue:{fields:e.fields}});return new Db(r,i,o,{hasCommittedMutations:!!n})}function GC(t,e){var n;if(e instanceof Hw)n={update:zC(t,e.key,e.value)};else if(e instanceof Xw)n={delete:MC(t,e.key)};else if(e instanceof Bw)n={update:zC(t,e.key,e.data),updateMask:ok(e.zt)};else{if(!(e instanceof Jw))return k_();n={verify:MC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ew)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sw)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Tw)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof xw)return{fieldPath:e.field.ot(),increment:n.Qt};throw k_()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:RC(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:k_()}(t,e.Gt)),n}function QC(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rw.updateTime(jC(t.updateTime)):void 0!==t.exists?Rw.exists(t.exists):Rw.jt()}(e.currentDocument):Rw.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(E_("REQUEST_TIME"===e.setToServerValue),n=new Ew):"appendMissingElements"in e?n=new Sw(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Tw(e.removeAllFromArray.values||[]):"increment"in e?n=new xw(t,e.increment):k_();var r=$_._t(e.fieldPath);return new Nw(r,n)}(t,e)})):[];if(e.update){var i=VC(t,e.update.name),o=new Ob({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new ib((t.fieldPaths||[]).map((function(t){return $_._t(t)})))}(e.updateMask);return new Bw(i,o,a,n,r)}return new Hw(i,o,n,r)}if(e.delete){var s=VC(t,e.delete);return new Xw(s,n)}if(e.verify){var u=VC(t,e.verify);return new Jw(u,n)}return k_()}function KC(t,e){return{documents:[UC(t,e.path)]}}function YC(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=UC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=UC(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Eb(t.value))return{unaryFilter:{field:ek(t.field),op:"IS_NAN"}};if(kb(t.value))return{unaryFilter:{field:ek(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Eb(t.value))return{unaryFilter:{field:ek(t.field),op:"IS_NOT_NAN"}};if(kb(t.value))return{unaryFilter:{field:ek(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ek(t.field),op:tk(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ek(t.field),direction:$C(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||hb(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=JC(e.startAt)),e.endAt&&(n.structuredQuery.endAt=JC(e.endAt)),n}function XC(t){var e=qC(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){E_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[ik(e)]:void 0!==e.fieldFilter?[rk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):k_():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Yb(nk(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return hb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=ZC(n.startAt));var c=null;return n.endAt&&(c=ZC(n.endAt)),tw(e,i,s,a,u,"F",l,c)}function JC(t){return{before:t.before,values:t.position}}function ZC(t){return new Qb(t.values||[],!!t.before)}function $C(t){return xC[t]}function tk(t){return DC[t]}function ek(t){return{fieldPath:t.ot()}}function nk(t){return $_._t(t.fieldPath)}function rk(t){return Mb.create(nk(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return k_()}}(t.fieldFilter.op),t.fieldFilter.value)}function ik(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nk(t.unaryFilter.field);return Mb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nk(t.unaryFilter.field);return Mb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nk(t.unaryFilter.field);return Mb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nk(t.unaryFilter.field);return Mb.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return k_()}}function ok(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function ak(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var sk=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},uk=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&k_(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),lk=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new sk,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new fk(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=mk(e.target.error);n.qn.reject(new fk(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new fk(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(__("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new pk(e)},t}(),ck=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(mv.m)())&&b_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return __("SimpleDb","Removing database:",t),vk(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(mv.m)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n=this;return Object($h.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(__("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new fk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new P_(N_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new fk(t,n))},i.onupgradeneeded=function(t){__("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){__("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object($h.d)(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,l,c;return Object($h.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=h.sent(),e=lk.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),uk.reject(t)})).Mn(),u={},a.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return __("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",c="FirebaseError"!==l.name&&o<3),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hk=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return vk(this.ts.delete())},t}(),fk=function(t){function e(e,n){var r=this;return(r=t.call(this,N_.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object($h.c)(e,t),e}(P_);function dk(t){return"IndexedDbTransactionError"===t.name}var pk=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(__("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(__("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vk(n)},t.prototype.add=function(t){return __("SimpleDb","ADD",this.store.name,t,t),vk(this.store.add(t))},t.prototype.get=function(t){var e=this;return vk(this.store.get(t)).next((function(n){return void 0===n&&(n=null),__("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return __("SimpleDb","DELETE",this.store.name,t),vk(this.store.delete(t))},t.prototype.count=function(){return __("SimpleDb","COUNT",this.store.name),vk(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){__("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new uk((function(n,r){e.onerror=function(t){var e=mk(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new uk((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new hk(i),a=e(i.primaryKey,i.value,o);if(a instanceof uk){var s=a.catch((function(t){return o.done(),uk.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return uk.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vk(t){return new uk((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mk(t.target.error);n(e)}}))}var yk=!1;function mk(t){var e=ck.Kn(Object(mv.m)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new P_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yk||(yk=!0,setTimeout((function(){throw r}),0)),r}}return t}var gk=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new sk,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new P_(N_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function _k(t,e){if(b_("AsyncQueue",e+": "+t),dk(t))return new P_(N_.UNAVAILABLE,e+": "+t);throw t}var bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wk=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Ck(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ek(e)),e=kk(t.get(n),e);return Ek(e)}function kk(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ek(t){return t+"\x01\x01"}function Sk(t){var e=t.length;if(E_(e>=2),2===e)return E_("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),J_.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&k_(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:k_()}o=a+2}return new J_(r)}var Ok=function(t,e){this.seconds=t,this.nanoseconds=e},Tk=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tk.store="owner",Tk.key="owner";var Ik=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ik.store="mutationQueues",Ik.keyPath="userId";var xk=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};xk.store="mutations",xk.keyPath="batchId",xk.userMutationsIndex="userMutationsIndex",xk.userMutationsKeyPath=["userId","batchId"];var Dk=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ck(e)]},t.key=function(t,e,n){return[t,Ck(e),n]},t}();Dk.store="documentMutations",Dk.PLACEHOLDER=new Dk;var Ak=function(t,e){this.path=t,this.readTime=e},Nk=function(t,e){this.path=t,this.version=e},Pk=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Pk.store="remoteDocuments",Pk.readTimeIndex="readTimeIndex",Pk.readTimeIndexPath="readTime",Pk.collectionReadTimeIndex="collectionReadTimeIndex",Pk.collectionReadTimeIndexPath=["parentPath","readTime"];var Rk=function(t){this.byteSize=t};Rk.store="remoteDocumentGlobal",Rk.key="remoteDocumentGlobalKey";var jk=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};jk.store="targets",jk.keyPath="targetId",jk.queryTargetsIndexName="queryTargetsIndex",jk.queryTargetsKeyPath=["canonicalId","targetId"];var Lk=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lk.store="targetDocuments",Lk.keyPath=["targetId","path"],Lk.documentTargetsIndex="documentTargetsIndex",Lk.documentTargetsKeyPath=["path","targetId"];var Fk=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fk.key="targetGlobalKey",Fk.store="targetGlobal";var Mk=function(t,e){this.collectionId=t,this.parent=e};Mk.store="collectionParents",Mk.keyPath=["collectionId","parent"];var Vk=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Vk.store="clientMetadata",Vk.keyPath="clientId";var Uk=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Uk.store="bundles",Uk.keyPath="bundleId";var qk=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qk.store="namedQueries",qk.keyPath="name";var Hk=Object($h.g)(Object($h.g)(Object($h.g)(Object($h.g)([Ik.store,xk.store,Dk.store,Pk.store,jk.store,Tk.store,Fk.store,Lk.store],[Vk.store]),[Rk.store]),[Mk.store]),[Uk.store,qk.store]),Bk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object($h.c)(e,t),e}(wk);function zk(t,e){var n=S_(t);return ck.Hn(n.bs,e)}var Wk=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Fw(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Mw(a,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Mw(a,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),pC())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x_(this.mutations,t.mutations,(function(t,e){return Uw(t,e)}))&&x_(this.baseMutations,t.baseMutations,(function(t,e){return Uw(t,e)}))},t}(),Gk=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){E_(e.mutations.length===r.length);for(var i=fC(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Qk=function(t){this.ks=t};function Kk(t,e){if(e.document)return WC(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=tb.Tt(e.noDocument.path),r=$k(e.noDocument.readTime);return new Ab(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=tb.Tt(e.unknownDocument.path);return r=$k(e.unknownDocument.version),new Nb(i,r)}return k_()}function Yk(t,e,n){var r=Xk(n),i=e.key.path.Z().rt();if(e instanceof Db){var o=function(t,e){return{name:MC(t,e.key),fields:e.vt().mapValue.fields,updateTime:NC(t,e.version.G())}}(t.ks,e),a=e.hasCommittedMutations;return new Pk(null,null,o,a,r,i)}if(e instanceof Ab){var s=e.key.path.rt(),u=Zk(e.version);return a=e.hasCommittedMutations,new Pk(null,new Ak(s,u),null,a,r,i)}if(e instanceof Nb){var l=e.key.path.rt(),c=Zk(e.version);return new Pk(new Nk(l,c),null,null,!0,r,i)}return k_()}function Xk(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Jk(t){var e=new K_(t[0],t[1]);return Y_.j(e)}function Zk(t){var e=t.G();return new Ok(e.seconds,e.nanoseconds)}function $k(t){var e=new K_(t.seconds,t.nanoseconds);return Y_.j(e)}function tE(t,e){for(var n=(e.baseMutations||[]).map((function(e){return QC(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return QC(t.ks,e)})),a=K_.fromMillis(e.localWriteTimeMs);return new Wk(e.batchId,a,n,o)}function eE(t){var e,n,r=$k(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?$k(t.lastLimboFreeSnapshotVersion):Y_.min();return void 0!==t.query.documents?(E_(1===(n=t.query).documents.length),e=uw(ew(qC(n.documents[0])))):e=function(t){return uw(XC(t))}(t.query),new yw(e,t.targetId,0,t.lastListenSequenceNumber,r,i,A_.fromBase64String(t.resumeToken))}function nE(t,e){var n,r=Zk(e.Mt),i=Zk(e.lastLimboFreeSnapshotVersion);n=Fb(e.target)?KC(t.ks,e.target):YC(t.ks,e.target);var o=e.resumeToken.toBase64();return new jk(e.targetId,jb(e.target),r,o,e.sequenceNumber,i,n)}function rE(t){var e=XC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lw(e,e.limit,"L"):e}var iE=function(){function t(){}return t.prototype.Ms=function(t,e){return oE(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:$k(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return oE(t).put({bundleId:(n=e).id,createTime:Zk(jC(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return aE(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:rE(e.bundledQuery),readTime:$k(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return aE(t).put(function(t){return{name:t.name,readTime:Zk(jC(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function oE(t){return zk(t,Uk.store)}function aE(t){return zk(t,qk.store)}var sE=function(){function t(){this.qs=new uE}return t.prototype.Us=function(t,e){return this.qs.add(e),uk.resolve()},t.prototype.Qs=function(t,e){return uk.resolve(this.qs.getEntries(e))},t}(),uE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new iC(J_.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new iC(J_.J)).rt()},t}(),lE=function(){function t(){this.Ks=new uE}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:Ck(i)};return cE(t).put(o)}return uk.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[D_(e),""],!1,!0);return cE(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sk(o.parent))}return n}))},t}();function cE(t){return zk(t,Mk.store)}var hE={js:!1,Ws:0,Gs:0,zs:0},fE=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function dE(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){if(t.code!==N_.FAILED_PRECONDITION||t.message!==bk)throw t;return __("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}fE.Zs=10,fE.ti=1e3,fE.ei=new fE(41943040,fE.Zs,fE.ti),fE.ni=new fE(-1,0,0);var pE=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.ii(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){nb(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return rb(this.ri)},t}(),vE=function(){function t(){this.oi=new pE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Y_.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?uk.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function yE(t,e,n){var r=t.store(xk.store),i=t.store(Dk.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){E_(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=Dk.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return uk.$n(o).next((function(){return l}))}function mE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw k_();e=t.noDocument}return JSON.stringify(e).length}var gE=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return E_(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bE(t).ls({index:xk.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=wE(t),a=bE(t);return a.add({}).next((function(s){E_("number"==typeof s);for(var u=new Wk(s,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return GC(t.ks,e)})),i=n.mutations.map((function(e){return GC(t.ks,e)}));return new xk(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),c=[],h=new iC((function(t,e){return I_(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Dk.key(i.userId,p.key.path,s);h=h.add(p.key.path.Z()),c.push(a.put(l)),c.push(o.put(v,Dk.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=u.keys()})),uk.$n(c).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return bE(t).get(e).next((function(t){return t?(E_(t.userId===n.userId),tE(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?uk.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bE(t).ls({index:xk.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(E_(e.batchId>=r),o=tE(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bE(t).ls({index:xk.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bE(t).os(xk.userMutationsIndex,n).next((function(t){return t.map((function(t){return tE(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Dk.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return wE(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[2],l=Sk(r[1]);if(s===n.userId&&e.path.isEqual(l))return bE(t).get(u).next((function(t){if(!t)throw k_();E_(t.userId===n.userId),o.push(tE(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new iC(I_),i=[];return e.forEach((function(e){var o=Dk.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=wE(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[2],u=Sk(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),uk.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Dk.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new iC(I_);return wE(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[2],l=Sk(t[1]);a===n.userId&&r.st(l)?l.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Di(t,s)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(bE(t).get(e).next((function(t){if(null===t)throw k_();E_(t.userId===n.userId),r.push(tE(n.Kt,t))})))})),uk.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return yE(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),uk.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return uk.resolve();var r=IDBKeyRange.lowerBound(Dk.prefixForUser(e.userId)),i=[];return wE(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Sk(t[1]);i.push(o)}else r.done()})).next((function(){E_(0===i.length)}))}))},t.prototype.ki=function(t,e){return _E(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return CE(t).get(this.userId).next((function(t){return t||new Ik(e.userId,-1,"")}))},t}();function _E(t,e,n){var r=Dk.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wE(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function bE(t){return zk(t,xk.store)}function wE(t){return zk(t,Dk.store)}function CE(t){return zk(t,Ik.store)}var kE=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),EE=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new kE(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return Y_.j(new K_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return SE(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return E_(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return SE(t).ls((function(a,s){var u=eE(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return uk.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return SE(t).ls((function(t,n){var r=eE(n);e(r)}))},t.prototype.Ui=function(t){return OE(t).get(Fk.key).next((function(t){return E_(null!==t),t}))},t.prototype.Qi=function(t,e){return OE(t).put(Fk.key,e)},t.prototype.zi=function(t,e){return SE(t).put(nE(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=jb(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return SE(t).ls({range:r,index:jk.queryTargetsIndexName},(function(t,n,r){var o=eE(n);Lb(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=TE(t);return e.forEach((function(e){var a=Ck(e.path);i.push(o.put(new Lk(n,a))),i.push(r.Ii.sr(t,n,e))})),uk.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=TE(t);return uk.forEach(e,(function(e){var o=Ck(e.path);return uk.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=TE(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=TE(t),i=pC();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Sk(t[1]),o=new tb(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=Ck(e.path),r=IDBKeyRange.bound([n],[D_(n)],!1,!0),i=0;return TE(t).ls({index:Lk.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return SE(t).get(e).next((function(t){return t?eE(t):null}))},t}();function SE(t){return zk(t,jk.store)}function OE(t){return zk(t,Fk.store)}function TE(t){return zk(t,Lk.store)}function IE(t,e){var n=t[1],r=e[1],i=I_(t[0],e[0]);return 0===i?I_(n,r):i}var xE=function(){function t(t){this.ar=t,this.buffer=new iC(IE),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();IE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),DE=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;__("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object($h.b)(e,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return dk(e=n.sent())?(__("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),AE=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return uk.resolve(Q_.U);var r=new xE(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(__("LruGarbageCollector","Garbage collection skipped; disabled"),uk.resolve(hE)):this.br(t).next((function(r){return r<n.params.Hs?(__("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),hE):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>l.params.Ys?(__("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Ys+" from "+e),r=l.params.Ys):r=e,o=Date.now(),l.yr(t,r)})).next((function(r){return n=r,a=Date.now(),l.Zi(t,n,e)})).next((function(e){return i=e,s=Date.now(),l.Vr(t,n)})).next((function(t){return u=Date.now(),g_()<=yv.a.DEBUG&&__("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),uk.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),NE=function(){function t(t,e){this.db=t,this._r=function(t,e){return new AE(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return PE(t,n)},t.prototype.rr=function(t,e,n){return PE(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return PE(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return CE(t)._s((function(r){return _E(t,r,e).next((function(t){return t&&(n=!0),uk.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(a,s){if(s<=e){var u=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),TE(t).delete([0,Ck(a.path)])}))}));i.push(u)}})).next((function(){return uk.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return PE(t,e)},t.prototype.Cr=function(t,e){var n,r=TE(t),i=Q_.U;return r.ls({index:Lk.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Q_.U&&e(new tb(Sk(n)),i),i=a,n=o):i=Q_.U})).next((function(){i!==Q_.U&&e(new tb(Sk(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function PE(t,e){return TE(t).put(function(t,e){return new Lk(0,Ck(t.path),e)}(e,t.vs))}var RE=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return FE(t).put(ME(e),n)},t.prototype._i=function(t,e){var n=FE(t),r=ME(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return FE(t).get(ME(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return FE(t).get(ME(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:mE(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=uC();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=uC(),i=new eC(tb.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,mE(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return uk.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return FE(t).ls({range:r},(function(t,e,r){for(var a=tb.Tt(t);o&&tb.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=cC(),o=e.path.length+1,a={};if(n.isEqual(Y_.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),l=Xk(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=Pk.collectionReadTimeIndex}return FE(t).ls(a,(function(t,n,a){if(t.length===o){var s=Kk(r.Kt,n);e.path.st(s.key.path)?s instanceof Db&&dw(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new jE(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return LE(t).get(Rk.key).next((function(t){return E_(!!t),t}))},t.prototype.Lr=function(t,e){return LE(t).put(Rk.key,e)},t.prototype.$r=function(t){if(t){var e=Kk(this.Kt,t);return e instanceof Ab&&e.version.isEqual(Y_.min())?null:e}return null},t}(),jE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new pE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object($h.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new iC((function(t,e){return I_(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s=e.zr.get(o);if(a.li){var u=Yk(e.Gr.Kt,a.li,e.ai(o));i=i.add(o.path.Z());var l=mE(u);r+=l-s,n.push(e.Gr.ui(t,o,u))}else if(r-=s,e.Wr){var c=Yk(e.Gr.Kt,new Ab(o,Y_.min()),e.ai(o));n.push(e.Gr.ui(t,o,c))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),uk.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(vE);function LE(t){return zk(t,Rk.store)}function FE(t){return zk(t,Pk.store)}function ME(t){return t.path.rt()}var VE=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;E_(n<r&&n>=0&&r<=11);var o=new lk("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tk.store)}(t),function(t){t.createObjectStore(Ik.store,{keyPath:Ik.keyPath}),t.createObjectStore(xk.store,{keyPath:xk.keyPath,autoIncrement:!0}).createIndex(xk.userMutationsIndex,xk.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Dk.store)}(t),UE(t),function(t){t.createObjectStore(Pk.store)}(t));var a=uk.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lk.store),t.deleteObjectStore(jk.store),t.deleteObjectStore(Fk.store)}(t),UE(t)),a=a.next((function(){return function(t){var e=t.store(Fk.store),n=new Fk(0,0,Y_.min().G(),0);return e.put(Fk.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(xk.store).os().next((function(n){t.deleteObjectStore(xk.store),t.createObjectStore(xk.store,{keyPath:xk.keyPath,autoIncrement:!0}).createIndex(xk.userMutationsIndex,xk.userMutationsKeyPath,{unique:!0});var r=e.store(xk.store),i=n.map((function(t){return r.put(t)}));return uk.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Vk.store,{keyPath:Vk.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Rk.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pk.store);e.createIndex(Pk.readTimeIndex,Pk.readTimeIndexPath,{unique:!1}),e.createIndex(Pk.collectionReadTimeIndex,Pk.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Uk.store,{keyPath:Uk.keyPath})}(t),function(t){t.createObjectStore(qk.store,{keyPath:qk.keyPath})}(t)}))),a},t.prototype.Jr=function(t){var e=0;return t.store(Pk.store).ls((function(t,n){e+=mE(n)})).next((function(){var n=new Rk(e);return t.store(Rk.store).put(Rk.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Ik.store),r=t.store(xk.store);return n.os().next((function(n){return uk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(xk.userMutationsIndex,i).next((function(r){return uk.forEach(r,(function(r){E_(r.userId===n.userId);var i=tE(e.Kt,r);return yE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Lk.store),n=t.store(Pk.store);return t.store(Fk.store).get(Fk.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new J_(n),a=function(t){return[0,Ck(t)]}(o);r.push(e.get(a).next((function(n){return n?uk.resolve():function(n){return e.put(new Lk(0,Ck(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return uk.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(Mk.store,{keyPath:Mk.keyPath});var n=e.store(Mk.store),r=new uE,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Ck(i)})}};return e.store(Pk.store).ls({hs:!0},(function(t,e){var n=new J_(t);return i(n.Z())})).next((function(){return e.store(Dk.store).ls({hs:!0},(function(t,e){var n=Sk(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(jk.store);return n.ls((function(t,r){var i=eE(r),o=nE(e.Kt,i);return n.put(o)}))},t}();function UE(t){t.createObjectStore(Lk.store,{keyPath:Lk.keyPath}).createIndex(Lk.documentTargetsIndex,Lk.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jk.store,{keyPath:jk.keyPath}).createIndex(jk.queryTargetsIndexName,jk.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fk.store)}var qE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HE=function(){function t(e,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=a,this.document=s,this.no=l,this.so=c,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new P_(N_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new NE(this,i),this.lo=n+"main",this.Kt=new Qk(u),this._o=new ck(this.lo,11,new VE(this.Kt)),this.fo=new EE(this.Ii,this.Kt),this.Ti=new lE,this.wo=function(t,e){return new RE(t,e)}(this.Kt,this.Ti),this.Eo=new iE,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===c&&b_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new P_(N_.FAILED_PRECONDITION,qE);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new Q_(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object($h.b)(e,void 0,void 0,(function(){return Object($h.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object($h.b)(e,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object($h.b)(e,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return zE(e).put(new Vk(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(dk(e))return __("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return __("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return BE(t).get(Tk.key).next((function(t){return uk.resolve(e.Co(t))}))},t.prototype.xo=function(t){return zE(t).delete(this.clientId)},t.prototype.No=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object($h.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=zk(t,Vk.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return uk.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?uk.resolve(!0):BE(t).get(Tk.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new P_(N_.FAILED_PRECONDITION,qE);return!1}}return!(!e.networkEnabled||!e.inForeground)||zE(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&__("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object($h.b)(this,void 0,void 0,(function(){var t=this;return Object($h.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Tk.store,Vk.store],(function(e){var n=new Bk(e,Q_.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return zE(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return gE.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return __("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Hk,(function(o){return r=new Bk(o,i.io?i.io.next():Q_.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw b_("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new P_(N_.FAILED_PRECONDITION,bk);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return BE(t).get(Tk.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new P_(N_.FAILED_PRECONDITION,qE)}))},t.prototype.Do=function(t){var e=new Tk(this.clientId,this.allowTabSynchronization,Date.now());return BE(t).put(Tk.key,e)},t.jn=function(){return ck.jn()},t.prototype.So=function(t){var e=this,n=BE(t);return n.get(Tk.key).next((function(t){return e.Co(t)?(__("IndexedDbPersistence","Releasing primary lease."),n.delete(Tk.key)):uk.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(b_("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return __("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return b_("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){b_("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function BE(t){return zk(t,Tk.store)}function zE(t){return zk(t,Vk.store)}function WE(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var GE=function(t,e){this.progress=t,this.zo=e},QE=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=uC();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=sC();return i.forEach((function(t,e){e||(e=new Ab(t,Y_.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return tb.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):aw(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new tb(e)).next((function(t){var e=cC();return t instanceof Db&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=cC();return this.Ti.Qs(t,i).next((function(a){return uk.forEach(a,(function(a){var s=function(t,e){return new $b(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=Mw(u,r.get(l),0,o.Ss);r=c instanceof Db?r.Ht(l,c):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){dw(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=pC(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Bw&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Db&&(l=l.Ht(t,e))})),l}))},t}(),KE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=pC(),i=pC(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),YE=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Y_.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(nw(e)||rw(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):(g_()<=yv.a.DEBUG&&__("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),fw(e)),i.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new iC(pw(t));return e.forEach((function(e,r){r instanceof Db&&dw(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return g_()<=yv.a.DEBUG&&__("QueryEngine","Using full collection scan to execute query:",fw(e)),this.uc.jr(t,e,Y_.min())},t}(),XE=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new eC(I_),this.wc=new pE((function(t){return jb(t)}),Lb),this.Ec=Y_.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new QE(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function JE(t,e,n,r){return new XE(t,e,n,r)}function ZE(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object($h.d)(this,(function(a){switch(a.label){case 0:return n=S_(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new QE(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=pC(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)a=a.add(h[c].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function $E(t,e){var n=S_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=uk.resolve();return o.forEach((function(t){a=a.next((function(){return r.fi(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);E_(null!==a),(!o||o.version.u(a)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),a.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function tS(t){var e=S_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function eS(t,e){var n=S_(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var l=s.$t(u,r).Lt(t.vs);i=i.Ht(o,l),function(t,e,n){return E_(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,l,e)&&a.push(n.fo.Ji(t,l))}}}));var s=sC();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(nS(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(Y_.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));a.push(u)}return uk.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function nS(t,e,n,r,i){var o=pC();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=sC();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Ab&&a.version.isEqual(Y_.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):__("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function rS(t,e){var n=S_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function iS(t,e){var n=S_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?uk.resolve(r=i):n.fo.qi(t).next((function(i){return r=new yw(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function oS(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:r=S_(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!dk(a=s.sent()))throw a;return __("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function aS(t,e,n){var r=S_(t),i=Y_.min(),o=pC();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=S_(t),i=r.wc.get(n);return void 0!==i?uk.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,uw(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Y_.min(),n?o:pC())})).next((function(t){return{documents:t,Pc:o}}))}))}function sS(t,e){var n=S_(t),r=S_(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function uS(t){var e=S_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=S_(t),i=sC(),o=Xk(n),a=FE(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:Pk.readTimeIndex,range:s},(function(t,e){var n=Kk(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:Jk(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function lS(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){return[2,(e=S_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=FE(t),n=Y_.min();return e.ls({index:Pk.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Jk(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function cS(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f,d;return Object($h.d)(this,(function(p){switch(p.label){case 0:for(i=S_(t),o=pC(),a=sC(),s=fC(),u=0,l=n;u<l.length;u++)h=e.yc((c=l[u]).metadata.name),c.document&&(o=o.add(h)),a=a.Ht(h,e.gc(c)),s=s.Ht(h,e.Vc(c.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,iS(i,function(t){return uw(ew(J_.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return nS(t,f,a,Y_.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function hS(t,e,n){return void 0===n&&(n=pC()),Object($h.b)(this,void 0,void 0,(function(){var r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return[4,iS(t,uw(rE(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=S_(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=jC(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var a=r.$t(A_.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.fo.Ji(t,a).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var fS=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return uk.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:jC(n.createTime)}),uk.resolve()},t.prototype.$s=function(t,e){return uk.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:rE(t.bundledQuery),readTime:jC(t.readTime)}}(e)),uk.resolve()},t}(),dS=function(){function t(){this.Sc=new iC(pS.Dc),this.Cc=new iC(pS.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new pS(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new pS(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new tb(new J_([])),r=new pS(n,t),i=new pS(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new tb(new J_([])),n=new pS(e,t),r=new pS(e,t+1),i=pC();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new pS(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),pS=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return tb.J(t.key,e.key)||I_(t.$c,e.$c)},t.xc=function(t,e){return I_(t.$c,e.$c)||tb.J(t.key,e.key)},t}(),vS=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new iC(pS.Dc)}return t.prototype.Ri=function(t){return uk.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Wk(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new pS(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return uk.resolve(o)},t.prototype.yi=function(t,e){return uk.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return uk.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return uk.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return uk.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new pS(e,0),i=new pS(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),uk.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new iC(I_);return e.forEach((function(t){var e=new pS(t,0),i=new pS(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),uk.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;tb.Et(i)||(i=i.child(""));var o=new pS(new tb(i),0),a=new iC(I_);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),uk.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;E_(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return uk.forEach(e.mutations,(function(i){var o=new pS(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new pS(e,0),r=this.qc.Pe(n);return uk.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return uk.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),yS=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new eC(tb.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:a,readTime:n}),this.size+=a-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return uk.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=uC();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),uk.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=cC(),i=new tb(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.value,u=s.li,l=s.readTime;if(!e.path.st(a.key.path))break;l.u(n)<=0||u instanceof Db&&dw(e,u)&&(r=r.Ht(u.key,u))}return uk.resolve(r)},t.prototype.Gc=function(t,e){return uk.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new mS(this)},t.prototype.Mr=function(t){return uk.resolve(this.size)},t}(),mS=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object($h.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),uk.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(vE),gS=function(){function t(t){this.persistence=t,this.zc=new pE((function(t){return jb(t)}),Lb),this.lastRemoteSnapshotVersion=Y_.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new dS,this.targetCount=0,this.Yc=kE.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),uk.resolve()},t.prototype.Ki=function(t){return uk.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return uk.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),uk.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),uk.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new kE(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,uk.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),uk.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,uk.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),uk.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return uk.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return uk.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),uk.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),uk.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),uk.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return uk.resolve(n)},t.prototype.ki=function(t,e){return uk.resolve(this.Jc.ki(e))},t}(),_S=function(){function t(t,e){var n=this;this.Xc={},this.io=new Q_(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new gS(this),this.Ti=new sE,this.wo=function(t,e){return new yS(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new Qk(e),this.Eo=new fS(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new vS(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;__("MemoryPersistence","Starting transaction:",t);var i=new bS(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return uk.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),bS=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object($h.c)(e,t),e}(wk),wS=function(){function t(t){this.persistence=t,this.sa=new dS,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw k_()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),uk.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),uk.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),uk.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return uk.forEach(this.oa,(function(r){var i=tb.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return uk.Bn([function(){return uk.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function CS(t,e){return"firestore_clients_"+t+"_"+e}function kS(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function ES(t,e){return"firestore_targets_"+t+"_"+e}var SS=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new P_(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(b_("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),OS=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new P_(r.error.code,r.error.message)),i?new t(e,r.state,o):(b_("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),TS=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yC(),a=0;i&&a<r.activeTargetIds.length;++a)i=db(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(b_("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),IS=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(b_("SharedClientState","Failed to parse online state: "+e),null)},t}(),xS=function(){function t(){this.activeTargetIds=yC()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),DS=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new eC(I_),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=CS(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new xS),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,l,c=this;return Object($h.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(CS(this.persistenceKey,r)))&&(o=TS.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(a=this.storage.getItem(this.ga))&&(s=this.ba(a))&&this.va(s),u=0,l=this.Ia;u<l.length;u++)this.Ea(l[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return c.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(ES(this.persistenceKey,t));if(n){var r=OS.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(ES(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return __("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){__("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){__("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(__("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void b_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object($h.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object($h.d)(this,(function(s){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(a=function(t){var e=Q_.U;if(null!=t)try{var n=JSON.parse(t);E_("number"==typeof n),e=n}catch(t){b_("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Q_.U&&this.L(a);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new SS(this.currentUser,t,e,n),i=kS(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=kS(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=ES(this.persistenceKey,t),i=new OS(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return TS.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return SS.aa(new q_(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return OS.aa(r,e)},t.prototype.ba=function(t){return IS.aa(t)},t.prototype.Xa=function(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(__("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=yC();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),AS=function(){function t(){this.ru=new xS,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new xS,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),NS=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),PS=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){__("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){__("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jS=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),LS=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object($h.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new y_;a.listenOnce(d_.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case f_.NO_ERROR:var e=a.getResponseJson();__("Connection","XHR received:",JSON.stringify(e)),i(e);break;case f_.TIMEOUT:__("Connection",'RPC "'+t+'" timed out'),o(new P_(N_.DEADLINE_EXCEEDED,"Request time out"));break;case f_.HTTP_ERROR:var n=a.getStatus();if(__("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(N_).indexOf(e)>=0?e:N_.UNKNOWN}(r.status);o(new P_(s,r.message))}else o(new P_(N_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new P_(N_.UNAVAILABLE,"Connection failed."));break;default:k_()}}finally{__("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new s_,i=cm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(mv.t)()||Object(mv.w)()||Object(mv.q)()||Object(mv.s)()||Object(mv.x)()||Object(mv.p)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");__("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new jS({du:function(t){l?__("Connection","Not sending because WebChannel is closed:",t):(u||(__("Connection","Opening WebChannel transport."),s.open(),u=!0),__("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,v_.EventType.OPEN,(function(){l||__("Connection","WebChannel transport opened.")})),h(s,v_.EventType.CLOSE,(function(){l||(l=!0,__("Connection","WebChannel transport closed"),c.Pu())})),h(s,v_.EventType.ERROR,(function(t){l||(l=!0,w_("Connection","WebChannel transport errored:",t),c.Pu(new P_(N_.UNAVAILABLE,"The operation could not be completed")))})),h(s,v_.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];E_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){__("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Kw[t];if(void 0!==e)return tC(e)}(i),a=r.message;void 0===o&&(o=N_.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,c.Pu(new P_(o,a)),s.close()}else __("Connection","WebChannel received:",n),c.yu(n)}})),h(i,p_.STAT_EVENT,(function(t){10===t.stat?__("Connection","Detected buffering proxy"):11===t.stat&&__("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Ru()}),0),c},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);__("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return __("RestConnection","Received: ",t),t}),(function(e){throw w_("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+RS[t]},t}());function FS(){return"undefined"!=typeof window?window:null}function MS(){return"undefined"!=typeof document?document:null}function VS(t){return new AC(t,!0)}var US=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&__("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),qS=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new US(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===N_.RESOURCE_EXHAUSTED?(b_(e.toString()),b_("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===N_.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new P_(N_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object($h.b)(t,void 0,void 0,(function(){return Object($h.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return __("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(__("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),HS=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return Object($h.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:k_()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(E_(void 0===e||"string"==typeof e),A_.fromBase64String(e||"")):(E_(void 0===e||e instanceof Uint8Array),A_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?N_.UNKNOWN:tC(t.code);return new P_(e,t.message||"")}(s);n=new EC(r,i,o,a||null)}else if("documentChange"in e){i=VC(t,(r=e.documentChange).document.name),o=jC(r.document.updateTime);var s=new Ob({mapValue:{fields:r.document.fields}}),u=(a=new Db(i,o,s,{}),r.targetIds||[]);n=new CC(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=VC(t,(r=e.documentDelete).document),o=r.readTime?jC(r.readTime):Y_.min(),s=new Ab(i,o),n=new CC([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=VC(t,(r=e.documentRemove).document),n=new CC([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return k_();var l=e.filter;i=new Zw(r=l.count||0),n=new kC(o=l.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Y_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Y_.min():e.readTime?jC(e.readTime):Y_.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=HC(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Fb(r)?{documents:KC(t,r)}:{query:YC(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=PC(t,e.resumeToken):e.Mt.u(Y_.min())>0&&(n.readTime=NC(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return k_()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=HC(this.Kt),e.removeTarget=t,this.eh(e)},e}(qS),BS=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(E_(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(E_(void 0!==e),t.map((function(t){return function(t,e){var n=jC(t.updateTime?t.updateTime:e);n.isEqual(Y_.min())&&(n=jC(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Pw(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=jC(t.commitTime);return this.listener.wh(n,e)}return E_(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=HC(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return GC(e.Kt,t)}))};this.eh(n)},e}(qS),zS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object($h.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new P_(N_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===N_.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===N_.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),WS=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(b_(e),this.Ph=!1):__("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),GS=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object($h.b)(o,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return eO(this)?(__("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return(e=S_(t)).Oh.add(4),[4,KS(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,QS(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new WS(n,r)};function QS(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:if(!eO(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function KS(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function YS(t,e){var n=S_(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),tO(n)?$S(n):yO(n).Ju()&&JS(n,e))}function XS(t,e){var n=S_(t),r=yO(n);n.Nh.delete(e),r.Ju()&&ZS(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():eO(n)&&n.Mh.set("Unknown"))}function JS(t,e){t.Lh.cn(e.targetId),yO(t).hh(e)}function ZS(t,e){t.Lh.cn(e),yO(t).lh(e)}function $S(t){t.Lh=new OC({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),yO(t).start(),t.Mh.yh()}function tO(t){return eO(t)&&!yO(t).Hu()&&t.Nh.size>0}function eO(t){return 0===S_(t).Oh.size}function nO(t){t.Lh=void 0}function rO(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){return t.Nh.forEach((function(e,n){JS(t,e)})),[2]}))}))}function iO(t,e){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(n){return nO(t),tO(t)?(t.Mh.ph(e),$S(t)):t.Mh.set("Unknown"),[2]}))}))}function oO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o;return Object($h.d)(this,(function(a){switch(a.label){case 0:if(t.Mh.set("Online"),!(e instanceof EC&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object($h.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),__("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,aO(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof CC?t.Lh.wn(e):e instanceof kC?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Y_.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,tS(t.Sh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(A_.h,n.Mt)),ZS(t,e);var r=new yw(n.target,e,1,n.sequenceNumber);JS(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return __("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,aO(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function aO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r=this;return Object($h.d)(this,(function(i){switch(i.label){case 0:if(!dk(e))throw e;return t.Oh.add(1),[4,KS(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return tS(t.Sh)}),t.fs.bo((function(){return Object($h.b)(r,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return __("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,QS(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sO(t,e){return e().catch((function(n){return aO(t,n,e)}))}function uO(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object($h.d)(this,(function(a){switch(a.label){case 0:e=S_(t),n=mO(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return eO(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,rS(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=mO(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,aO(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return lO(e)&&cO(e),[2]}}))}))}function lO(t){return eO(t)&&!mO(t).Hu()&&t.xh.length>0}function cO(t){mO(t).start()}function hO(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){return mO(t).Th(),[2]}))}))}function fO(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n,r;return Object($h.d)(this,(function(i){for(e=mO(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function dO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Gk.from(r,e,n),[4,sO(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,uO(t)];case 2:return o.sent(),[2]}}))}))}function pO(t,e){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(n){switch(n.label){case 0:return e&&mO(t).fh?[4,function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:return $w(r=e.code)&&r!==N_.ABORTED?(n=t.xh.shift(),mO(t).Xu(),[4,sO(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,uO(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lO(t)&&cO(t),[2]}}))}))}function vO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n;return Object($h.d)(this,(function(r){switch(r.label){case 0:return n=S_(t),e?(n.Oh.delete(2),[4,QS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,KS(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function yO(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=S_(t);return r.mh(),new HS(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:rO.bind(null,t),Iu:iO.bind(null,t),uh:oO.bind(null,t)}),t.Fh.push((function(n){return Object($h.b)(e,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),tO(t)?$S(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),nO(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function mO(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=S_(t);return r.mh(),new BS(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:hO.bind(null,t),Iu:pO.bind(null,t),Eh:fO.bind(null,t),wh:dO.bind(null,t)}),t.Fh.push((function(n){return Object($h.b)(e,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,uO(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(__("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var gO=function(){this.jh=void 0,this.listeners=[]},_O=function(){this.queries=new pE((function(t){return hw(t)}),cw),this.onlineState="Unknown",this.Wh=new Set};function bO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object($h.d)(this,(function(l){switch(l.label){case 0:if(n=S_(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new gO),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.jh=l.sent(),[3,4];case 3:return s=l.sent(),u=_k(s,"Initialization of query '"+fw(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&EO(n),[2]}}))}))}function wO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object($h.d)(this,(function(s){return n=S_(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function CO(t,e){for(var n=S_(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,l=s.listeners;u<l.length;u++)l[u].Hh(a)&&(r=!0);s.jh=a}}r&&EO(n)}function kO(t,e,n){var r=S_(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function EO(t){t.Wh.forEach((function(t){t.next()}))}var SO=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new _C(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=_C.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),OO=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),TO=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return VC(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?WC(this.Kt,t.document,!1):new Ab(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return jC(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new TO(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(e.get(l)||pC()).add(a);e.set(l,c)}}return e},t.prototype.complete=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return[4,cS(this.Sh,new TO(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,hS(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new GE(Object.assign({},this.progress),t))]}}))}))}}();var IO=function(t){this.key=t},xO=function(t){this.key=t},DO=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=pC(),this.Ce=pC(),this.ll=pw(t),this._l=new mC(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new gC,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=nw(this.query)&&i.size===this.query.limit?i.last():null,l=rw(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var c=i.get(t),h=e instanceof Db?e:null;h&&(h=dw(n.query,h)?h:null);var f=!!c&&n.Ce.has(c.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||l&&n.ll(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),nw(this.query)||rw(this.query))for(;a.size>this.query.limit;){var c=nw(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k_()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new _C(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new gC,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=pC(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new xO(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new IO(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=pC();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return _C.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),AO=function(t,e,n){this.query=t,this.targetId=e,this.view=n},NO=function(t){this.key=t,this.yl=!1},PO=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new pE((function(t){return hw(t)}),cw),this.Dl=new Map,this.Cl=[],this.xl=new eC(tb.J),this.Nl=new Map,this.Ol=new dS,this.Fl={},this.kl=new Map,this.Ml=kE.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function RO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:return n=lT(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,iS(n.Sh,uw(e))];case 2:return o=s.sent(),a=n.pl.ka(o.targetId),[4,jO(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.$l&&YS(n.gl,o),s.label=4;case 4:return[2,r]}}))}))}function jO(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o,a,s,u,l;return Object($h.d)(this,(function(c){switch(c.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,aS(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.Ei(i,t.$l,o),[2,(KO(t,e.targetId,a.ml),a.snapshot)]}}))}))}(t,e,n,r)},[4,aS(t.Sh,e,!0)];case 1:return i=c.sent(),o=new DO(e,i.Pc),a=o.dl(i.documents),s=wC.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(a,t.$l,s),KO(t,n,u.ml),l=new AO(e,n,o),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function LO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return n=S_(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!cw(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,oS(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),XS(n.gl,r.targetId),GO(n,r.targetId)})).catch(dE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return GO(n,r.targetId),[4,oS(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function FO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:r=cT(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=S_(t),i=K_.now(),o=e.reduce((function(t,e){return t.add(e.key)}),pC());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var l=u[s],c=Vw(l,n.get(l.key));null!=c&&a.push(new Bw(l.key,c,Ib(c.proto.mapValue),Rw.exists(!0)))}return r.Ho.Pi(t,i,a,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new eC(I_)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,JO(r,i.oi)];case 3:return s.sent(),[4,uO(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=_k(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function MO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:n=S_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,eS(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(E_(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?E_(r.yl):t.Ke.size>0&&(E_(r.yl),r.yl=!1))})),[4,JO(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function VO(t,e,n){var r=S_(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=S_(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&EO(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function UO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object($h.d)(this,(function(l){switch(l.label){case 0:return(r=S_(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(a=(a=new eC(tb.J)).Ht(o,new Ab(o,Y_.min())),s=pC().add(o),u=new bC(Y_.min(),new Map,new iC(I_),a,s),[4,MO(r,u)]):[3,2];case 1:return l.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),XO(r),[3,4];case 2:return[4,oS(r.Sh,e,!1).then((function(){return GO(r,e,n)})).catch(dE)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function qO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:n=S_(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$E(n.Sh,e)];case 2:return i=o.sent(),WO(n,r,null),zO(n,r),n.pl.Oa(r,"acknowledged"),[4,JO(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function HO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:r=S_(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=S_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return E_(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),WO(r,e,n),zO(r,e),r.pl.Oa(e,"rejected",n),[4,JO(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function BO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:eO((n=S_(t)).gl)||__("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=S_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),a=_k(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function zO(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function WO(t,e,n){var r=S_(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function GO(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||QO(t,e)}))}function QO(t,e){var n=t.xl.get(e);null!==n&&(XS(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),XO(t))}function KO(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof IO?(t.Ol.sr(o.key,e),YO(t,o)):o instanceof xO?(__("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||QO(t,o.key)):k_()}}function YO(t,e){var n=e.key;t.xl.get(n)||(__("SyncEngine","New document in limbo: "+n),t.Cl.push(n),XO(t))}function XO(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new NO(e)),t.xl=t.xl.Ht(e,n),YS(t.gl,new yw(uw(ew(e.path)),n,2,Q_.U))}}function JO(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:return r=S_(t),i=[],o=[],a=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=KE.cc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return Object($h.d)(this,(function(c){switch(c.label){case 0:n=S_(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return uk.forEach(e,(function(e){return uk.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return uk.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!dk(r=c.sent()))throw r;return __("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.dc.get(s),l=u.Bt(u.Mt),n.dc=n.dc.Ht(s,l));return[2]}}))}))}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ZO(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:return(n=S_(t)).currentUser.isEqual(e)?[3,3]:(__("SyncEngine","User change. New user:",e.R()),[4,ZE(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new P_(N_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,JO(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function $O(t,e){var n=S_(t),r=n.Nl.get(e);if(r&&r.yl)return pC().add(r.key);var i=pC(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Sl.get(s[a]);i=i.ye(u.view.fl)}return i}function tT(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return[4,aS((n=S_(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&KO(n,e.targetId,i.ml),i)]}}))}))}function eT(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){return[2,uS((e=S_(t)).Sh).then((function(t){return JO(e,t)}))]}))}))}function nT(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o;return Object($h.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=S_(t),r=S_(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):uk.resolve(null)}))}))}((i=S_(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,uO(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(WO(i,e,r||null),zO(i,e),function(t,e){S_(S_(t).Ho).Ni(e)}(i.Sh,e)):k_(),a.label=4;case 4:return[4,JO(i,o)];case 5:return a.sent(),[3,7];case 6:__("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function rT(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object($h.d)(this,(function(l){switch(l.label){case 0:return lT(n=S_(t)),cT(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,iT(n,r.rt())]);case 1:return i=l.sent(),n.Ll=!0,[4,vO(n.gl,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)YS(n.gl,a[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(s=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?s.push(e):u=u.then((function(){return GO(n,e),oS(n.Sh,e,!0)})),XS(n.gl,e)})),[4,u]);case 4:return l.sent(),[4,iT(n,s)];case 5:return l.sent(),function(t){var e=S_(t);e.Nl.forEach((function(t,n){XS(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new eC(tb.J)}(n),n.Ll=!1,[4,vO(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function iT(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p;return Object($h.d)(this,(function(v){switch(v.label){case 0:n=S_(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(l=n.Dl.get(s=a[o]))&&0!==l.length?[4,iS(n.Sh,uw(l[0]))]:[3,7]):[3,13];case 2:u=v.sent(),c=0,h=l,v.label=3;case 3:return c<h.length?(f=n.Sl.get(h[c]),[4,tT(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,sS(n.Sh,s)];case 8:return p=v.sent(),[4,iS(n.Sh,p)];case 9:return u=v.sent(),[4,jO(n,oT(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function oT(t){return tw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function aT(t){var e=S_(t);return S_(S_(e.Sh).persistence).Qo()}function sT(t,e,n,r){return Object($h.b)(this,void 0,void 0,(function(){var i,o,a;return Object($h.d)(this,(function(s){switch(s.label){case 0:return(i=S_(t)).Ll?(__("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,uS(i.Sh)];case 3:return o=s.sent(),a=bC.$e(e,"current"===n),[4,JO(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,oS(i.Sh,e,!0)];case 6:return s.sent(),GO(i,e,r),[3,8];case 7:k_(),s.label=8;case 8:return[2]}}))}))}function uT(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h;return Object($h.d)(this,(function(f){switch(f.label){case 0:if(!(r=lT(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(a=o[i])?(__("SyncEngine","Adding an already active target "+a),[3,5]):[4,sS(r.Sh,a)]:[3,6];case 2:return s=f.sent(),[4,iS(r.Sh,s)];case 3:return u=f.sent(),[4,jO(r,oT(s),u.targetId,!1)];case 4:f.sent(),YS(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object($h.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,oS(r.Sh,t,!1).then((function(){XS(r.gl,t),GO(r,t)})).catch(dE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,f.label=7;case 7:return c<h.length?[5,l(h[c])]:[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function lT(t){var e=S_(t);return e.gl.Ch.Bh=MO.bind(null,e),e.gl.Ch.Sn=$O.bind(null,e),e.gl.Ch.$h=UO.bind(null,e),e.vl.uh=CO.bind(null,e.Vl),e.vl.ql=kO.bind(null,e.Vl),e}function cT(t){var e=S_(t);return e.gl.Ch.qh=qO.bind(null,e),e.gl.Ch.Uh=HO.bind(null,e),e}var hT=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return this.Kt=VS(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return JE(this.persistence,new YE,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new _S(wS.ra,this.Kt)},t.prototype.Wl=function(t){return new AS},t.prototype.terminate=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),fT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object($h.c)(e,t),e.prototype.initialize=function(e){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,lS(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,cT(this.Xl.fa)];case 4:return n.sent(),[4,uO(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return JE(this.persistence,new YE,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new DE(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=WE(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?fE.Xs(this.cacheSizeBytes):fE.ei;return new HE(this.synchronizeTabs,e,t.clientId,n,t.fs,FS(),MS(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new AS},e}(hT),dT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object($h.c)(e,t),e.prototype.initialize=function(e){return Object($h.b)(this,void 0,void 0,(function(){var n,r=this;return Object($h.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof DS?(this.pl.fa={nu:nT.bind(null,n),su:sT.bind(null,n),iu:uT.bind(null,n),Qo:aT.bind(null,n),eu:eT.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object($h.b)(r,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return[4,rT(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=FS();if(!DS.jn(e))throw new P_(N_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=WE(t.gu.T,t.gu.persistenceKey);return new DS(e,t.fs,n,t.clientId,t.Yl)},e}(fT),pT=function(){function t(){}return t.prototype.initialize=function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n=this;return Object($h.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return VO(n.fa,t,1)},this.gl.Ch.s_=ZO.bind(null,this.fa),[4,vO(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new _O},t.prototype.Zl=function(t){var e=VS(t.gu.T),n=new LS(t.gu);return function(t,e,n){return new zS(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return VO(a.fa,t,0)},o=PS.jn()?new PS:new NS,new GS(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new PO(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return e=S_(t),__("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,KS(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),vT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),yT=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new sk,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new OO(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new P_(N_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new $_(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),mT=function(t){this._methodName=t};function gT(t,e,n){if(!n)throw new P_(N_.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _T(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new P_(N_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function bT(t,e,n,r){if(!0===e&&!0===r)throw new P_(N_.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wT(t){if(!tb.Et(t))throw new P_(N_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function CT(t){if(tb.Et(t))throw new P_(N_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function kT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":k_()}function ET(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new P_(N_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kT(t);throw new P_(N_.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ST(t,e){if(e<=0)throw new P_(N_.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var OT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new P_(N_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new P_(N_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,bT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),TT=new Map,IT=function(){function t(t,e){this.w_="(lite)",this.E_=new OT({}),this.T_=!1,t instanceof U_?(this.I_=t,this.m_=new B_):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new P_(N_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U_(t.options.projectId)}(t),this.m_=new z_(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new P_(N_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new P_(N_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new OT(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new B_;switch(t.type){case"gapi":var e=t.client;return E_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new G_(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new P_(N_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=TT.get(this))&&(__("ComponentProvider","Removing Datastore"),TT.delete(this),t.terminate()),Promise.resolve();var t},t}(),xT=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new AT(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),DT=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),AT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ew(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new xT(this.firestore,null,new tb(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(DT);function NT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof j_&&(t=t._),gT("collection","path",e),t instanceof IT)return CT(n=J_.ct.apply(J_,Object($h.g)([e],r))),new AT(t,null,n);if(!(t instanceof xT||t instanceof AT))throw new P_(N_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CT(n=J_.ct.apply(J_,Object($h.g)([t.path],r)).child(J_.ct(e))),new AT(t.firestore,null,n)}function PT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof j_&&(t=t._),1===arguments.length&&(e=T_.t()),gT("doc","path",e),t instanceof IT)return wT(n=J_.ct.apply(J_,Object($h.g)([e],r))),new xT(t,null,new tb(n));if(!(t instanceof xT||t instanceof AT))throw new P_(N_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wT(n=t.D_.child(J_.ct.apply(J_,Object($h.g)([e],r)))),new xT(t.firestore,t instanceof AT?t.v_:null,new tb(n))}function RT(t,e){return t instanceof j_&&(t=t._),e instanceof j_&&(e=e._),(t instanceof xT||t instanceof AT)&&(e instanceof xT||e instanceof AT)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function jT(t,e){return t instanceof j_&&(t=t._),e instanceof j_&&(e=e._),t instanceof DT&&e instanceof DT&&t.firestore===e.firestore&&cw(t.C_,e.C_)&&t.v_===e.v_}var LT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new P_(N_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new P_(N_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return I_(this.x_,t.x_)||I_(this.N_,t.N_)},t}(),FT=/^__.*__$/,MT=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new Bw(t,this.data,this.zt,e,this.fieldTransforms):new Hw(t,this.data,e,this.fieldTransforms)},t}(),VT=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new Bw(t,this.data,this.zt,e,this.fieldTransforms)},t}();function UT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k_()}}var qT=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return sI(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(UT(this.k_)&&FT.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),HT=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||VS(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new qT({k_:t,methodName:e,W_:n,path:$_.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function BT(t){var e=t.p_(),n=VS(t.I_);return new HT(t.I_,!!e.ignoreUndefinedProperties,n)}function zT(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);rI("Data must be an object, but it was:",a,r);var s,u,l=eI(r,a);if(o.merge)s=new ib(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=iI(e,f[h],n);if(!a.contains(d))throw new P_(N_.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");uI(c,d)||c.push(d)}s=new ib(c),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new MT(new Ob(l),s,u)}var WT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(mT);function GT(t,e,n){return new qT({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var QT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.z_=function(t){return new Nw(t.path,new Ew)},e.prototype.isEqual=function(t){return t instanceof e},e}(mT),KT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object($h.c)(e,t),e.prototype.z_=function(t){var e=GT(this,t,!0),n=this.H_.map((function(t){return tI(t,e)})),r=new Sw(n);return new Nw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mT),YT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object($h.c)(e,t),e.prototype.z_=function(t){var e=GT(this,t,!0),n=this.H_.map((function(t){return tI(t,e)})),r=new Tw(n);return new Nw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mT),XT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object($h.c)(e,t),e.prototype.z_=function(t){var e=new xw(t.Kt,_w(t.Kt,this.J_));return new Nw(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(mT);function JT(t,e,n,r){var i=t.G_(1,e,n);rI("Data must be an object, but it was:",i,r);var o=[],a=new Tb;nb(r,(function(t,r){var s=aI(e,t,n);r instanceof j_&&(r=r._);var u=i.U_(s);if(r instanceof WT)o.push(s);else{var l=tI(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new ib(o);return new VT(a.yt(),s,i.fieldTransforms)}function ZT(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[iI(e,r,n)],u=[i];if(o.length%2!=0)throw new P_(N_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(iI(e,o[l])),u.push(o[l+1]);for(var c=[],h=new Tb,f=s.length-1;f>=0;--f)if(!uI(c,s[f])){var d=s[f],p=u[f];p instanceof j_&&(p=p._);var v=a.U_(d);if(p instanceof WT)c.push(d);else{var y=tI(p,v);null!=y&&(c.push(d),h.set(d,y))}}var m=new ib(c);return new VT(h.yt(),m,a.fieldTransforms)}function $T(t,e,n,r){return void 0===r&&(r=!1),tI(n,t.G_(r?4:3,e))}function tI(t,e){if(t instanceof j_&&(t=t._),nI(t))return rI("Unsupported field value:",e,t),eI(t,e);if(t instanceof mT)return function(t,e){if(!UT(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=tI(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof j_&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _w(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=K_.fromDate(t);return{timestampValue:NC(e.Kt,n)}}if(t instanceof K_)return n=new K_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:NC(e.Kt,n)};if(t instanceof LT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof R_)return{bytesValue:PC(e.Kt,t.l)};if(t instanceof xT){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:LC(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+kT(t))}(t,e)}function eI(t,e){var n={};return rb(t)?e.path&&e.path.length>0&&e.zt.push(e.path):nb(t,(function(t,r){var i=tI(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function nI(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof K_||t instanceof LT||t instanceof R_||t instanceof xT||t instanceof mT)}function rI(t,e,n){if(!nI(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=kT(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function iI(t,e,n){if(e instanceof j_&&(e=e._),e instanceof yT)return e.d_;if("string"==typeof e)return aI(t,e);throw sI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oI=new RegExp("[~\\*/\\[\\]]");function aI(t,e,n){if(e.search(oI)>=0)throw sI("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(yT.bind.apply(yT,Object($h.g)([void 0],e.split("."))))).d_}catch(r){throw sI("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function sI(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new P_(N_.INVALID_ARGUMENT,(s+=". ")+t+u)}function uI(t,e){return t.some((function(t){return t.isEqual(e)}))}var lI=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n=this;return Object($h.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new P_(N_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object($h.d)(this,(function(u){switch(u.label){case 0:return n=S_(t),r=HC(n.Kt)+"/documents",i={documents:e.map((function(t){return MC(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){E_(!!e.found);var n=VC(t,e.found.name),r=jC(e.found.updateTime),i=new Ob({mapValue:{fields:e.found.fields}});return new Db(n,r,i,{})}(t,e):"missing"in e?function(t,e){E_(!!e.missing),E_(!!e.readTime);var n=VC(t,e.missing),r=jC(e.readTime);return new Ab(n,r)}(t,e):k_()}(n.Kt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());E_(!!e),s.push(e)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Ab||t instanceof Db?n.sf(t):k_()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Xw(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e=this;return Object($h.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=tb.ft(n);e.mutations.push(new Jw(r,e.Gt(r)))})),[4,function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return n=S_(t),r=HC(n.Kt)+"/documents",i={writes:e.map((function(t){return GC(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Db)e=t.version;else{if(!(t instanceof Ab))throw k_();e=Y_.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new P_(N_.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Rw.updateTime(e):Rw.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Y_.min()))throw new P_(N_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rw.updateTime(e)}return Rw.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),cI=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new US(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object($h.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object($h.d)(this,(function(r){return t=new lI(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!hb(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$w(e)}return!1},t}(),hI=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=q_.UNAUTHENTICATED,this.clientId=T_.t(),this._f=function(){},this.N=new sk,this.credentials.S((function(t){__("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new P_(N_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new sk;return this.fs.Tf((function(){return Object($h.b)(t,void 0,void 0,(function(){var t,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_k(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function fI(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object($h.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),__("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object($h.b)(i,void 0,void 0,(function(){return Object($h.d)(this,(function(t){switch(t.label){case 0:return[4,ZE(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function dI(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,pI(t)];case 1:return n=i.sent(),__("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object($h.b)(this,void 0,void 0,(function(){var n,r;return Object($h.d)(this,(function(i){switch(i.label){case 0:return(n=S_(t)).fs.Af(),__("RemoteStore","RemoteStore received new credentials"),r=eO(n),n.Oh.add(3),[4,KS(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,QS(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function pI(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(__("FirestoreClient","Using default OfflineComponentProvider"),[4,fI(t,new hT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function vI(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(__("FirestoreClient","Using default OnlineComponentProvider"),[4,dI(t,new pT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function yI(t){return pI(t).then((function(t){return t.persistence}))}function mI(t){return pI(t).then((function(t){return t.Sh}))}function gI(t){return vI(t).then((function(t){return t.gl}))}function _I(t){return vI(t).then((function(t){return t.fa}))}function bI(t){return Object($h.b)(this,void 0,void 0,(function(){var e,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:return[4,vI(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=RO.bind(null,e.fa),n.Jh=LO.bind(null,e.fa),n)]}}))}))}function wI(t,e,n){var r=this;void 0===n&&(n={});var i=new sk;return t.fs.ys((function(){return Object($h.b)(r,void 0,void 0,(function(){var r;return Object($h.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new vT({next:function(o){e.ys((function(){return wO(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new P_(N_.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new P_(N_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new SO(ew(n.path),o,{includeMetadataChanges:!0,sl:!0});return bO(t,a)},[4,bI(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function CI(t,e,n){var r=this;void 0===n&&(n={});var i=new sk;return t.fs.ys((function(){return Object($h.b)(r,void 0,void 0,(function(){var r;return Object($h.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new vT({next:function(n){e.ys((function(){return wO(t,a)})),n.fromCache&&"server"===r.source?i.reject(new P_(N_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new SO(n,o,{includeMetadataChanges:!0,sl:!0});return bO(t,a)},[4,bI(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var kI=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new US(this,"async_queue_retry"),this.vf=function(){var e=MS();e&&__("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=MS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=MS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object($h.b)(this,void 0,void 0,(function(){var t,e=this;return Object($h.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!dk(t=n.sent()))throw t;return __("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,b_("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=gk.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&k_()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object($h.b)(this,void 0,void 0,(function(){var t;return Object($h.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),EI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new kI,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object($h.c)(e,t),e.prototype.b_=function(){return this.Lf||OI(this),this.Lf.terminate()},e}(IT);function SI(t){return t.Lf||OI(t),t.Lf.df(),t.Lf}function OI(t){var e=t.p_(),n=function(t,e,n){return new V_(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new hI(t.m_,t.Mf,n)}function TI(t,e,n){var r=this,i=new sk;return t.fs.enqueue((function(){return Object($h.b)(r,void 0,void 0,(function(){var r;return Object($h.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fI(t,n)];case 1:return o.sent(),[4,dI(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===N_.FAILED_PRECONDITION||t.code===N_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function II(t){if(t.R_||t.P_)throw new P_(N_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xI=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),pb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sb(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ub(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw k_()}},t.prototype.Wf=function(t,e){var n=this,r={};return nb(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new LT(sb(t.latitude),sb(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return lb(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(cb(t));default:return null}},t.prototype.Bf=function(t){var e=ab(t);return new K_(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=J_.ct(t);E_(ak(n));var r=new U_(n.get(1),n.get(3)),i=new tb(n.X(5));return r.isEqual(e)||b_("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),DI=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xT(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new AI(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(NI("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),AI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(DI);function NI(t,e){return"string"==typeof e?aI(t,e):e instanceof j_?e._.d_:e.d_}function PI(t){if(rw(t)&&0===t.Nt.length)throw new P_(N_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var RI=function(){};function jI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var LI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object($h.c)(e,t),e.prototype.Yf=function(t){var e=BT(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new P_(N_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){BI(a,o);for(var u=[],l=0,c=a;l<c.length;l++)u.push(HI(r,t,c[l]));s={arrayValue:{values:u}}}else s=HI(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||BI(a,o),s=$T(n,"where",a,"in"===o||"not-in"===o);var h=Mb.create(i,o,s);return function(t,e){if(e.xt()){var n=ow(t);if(null!==n&&!n.isEqual(e.field))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=iw(t);null!==r&&zI(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new P_(N_.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new DT(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new $b(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(RI),FI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object($h.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new P_(N_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new P_(N_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yb(e,n);return function(t,e){if(null===iw(t)){var n=ow(t);null!==n&&zI(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new DT(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new $b(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(RI),MI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object($h.c)(e,t),e.prototype.Yf=function(t){return new DT(t.firestore,t.v_,lw(t.C_,this.nd,this.sd))},e}(RI),VI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object($h.c)(e,t),e.prototype.Yf=function(t){var e=qI(t,this.type,this.rd,this.od);return new DT(t.firestore,t.v_,function(t,e){return new $b(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(RI),UI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object($h.c)(e,t),e.prototype.Yf=function(t){var e=qI(t,this.type,this.rd,this.od);return new DT(t.firestore,t.v_,function(t,e){return new $b(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(RI);function qI(t,e,n,r){if(n[0]instanceof j_&&(n[0]=n[0]._),n[0]instanceof DI)return function(t,e,n,r,i){if(!r)throw new P_(N_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=sw(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(bb(e,r.key));else{var l=r.field(u.field);if(lb(l))throw new P_(N_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.ot();throw new P_(N_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Qb(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=BT(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new P_(N_.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.ht()){if("string"!=typeof l)throw new P_(N_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!aw(t)&&-1!==l.indexOf("/"))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(J_.ct(l));if(!tb.Et(c))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new tb(c);s.push(bb(e,h))}else{var f=$T(n,r,l);s.push(f)}}return new Qb(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function HI(t,e,n){if(n instanceof j_&&(n=n._),"string"==typeof n){if(""===n)throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(e)&&-1!==n.indexOf("/"))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(J_.ct(n));if(!tb.Et(r))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bb(t,new tb(r))}if(n instanceof xT)return bb(t,n.S_);throw new P_(N_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kT(n)+".")}function BI(t,e){if(!Array.isArray(t)||0===t.length)throw new P_(N_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new P_(N_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zI(t,e,n){if(!n.isEqual(e))throw new P_(N_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function WI(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function GI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var QI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($h.c)(e,t),e.prototype.Uf=function(t){return new R_(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xT(this.firestore,null,e)},e}(xI),KI=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),YI=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return Object($h.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new XI(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(NI("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(DI),XI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(YI),JI=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new KI(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new XI(n.zf,n.Hf,r.key,r,new KI(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new P_(N_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new XI(t.zf,t.Hf,e.doc.key,e.doc,new KI(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new XI(t.zf,t.Hf,e.doc.key,e.doc,new KI(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ZI(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function ZI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k_()}}function $I(t,e){return t instanceof YI&&e instanceof YI?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof JI&&e instanceof JI&&t.zf===e.zf&&jT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var tx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($h.c)(e,t),e.prototype.Uf=function(t){return new R_(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new xT(this.firestore,null,e)},e}(xI);function ex(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ET(t,xT);var o=ET(t.firestore,EI),a=BT(o);return e instanceof j_&&(e=e._),rx(o,[("string"==typeof e||e instanceof yT?ZT(a,"updateDoc",t.S_,e,n,r):JT(a,"updateDoc",t.S_,e)).O_(t.S_,Rw.exists(!0))])}function nx(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof j_&&(t=t._);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||WI(i[s])||(a=i[s],s++);var u,l,c,h={includeMetadataChanges:a.includeMetadataChanges};if(WI(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof xT)l=ET(t.firestore,EI),c=ew(t.S_.path),u={next:function(e){i[s]&&i[s](ix(l,t,e))},error:i[s+1],complete:i[s+2]};else{var d=ET(t,DT);l=ET(d.firestore,EI),c=d.C_;var p=new tx(l);u={next:function(t){i[s]&&i[s](new JI(l,p,d,t))},error:i[s+1],complete:i[s+2]},PI(t.C_)}return function(t,e,n,r){var i=this,o=new vT(r),a=new SO(e,o,n);return t.fs.ys((function(){return Object($h.b)(i,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return e=bO,[4,bI(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object($h.b)(i,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return e=wO,[4,bI(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(SI(l),c,h,u)}function rx(t,e){return function(t,e){var n=this,r=new sk;return t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var n;return Object($h.d)(this,(function(i){switch(i.label){case 0:return n=FO,[4,_I(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(SI(t),e)}function ix(t,e,n){var r=n.docs.get(e.S_),i=new tx(t);return new YI(t,i,e.S_,r,new KI(n.hasPendingWrites,n.fromCache),e.v_)}var ox=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=BT(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=ax(t,this.zf),i=GI(r.v_,e,n),o=zT(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Rw.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=ax(t,this.zf);return e instanceof j_&&(e=e._),o="string"==typeof e||e instanceof yT?ZT(this.wd,"WriteBatch.update",a.S_,e,n,r):JT(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.O_(a.S_,Rw.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=ax(t,this.zf);return this.fd=this.fd.concat(new Xw(e.S_,Rw.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new P_(N_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ax(t,e){if(t instanceof j_&&(t=t._),t.firestore!==e)throw new P_(N_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var sx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object($h.c)(e,t),e.prototype.get=function(e){var n=this,r=ax(e,this.zf),i=new tx(this.zf);return t.prototype.get.call(this,e).then((function(t){return new YI(n.zf,i,r.S_,t.Jf,new KI(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=BT(t)}return t.prototype.get=function(t){var e=this,n=ax(t,this.zf),r=new QI(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return k_();var i=t[0];if(i instanceof Ab)return new DI(e.zf,r,n.S_,null,n.v_);if(i instanceof Db)return new DI(e.zf,r,i.key,i,n.v_);throw k_()}))},t.prototype.set=function(t,e,n){var r=ax(t,this.zf),i=GI(r.v_,e,n),o=zT(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ax(t,this.zf);return e instanceof j_&&(e=e._),o="string"==typeof e||e instanceof yT?ZT(this.wd,"Transaction.update",a.S_,e,n,r):JT(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=ax(t,this.zf);return this.Td.delete(e.S_),this},t}()),ux=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){II(t=ET(t,EI));var n=SI(t),r=t.p_(),i=new pT;return TI(n,i,new fT(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){II(t=ET(t,EI));var e=SI(t),n=t.p_(),r=new pT;return TI(e,r,new dT(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new P_(N_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sk;return t.Mf.Tf((function(){return Object($h.b)(e,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object($h.b)(this,void 0,void 0,(function(){return Object($h.d)(this,(function(e){switch(e.label){case 0:return ck.jn()?[4,ck.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(WE(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),lx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof U_||(i.md=e),i}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=ET(t,IT)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&w_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object($h.b)(e,void 0,void 0,(function(){var e,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:return[4,yI(t)];case 1:return e=r.sent(),[4,gI(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=S_(t);return e.Oh.delete(0),QS(e)}(n))]}}))}))}))}(SI(ET(this._,EI)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object($h.b)(e,void 0,void 0,(function(){var e,n;return Object($h.d)(this,(function(r){switch(r.label){case 0:return[4,yI(t)];case 1:return e=r.sent(),[4,gI(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object($h.b)(this,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return(e=S_(t)).Oh.add(0),[4,KS(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(SI(ET(this._,EI)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&bT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sk;return t.fs.ys((function(){return Object($h.b)(e,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(r){switch(r.label){case 0:return e=BO,[4,_I(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(SI(ET(this._,EI)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new vT(e);return t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){S_(t).Wh.add(e),e.next()},[4,bI(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var e;return Object($h.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){S_(t).Wh.delete(e)},[4,bI(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(SI(t=ET(t,EI)),WI(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new P_(N_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cx(this,NT(this._,t))}catch(t){throw px(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new dx(this,PT(this._,t))}catch(t){throw px(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new _x(this,function(t,e){if(t=ET(t,IT),gT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new P_(N_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new DT(t,null,function(t){return new $b(J_.at(),t)}(e))}(this._,t))}catch(t){throw px(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new sk;return t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var n;return Object($h.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return vI(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new cI(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(SI(t),(function(n){return e(new sx(t,n))}))}(this._,(function(n){return t(new hx(e,n))}))},e.prototype.batch=function(){var t=this;return SI(this._),new fx(new ox(this._,(function(e){return rx(t._,e)})))},e.prototype.loadBundle=function(t){throw new P_(N_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new P_(N_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(j_),cx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object($h.c)(e,t),e.prototype.Uf=function(t){return new M_(new R_(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return dx.Ad(e,this.firestore,null)},e}(xI),hx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new cx(e),r}return Object($h.c)(e,t),e.prototype.get=function(t){var e=this,n=kx(t);return this._.get(n).then((function(t){return new mx(e.zf,new YI(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=kx(t);return n?(_T("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=kx(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object($h.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=kx(t);return this._.delete(e),this},e}(j_),fx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.set=function(t,e,n){var r=kx(t);return n?(_T("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=kx(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object($h.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=kx(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(j_),dx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new cx(e),r}return Object($h.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new P_(N_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new xT(n._,r,new tb(t)))},e.Ad=function(t,n,r){return new e(n,new xT(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cx(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cx(this.firestore,NT(this._,t))}catch(t){throw px(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof j_&&(t=t._),t instanceof xT&&RT(this._,t)},e.prototype.set=function(t,e){e=_T("DocumentReference.set",e);try{return function(t,e,n){t=ET(t,xT);var r=ET(t.firestore,EI),i=GI(t.v_,e,n);return rx(r,[zT(BT(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Rw.jt())])}(this._,t,e)}catch(t){throw px(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ex(this._,t):ex.apply(void 0,Object($h.g)([this._,t,e],n))}catch(t){throw px(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return rx(ET((t=this._).firestore,EI),[new Xw(t.S_,Rw.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vx(e),i=yx(e,(function(e){return new mx(t.firestore,new YI(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return nx(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ET(t,xT);var e=ET(t.firestore,EI),n=SI(e),r=new tx(e);return function(t,e){var n=this,r=new sk;return t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var n;return Object($h.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i;return Object($h.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=S_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Db?n.resolve(i):i instanceof Ab?n.resolve(null):n.reject(new P_(N_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_k(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,mI(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new YI(e,r,t.S_,n,new KI(n instanceof Db&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ET(t,xT);var e=ET(t.firestore,EI);return wI(SI(e),t.S_,{source:"server"}).then((function(n){return ix(e,t,n)}))}(this._):function(t){t=ET(t,xT);var e=ET(t.firestore,EI);return wI(SI(e),t.S_).then((function(n){return ix(e,t,n)}))}(this._)).then((function(t){return new mx(e.firestore,new YI(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(j_);function px(t,e,n){return t.message=t.message.replace(e,n),t}function vx(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!WI(r))return r}return{}}function yx(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=WI(t[0])?t[0]:WI(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new dx(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return $I(this._,t._)},e}(j_),gx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(mx),_x=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new cx(e),r}return Object($h.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,jI(this._,function(t,e,n){var r=e,i=NI("where",t);return new LI(i,r,n)}(t,n,r)))}catch(t){throw px(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jI(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=NI("orderBy",t);return new FI(r,n)}(t,n)))}catch(t){throw px(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jI(this._,function(t){return ST("limit",t),new MI("limit",t,"F")}(t)))}catch(t){throw px(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jI(this._,function(t){return ST("limitToLast",t),new MI("limitToLast",t,"L")}(t)))}catch(t){throw px(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jI(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VI("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw px(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jI(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VI("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw px(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jI(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UI("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw px(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jI(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new UI("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw px(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jT(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ET(t,DT);var e=ET(t.firestore,EI),n=SI(e),r=new tx(e);return function(t,e){var n=this,r=new sk;return t.fs.ys((function(){return Object($h.b)(n,void 0,void 0,(function(){var n;return Object($h.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object($h.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object($h.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,aS(t,e,!0)];case 1:return s=u.sent(),r=new DO(e,s.Pc),i=r.dl(s.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=_k(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,mI(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new JI(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=ET(t,DT);var e=ET(t.firestore,EI),n=SI(e),r=new tx(e);return CI(n,t.C_,{source:"server"}).then((function(n){return new JI(e,r,t,n)}))}(this._):function(t){t=ET(t,DT);var e=ET(t.firestore,EI),n=SI(e),r=new tx(e);return PI(t.C_),CI(n,t.C_).then((function(n){return new JI(e,r,t,n)}))}(this._)).then((function(t){return new wx(e.firestore,new JI(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vx(e),i=yx(e,(function(e){return new wx(t.firestore,new JI(t.firestore._,t.Hf,t._,e.ud))}));return nx(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(j_),bx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new gx(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(j_),wx=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new _x(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new gx(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new bx(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new gx(n.zf,r))}))},e.prototype.isEqual=function(t){return $I(this._,t._)},e}(j_),Cx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object($h.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new dx(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dx(this.firestore,void 0===t?PT(this._):PT(this._,t))}catch(t){throw px(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ET(t.firestore,EI),r=PT(t),i=GI(t.v_,e);return rx(n,[zT(BT(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Rw.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new dx(e.firestore,t)}))},e.prototype.isEqual=function(t){return RT(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(_x);function kx(t){return t instanceof j_&&(t=t._),ET(t,xT)}var Ex=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(yT.bind.apply(yT,Object($h.g)([void 0],e))))||this}return Object($h.c)(e,t),e.documentId=function(){return new e($_.lt().ot())},e.prototype.isEqual=function(t){return t instanceof j_&&(t=t._),t instanceof yT&&this._.d_.isEqual(t.d_)},e}(j_),Sx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object($h.c)(e,t),e.serverTimestamp=function(){var t=new QT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new WT("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KT("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new YT("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new XT("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(j_);!function(){function t(){this.Pd={},this.yd=new sk,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Ox,Tx=n("/6Yf"),Ix={Firestore:lx,GeoPoint:LT,Timestamp:K_,Blob:M_,Transaction:hx,WriteBatch:fx,DocumentReference:dx,DocumentSnapshot:mx,Query:_x,QueryDocumentSnapshot:gx,QuerySnapshot:wx,CollectionReference:Cx,FieldPath:Ex,FieldValue:Sx,setLogLevel:function(t){m_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function xx(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.a;return new Q.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function Dx(t,e){return xx(t,e).pipe(Object(st.a)((function(t){return{payload:t,type:"query"}})))}function Ax(t,e){return Dx(t,e).pipe(Bt(void 0),id(),Object(st.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function Nx(t,e,n){return Ax(t,n).pipe(zt((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Px(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Px(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Px(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),ed(),Object(st.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Px(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function Rx(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Tx.a("firestore",(function(t){return function(t,e){return new lx(t,new EI(t,e),new ux)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ix)))})(Ox=vv.a),Ox.registerVersion("@firebase/firestore","2.1.2");var jx=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=Ax(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(st.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Bt(void 0),id(),ht((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(st.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(zt((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Rx(t);return Nx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(B.a)(this.query.get(t)).pipe(Object(ef.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Lx(this.ref.doc(t),this.afs)}}]),t}(),Lx=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Hx(this.ref.collection(t),e),r=n.ref,i=n.query;return new jx(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return xx(this.ref,this.afs.schedulers.outsideAngular).pipe(Bt(void 0),id(),Object(st.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(st.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(B.a)(this.ref.get(t)).pipe(Object(ef.b)(this.afs.schedulers.insideAngular))}}]),t}(),Fx=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Ax(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),ht((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Ax(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(zt((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Rx(t);return Nx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(st.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(B.a)(this.query.get(t)).pipe(Object(ef.b)(this.afs.schedulers.insideAngular))}}]),t}(),Mx=new r.o("angularfire2.enableFirestorePersistence"),Vx=new r.o("angularfire2.firestore.persistenceSettings"),Ux=new r.o("angularfire2.firestore.settings"),qx=new r.o("angularfire2.firestore.use-emulator");function Hx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Bx,zx,Wx=((Bx=function(){function t(e,n,r,i,o,a,s,u,l){_classCallCheck(this,t),this.schedulers=new ff.e(a),this.keepUnstableUntilFirst=Object(ff.i)(this.schedulers);var c=Object(ff.h)(e,a,n);!tf.a.auth&&l&&Object(ff.k)();var h=u,f=_slicedToArray(Object(ff.g)(c.name+".firestore","AngularFirestore",c,(function(){var t=a.runOutsideAngular((function(){return c.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!M(o)?[t,a.runOutsideAngular((function(){try{return Object(B.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(Ox){return"undefined"!=typeof console&&console.warn(Ox),Object(H.a)(!1)}}))]:[t,Object(H.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=Hx("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new jx(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Fx(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new Lx(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275prov=Object(r.Pb)({factory:function(){return new Bx(Object(r.Qb)(ff.c),Object(r.Qb)(ff.b,8),Object(r.Qb)(Mx,8),Object(r.Qb)(Ux,8),Object(r.Qb)(r.z),Object(r.Qb)(r.x),Object(r.Qb)(Vx,8),Object(r.Qb)(qx,8),Object(r.Qb)(df,8))},token:Bx,providedIn:"any"}),Bx),Gx=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:Mx,useValue:!0},{provide:Vx,useValue:e}]}}}]),t}(),Qx=Object(st.a)((function(t){return!!t})),Kx=((zx=function t(e,n){var r=this;_classCallCheck(this,t),this.router=e,this.auth=n,this.canActivate=function(t,e){var n=t.data.authGuardPipe||function(){return Qx};return r.auth.user.pipe(At(1),n(t,e),Object(st.a)((function(t){return"boolean"==typeof t?t:Array.isArray(t)?r.router.createUrlTree(t):r.router.parseUrl(t)})))}}).\u0275prov=Object(r.Pb)({factory:function(){return new zx(Object(r.Qb)(bi),Object(r.Qb)(_f))},token:zx,providedIn:"any"}),zx),Yx=function(t){return Object(Kt.a)(Qx,Object(st.a)((function(e){return e&&t||!0})))},Xx={authGuardPipe:function(){return Yx(["home"])}},Jx={authGuardPipe:function(){return Yx(["home"])}},Zx={authGuardPipe:function(){return t=["login"],Object(Kt.a)(Qx,Object(st.a)((function(e){return e||t})));var t}},$x=function t(){_classCallCheck(this,t)},tD=function t(){_classCallCheck(this,t)},eD=function t(){_classCallCheck(this,t)},nD=function t(){_classCallCheck(this,t)},rD=function t(){_classCallCheck(this,t)},iD=r.pb(i,[o],(function(t){return r.Ab([r.Bb(512,r.j,r.ab,[[8,[Yi,Gh,Of,Df,Ff,zf,ip,Hp]],[3,r.j],r.v]),r.Bb(5120,r.s,r.mb,[[3,r.s]]),r.Bb(4608,m,g,[r.s,[2,y]]),r.Bb(5120,r.ib,r.nb,[r.x]),r.Bb(5120,r.c,r.jb,[]),r.Bb(5120,r.q,r.kb,[]),r.Bb(5120,r.r,r.lb,[]),r.Bb(4608,Ge,Qe,[F]),r.Bb(6144,r.F,null,[Ge]),r.Bb(4608,Ue,ea,[[2,Zo],[2,Go]]),r.Bb(5120,ve,(function(t,e,n,r,i,o,a,s){return[new Me(t,e,n),new We(r),new He(i,o,a,s)]}),[F,r.x,r.z,F,F,Ue,r.bb,[2,qe]]),r.Bb(4608,ye,ye,[ve,r.x]),r.Bb(135680,_e,_e,[F]),r.Bb(4608,Ee,Ee,[ye,_e,r.c]),r.Bb(5120,os,Gu,[]),r.Bb(5120,Qs,Qu,[]),r.Bb(4608,bu,Wu,[F,os,Qs]),r.Bb(5120,r.D,Ku,[Ee,bu,r.x]),r.Bb(6144,ge,null,[_e]),r.Bb(4608,r.L,r.L,[r.x]),r.Bb(5120,hr,Hi,[bi]),r.Bb(4608,xi,xi,[]),r.Bb(6144,Ti,null,[xi]),r.Bb(135680,Di,Di,[bi,r.u,r.i,r.p,Ti]),r.Bb(4608,Ii,Ii,[]),r.Bb(5120,Ai,Fi,[bi,U,Ni]),r.Bb(5120,Gi,Wi,[Bi]),r.Bb(5120,r.b,(function(t,e){return[t,e]}),[Gi,Gi]),r.Bb(4608,Xi,Mu,[r.D,F]),r.Bb(4608,Xc,Jc,[F,r.z,Kc]),r.Bb(4608,Zc,Zc,[Xc,Yc]),r.Bb(5120,Hc,(function(t,e){return[t,new Bp(e)]}),[Zc,Pp]),r.Bb(4608,Gc,Gc,[]),r.Bb(6144,Wc,null,[Gc]),r.Bb(4608,Qc,Qc,[Wc]),r.Bb(6144,Sc,null,[Qc]),r.Bb(4608,Ec,$c,[Sc,r.p]),r.Bb(4608,Uc,Uc,[Ec]),r.Bb(4608,sc,sc,[]),r.Bb(4608,Jo,Jo,[]),r.Bb(4608,Wd,Wd,[Td,Ld,r.j,Bd,jd,r.p,r.x,F,Fa,[2,c]]),r.Bb(5120,Gd,Qd,[Wd]),r.Bb(5120,Xd,Jd,[Wd]),r.Bb(5120,zp,Wp,[Wd]),r.Bb(4608,bl,bl,[]),r.Bb(4608,ic,ic,[]),r.Bb(5120,ff.d,ff.h,[ff.c,r.x,[2,ff.b]]),r.Bb(4608,dv,dv,[ff.c,[2,ff.b],[2,hv],r.z,r.x,[2,fv],[2,df]]),r.Bb(4608,Wx,Wx,[ff.c,[2,ff.b],[2,Mx],[2,Ux],r.z,r.x,[2,Vx],[2,qx],[2,df]]),r.Bb(4608,_f,_f,[ff.c,[2,ff.b],r.z,r.x,[2,df],[2,pf],[2,vf],[2,yf],[2,mf],[2,gf]]),r.Bb(4608,Kx,Kx,[bi,_f]),r.Bb(1073742336,L,L,[]),r.Bb(1024,r.l,nn,[]),r.Bb(1024,r.w,(function(){return[ji(),ji()]}),[]),r.Bb(512,Bi,Bi,[r.p]),r.Bb(1024,r.d,(function(t,e,n){return[(r=t,fe("probe",pe),fe("coreTokens",Object.assign({},de,(r||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return pe}),zi(e),zi(n)];var r}),[[2,r.w],Bi,Bi]),r.Bb(512,r.e,r.e,[[2,r.d]]),r.Bb(131584,r.g,r.g,[r.x,r.bb,r.p,r.l,r.j,r.e]),r.Bb(1073742336,r.f,r.f,[r.g]),r.Bb(1073742336,rn,rn,[[3,rn]]),r.Bb(1024,Pi,Vi,[[3,bi]]),r.Bb(512,Bn,zn,[]),r.Bb(512,Ei,Ei,[]),r.Bb(256,Ni,{},[]),r.Bb(1024,u,Mi,[a,[2,l],Ni]),r.Bb(512,c,c,[u,a]),r.Bb(512,r.i,r.i,[]),r.Bb(512,r.u,r.I,[r.i,[2,r.J]]),r.Bb(1024,di,(function(){return[[{path:"home",component:Rh},{path:"login",component:Zh,canActivate:[Kx],data:Xx},{path:"resetpassword",component:Tf},{path:"register",component:Af,canActivate:[Kx],data:Jx},{path:"profile",component:Mf,canActivate:[Kx],data:Zx},{path:"**",redirectTo:"home",pathMatch:"full"}],[{path:"",component:Rh},{path:"dictionary/:dict",component:Rh}]]}),[]),r.Bb(1024,bi,qi,[r.g,Bn,Ei,c,r.p,r.u,r.i,di,Ni,[2,vi],[2,hi]]),r.Bb(1073742336,Li,Li,[[2,Pi],[2,bi]]),r.Bb(1073742336,$x,$x,[]),r.Bb(1073742336,Xu,Xu,[]),r.Bb(1073742336,th,th,[]),r.Bb(1073742336,eh,eh,[]),r.Bb(1073742336,Ma,Ma,[]),r.Bb(1073742336,Go,Go,[[2,Wo],[2,qe]]),r.Bb(1073742336,po,po,[]),r.Bb(1073742336,ca,ca,[]),r.Bb(1073742336,Yh,Yh,[]),r.Bb(1073742336,xh,xh,[]),r.Bb(1073742336,cc,cc,[]),r.Bb(1073742336,Da,Da,[]),r.Bb(1073742336,Ph,Ph,[]),r.Bb(1073742336,Qf,Qf,[]),r.Bb(1073742336,bp,bp,[]),r.Bb(1073742336,Bo,Bo,[]),r.Bb(1073742336,gd,gd,[]),r.Bb(1073742336,hd,hd,[]),r.Bb(1073742336,Kd,Kd,[]),r.Bb(1073742336,ep,ep,[]),r.Bb(1073742336,cp,cp,[]),r.Bb(1073742336,gh,gh,[]),r.Bb(1073742336,na,na,[]),r.Bb(1073742336,ha,ha,[]),r.Bb(1073742336,tD,tD,[]),r.Bb(1073742336,eD,eD,[]),r.Bb(1073742336,nD,nD,[]),r.Bb(1073742336,ja,ja,[]),r.Bb(1073742336,Gp,Gp,[]),r.Bb(1073742336,Qp,Qp,[]),r.Bb(1073742336,Tp,Tp,[]),r.Bb(1073742336,Ip,Ip,[]),r.Bb(1073742336,rc,rc,[]),r.Bb(1073742336,oc,oc,[]),r.Bb(1073742336,ac,ac,[]),r.Bb(1073742336,rD,rD,[]),r.Bb(1073742336,ff.a,ff.a,[r.z]),r.Bb(1073742336,pv,pv,[]),r.Bb(1073742336,Gx,Gx,[]),r.Bb(1073742336,bf,bf,[]),r.Bb(1073742336,i,i,[]),r.Bb(256,r.Z,!0,[]),r.Bb(256,Yu,"BrowserAnimations",[]),r.Bb(256,Kc,"XSRF-TOKEN",[]),r.Bb(256,Yc,"X-XSRF-TOKEN",[]),r.Bb(256,ff.c,{apiKey:"AIzaSyDlnOB-diEP8Q6KayisW9qeqqJ9WzIk8C4",authDomain:"liberfy-e95f6.firebaseapp.com",projectId:"liberfy-e95f6",storageBucket:"liberfy-e95f6.appspot.com",messagingSenderId:"455918102813",appId:"1:455918102813:web:e18c227b725a1af9f799f4",measurementId:"G-DX7P2HNKF5"},[]),r.Bb(256,ff.b,void 0,[])])}));Object(r.S)(),en().bootstrapModuleFactory(iD).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);